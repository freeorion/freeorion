
    Make the BLD_LIGHTHOUSE effect more gradual and less effective for planets/buildings
    was -30, now between -20 to -30 for ships and -0 to -10 for all other objects


    Replaced graphics for colony base hull. Previous version renamed, adding "-old" to filename. (#4314)


    Tweak probability of Ancient Guardians (#4289)
    * Make ancient guardians less common
    * Tweak default RULE_MINIMUM_MONSTER_DISTANCE_CAPITAL value

    * Add details to luxury specials in pedia

    Fix pedia for robo shields (#4302)



    Fix alliance victory if diplomacy is forbidden
    If diplomacy is forbidden the empires in peace cannot do anything with
    it and have to wait for tech victory, experimenters victory or
    concede of other.



    Fix independent colony population special (#4285)
    
    population growth happens happens much earlier than the other target meters,
    so the override needs to be the one for population
    
    currently, lembalam and uninhabitable effects also happen at this priority,
    but it is impossible to mix with independence, so that priority works



    correct / tweak hint about exobots



    ! Add supply traversals for borders for common allies of both suppliers (#4264)
    
    ! Add supply traversals for borders for common allies of both suppliers - fix transitive use of allied supply



    Remove fuel rounding hacks since meters use fixed point arithmetics (#4268)


    Tweak Hyperspatial Dam (#4222)


    Make it possible to hide the kraken nests from turn 1 and 2 (#4226)
    monster nests are supposed to have a chance to go hidden under cloud spawns
    this does not work correctly for krakens (because those nests can also be created in turns 1 and 2)
    discussion https://www.freeorion.org/forum/viewtopic.php?p=114618#p114618
    this fixes this extending the possible turns and at the same time restricting to the turn after the nest was added


    Tweak stealth and distance to empire of kraken in the ice special (#4248)

    Fix scattered hull pedia entry (#4254)


    Fix species modifier for Troop Techs (#4221)






    Add stealth bonus info about colonies in SPY_PLANET_STEALTH_MOD_DESC
    Add extra sources of detection to METER_DETECTION_VALUE_DESC

    Move effects checks to last at species parser test





    -further tweak allied supply merging to not give allies of allies access to networks if they aren't themselves allies, but to allow mutual allies to connect across several other allies networks
    -additional trace supply logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    boost::bind to lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store Wnd children in vector instead of list
    -replace functors with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace compile-error-causing using with lambda


Author: geoffthemedio <geoffthemedio@gmail.com>


    add rounding tests for meter


Author: geoffthemedio <geoffthemedio@gmail.com>


    -change requirement for adding supply connections to allied systems when an empire's supply propagation into the allied system is obstructed to be that the ally should have propagated supply there, rather than that there be obstructed traversals between systems in both directions.
    -iterate merging allied supply networked repeatedly
    -add more trace supply logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    additional trace logging in supply updates


Author: geoffthemedio <geoffthemedio@gmail.com>


    use std::queue for queues


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


 / moved getters / setters into header


Author: geoffthemedio <geoffthemedio@gmail.com>


    use std::queue for a queue


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace class template specialization with if constexpr



Author: geoffthemedio <geoffthemedio@gmail.com>


    check types before any_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    tpyo


Author: geoffthemedio <geoffthemedio@gmail.com>


    set game rules in AI client after extracting from game start message. hopefully addresses #4124


Author: geoffthemedio <geoffthemedio@gmail.com>


    require partial visibility to generate an object damage in combat sitrep. might address issue #3536


Author: geoffthemedio <geoffthemedio@gmail.com>


    tooltip warning about possible rule issue


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Fix upload artefact name (#4210)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Update skeleton generator doc parser (#4209)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Fix LGTM warnings (#4204)


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Add windows artefact building on master branch (#4203)


Author: O01eg <o01eg@yandex.ru>


    Add more checks for Godot unit tests


Author: agrrr3 <axel.gross@iaeste.at>


    Fix doc in EffectParser1 (#4192)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix meter rounding issues (#4206)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Add option to use conformance (#4137)
    
    * Add option to use conformance
    
    * Review update


Author: O01eg <o01eg@yandex.ru>


    Run godot unit tests in dockerized CI


Author: O01eg <o01eg@yandex.ru>


    Remove use of std::function in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Strip android libraries before packaging


Author: O01eg <o01eg@yandex.ru>


    Detect godot executable in Dockerized CI


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract tech queue header check (#4174)


Author: O01eg <o01eg@yandex.ru>


    Test build of godot client in docker CI


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Extract cmake build to action (#4180)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Text cleanup and code folding removal (#4197)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Reduce error to warning as agreed in dev meeting (#4196)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Move unused code to special function (#4185)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Pedia tweaks (#4183)
    
    * Tweak Fuel Page
    
    * Tweak Detection Strength Page
    
    * Add Stealth/Detection Modifiers for star type to Pedia
    
    * Add fleet unstealthiness penalty to pedia


Author: O01eg <o01eg@yandex.ru>


    Add Object condition, MoveTowards effect and non equal operation


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace boost::bind with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    move getter into header


Author: geoffthemedio <geoffthemedio@gmail.com>


    disable warning arising from Boost code


Author: geoffthemedio <geoffthemedio@gmail.com>


    make GG::Clr constructor from hex colour string more flexible


Author: geoffthemedio <geoffthemedio@gmail.com>


    refactor converting hex colours to array of uint8_t in EmpireManager


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store state changed signal in scoped connection
    -render BuildingIndicator scanline with a ScanlineControl so that they actually appear
    -removed redundant GetMeter


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't need separate const-lvalue-reference and rvalue-ref overloads for InstallEventFilter when the pointer is always copied



Author: geoffthemedio <geoffthemedio@gmail.com>


    -add default position and size parameter values to ScanlineControl constructor
    -reorder members
    -reposition comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    -boost::bind to lambdas
    -store connection in scoped connection
    -move BuildingsPanel ScanlineRenderer to file scope



Author: geoffthemedio <geoffthemedio@gmail.com>


    -boost::bind to lambdas
    -store connection in a scoped connection to prevent dangling reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    logging tweaks


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -reorder members to hopefully reduce padding bytes
    -move trivial getters into header and make noexcept



Author: geoffthemedio <geoffthemedio@gmail.com>


    reorder members to reduce padding bytes


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace boost::bind with lambda
    -pass string with move
    -pass and store function by const reference or with move as appropriate



Author: geoffthemedio <geoffthemedio@gmail.com>


    replace boost::bind with lambda


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some boost::bind with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some boost::bind with lambdas


Author: O01eg <o01eg@yandex.ru>


    Add WithinDistance condition to Python FOCS parser


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Oct 1, 2022 - 065f16d)


Author: O01eg <o01eg@yandex.ru>


    Implement MoveTo effect in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Autodeploy MacOS installer to SorceForge


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix inconsistant tags (#4178)


Author: O01eg <o01eg@yandex.ru>


    Add WithinStarlaneJumps condition and value ref operators


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Add skip for isort to speed it up (#4179)


Author: Andrey <Cjkjvfnby@gmail.com>


    Add cross-reference READMEs to string tables and st-tool (#4170)
    
    * Move string tables docs
    
    * Add cross-reference to the st-tool
    
    * Fix formatting


Author: Andrey <Cjkjvfnby@gmail.com>


    Bum actions and restricts some build runs (#4177)


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Use actions for linting (#4176)


Author: O01eg <o01eg@yandex.ru>


    Change operator < to return value test instead of condition


Author: O01eg <o01eg@yandex.ru>


    Add SetStarType effect and ValueRefDouble/float operator


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI][Charting] Fix imports to avoid crashes when collecting tests (#4171)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Bump development tools versions (#4172)
    
    * Bump tools version
    * Bump pre-commit tools versions
    * Reformat make_versioncpp.py with black


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI]  Played with patch and mock to add some more tests (#4165)
    
    * Played with patch and mock to add some more tests
    
    * Review changes
    
    * More simplifications


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Rework Replicon (#4096)


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused signals


Author: geoffthemedio <geoffthemedio@gmail.com>


    store option change signals by value not shared pointer


Author: geoffthemedio <geoffthemedio@gmail.com>


    make OptionChangedSignal taking string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace ConditionalConnectOption with a lambda. should fix crash when toggling auto repositioning windows option.


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary #includes


Author: geoffthemedio <geoffthemedio@gmail.com>







    reject formatting chars in names in orders





    Rework Xenophobic species trait and Racial Purity policy
    
    - Xenophobic penalty only to stability, based on number of planets and jump distance, affecting and being affected by other empires and unowned worlds. At distance 0, penalty is -2.5, decreasing by 0.5 by each jump away.
    
    - Racial Purity
     -- removes the penalties of harassment and frenzy between owned planets;
     -- gives +5 stability to capital species and -10 to other, slowly;
     -- gives +1 influence to influence-focused capital species;
     -- gives -1 influence to other species;
     -- gives +0.05*pop PP to industry-focused, other species;
     -- disables influence and research foci from other species;
     -- de-adopting the policy applies -10 stability penalty to owned planets, fading by -0.5 per turn.
    
    - Trith Bad->Great Influence, Great->Bad Stability and don't dislike Influence.
    
    - Eaxaw Great->Average Stability.
    
    - Temptative AI code to evaluate stability with xenophobia and racial purity






    Add SetOriginalType, use with Philosopher Planet (#4142)
    Simplified cost reduction of stealth techs
    Fix planet stealth tech cost







    Give translator a fixed cost
    Add missing macros to Lambala'Lam (#4130)
    Save on exit in hostless mode even if save on turn disabled
    Tweak small robot RP cost in-line with commit 4085 (#4095)

    Add Small Robotic Hull

    Destroy building on creation of special (#4041)

    Give xenophobes (Trith and Eaxaw) great stability (#4086)

    Set default tech cost to 1.0

    Rebalance tech costs to account for influence-constrained growth

    Give Krakens extra stealth on Gas Giants

    Add Solar Concentrators to snowflakes


    add limits to RenameOrder for length of name and what characters can be used

    Fix researchability of tech Planetary Cloaking Device

    Reduce bonus and malus from influence species trait (#4067)


    [AI] Do not consider Exobot immediately (#4065)

    Nullify influence when evacuating a planet (#4044)


    -fix probable bug with Condition::Type::GetDefaultInitialCandidateObjects, where if a complicated expression was used for the type, it looked like nothing would be returned



    [AI] Do not invade allies (#4037)
    
    * AI function to query diplomatic status
    * Do not consider friendly planets as invasion targets
    * Use playerIsAI to identify the human player
    * Do not consider allies as threats





    Make Asteroid Coating Special Rarer (#4032)



    Stop auto-advance turn on error


    [AI] Fix role detection for orbital defense (#4023)
    [AI] Do not calculate colonization values twice (#4020)
    [AI] Use multipage layout for charts(#3978)
    [AI] Fix check for available slots (#4013)
    Fix description of great/ult. shields (#4012)
    [AI] Adapt for no longer parallel colony buildings (#4002)
    [AI] annotations (#4003)



    Block enqueuing more than one of any colony building on a planet (#3994)



Author: agrrr3 <axel.gross@iaeste.at>


    Apply SPATIAL_FLUX_STEALTH_TECH_BONUS boost for all tech upgrades (#3990)
    
    * fixes bug found by Oberlus
      https://freeorion.org/forum/viewtopic.php?p=112255&sid=6279f996d237f31db727cac11366812b#p112255
      Only SPY_STEALTH_PART_1 was multiplied by SPATIAL_FLUX_STEALTH_TECH_BONUS.
      Now also the others are multiplied


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Species Ship Shield Trait scaled by shield part (#3979)


Author: geoffthemedio <geoffthemedio@gmail.com>


    make CompareTypeString constexpr and return string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    -templatize ValueTest Comparison helper function
    -move testing of subsets of refs into a lambda


Author: geoffthemedio <geoffthemedio@gmail.com>


    add additional cases for ValueTest simple evaluation


Author: geoffthemedio <geoffthemedio@gmail.com>


    make pedia search dir strings constexpr and move near use and remove redundant loop


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove default parameter value comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweak returned types of ObjectMap::all and ObjectMap::allRaw
    -add some static_assert tests for those types
    -move ObjectMap::Map implementations into header
    -move ObjectMap::SwapMap implementation into header


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove Condition::Eval code path using reinterpret_cast when matching a TargetSet and instead copy to a ObjectSet and back
    -refactor Condition::Eval overloads that matched into an input/output parameter to instead return an ObjectSet or TargetSet of matches
    -fix probable bug in ContainedBy::Match where an ObjectSet of candidates to match was being passed in, but ignored and replaced with any matches of the subcondition
    -remove Statistic::GetConditionMatches as a separate function



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    skip redundant copy-init since the ObjectSet will be cleared in subsequent Eval call anyway


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 14, 2022 - f327265)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_CONT_SYMB.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_CONT_BIOADAPT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_BIOADAPTIVE_SPEC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_SOLAR_CONT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_QUANT_ENRG_MAG.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_FRC_ENRG_COMP.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_ENRG_FRIGATE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_ENRG_BOUND_MAN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_SCAT_AST_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_MONOMOLEC_LATTIC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_MINIAST_SWARM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_HEAVY_AST_HULL.focs.py


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_CAMO_AST_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_ASTEROID_REFORM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_ASTEROID_HULLS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/SHP_XENTRONIUM_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/SHP_GAL_EXPLO.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    add Elapsed getters to ScopedTimer


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Limit supply penalty for independant species (#3980)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix evaluation of capital species (#3982)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Make changes in MaxPopulation affect growth without delay (#3817)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] cleanup production 3 (#3975)
    
    * Remove redundant try-except
    * Remove type check introduced 10 years ago
    * Extract building queue names to separate function


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Small pedia fixes (#3969)
    
    * Update Interstellar logistics, it no longer increases speed without a policy
    * Update Organic Hull description
    * Add page for sneaky species
    * Document that Psychogenic Domination cannot take over domesticated space monsters Fixes #2840


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Updated tech short descriptions (#3946)


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant std::move for raw pointers


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replacing std::copy and std::move with insert
    -remove redundant std::move calls for raw pointers
    -use vector<uint8_t> instead of vector<bool>


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    replace shared_ptr with raw pointers in various ScriptingContext, Condition, Effect, etc. code


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak some UTF8 micro/mu tests


Author: Andrey <Cjkjvfnby@gmail.com>


    Split loop to get capital building and get allocations (#3972)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Simplify production orders (#3971)
    
    Inline variables that could be accessed from any line of code, will greatly simplify the extraction of code parts to functions.


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Give white krakens a tentacle attack (#3968)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Remove duplicated dependency and improvments (#3963)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unnecessary temporary
    -use lambda instead of boost::bind


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add safety check in Fleet::SetRoute for an empty route before attempting to access its contents
    -output error messages rather than throwing
    -remove seemingly pointless UnknownRoute() check in Fleet::SetRoute


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Use forgotten supply factor (#3966)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/ROBOTIC_PROD.focs


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix artifact name for github build  (#3951)


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix return type for skeleton (#3965)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Some fixes and a rough adaption of the invasion rating (#3964)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Rework species tags (#3952)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/SHP_DOMESTIC_MONSTER.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/ZERO_GEN.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework meter XML serialization to use a single string rather than structured boost serialization format


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add ToChars and FromChars to Meter
    -use ToChars and FromChars for Meter::serialize


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store Meter internally as int
    -add specialized Meter::serializae specializations for XML archives


Author: hifron <ondrej.riha@outlook.com>


    adding cmake build directory to .gitignore on Windows(VS Code) (#3954)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/VOID_PREDICTION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/TRANS_DESIGN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/SOLAR_ORB_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/SINGULAR_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/SENTIENT_AUTOMATION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/PREDICTIVE_STOCKPILING.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/ORBITAL_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/NEUTRONIUM_EXTRACTION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/N_DIM_ASSEM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/NANOTECH_PROD.focs


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Break dependency of buildings on empire (#3949)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Planet rating (#3916)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    * split getNamedValue to getNamedReal/Int in the Python API, which return 0 when no such named reference exists rather than a Python none object (#3879)
    
    * in Python get_named_int and get_named_real wrappers, check that the requested reference exists before evaluating, and return 1 if it doesn't
    * Allow AI to enqueue a building that cannot be produced at yet


Author: Andrey <Cjkjvfnby@gmail.com>


    Add unique name for binary artefact (#3950)


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix checked type


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Fix building iteration (#3948)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Refactor building enums (#3908)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -try-catch around more message Extract calls
    -call UserStringNop instead of UserString when creating ErrorMessage
    -pass and put ModeratorAction into unique_ptr rather than relying on calling code to delete


Author: geoffthemedio <geoffthemedio@gmail.com>


    wrap message Extract functions in try-catch blocks


Author: geoffthemedio <geoffthemedio@gmail.com>


    save message type before potentially modifying while reacting to it


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    reinitialize system graph after moderator actions that could have modified it, preventing a crash when adding systems with a moderator action


Author: geoffthemedio <geoffthemedio@gmail.com>


    indenting


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment out do-nothing pedia text generation for species empire opinions


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use findRaw and getRaw to store raw pointers instead of shared_ptr
    -other grooming


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    add findRaw functions to ObjectMap


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Removed some unused interface functions (#3945)


Author: agrrr3 <axel.gross@iaeste.at>


    Increase growth by 25% (#3621)
    
    Before introducing growth policy in 5c9b5023f00e047f1b33e260677a13f21d4f6c2b,
        base growth factor was 0.01
        Then it was 0.005, but one could improve it by 50% using the policy
    
     The new formula introduced in  6a9b32fec516bc2fa0a37f2d079e204948456a17 (#3703)
        divided growth by target population and had base growth factor 0.08
        i.e. it is the same as 0.005 for the previous formula, if the planet has a max population of 16
        for smaller planets it is faster and for bigger planets it is even slower.
    
     This commit increases base growth by 25% (this might be still a little bit low)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 1, 2022 - c27a4f3)


Author: Andrey <Cjkjvfnby@gmail.com>


    Update skeleton generator (#3943)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [Fix] Avoid division by zero (#3944)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Refactor bonus calculation, fix check (#3942)
    
    * Move bonus calculation to the separate class
    * Fix logic
    * Update usages


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] calculate research and stability, tech_soon_available (#3939)


Author: aschuch247 <aschuch247@gmail.com>


    Fix typo of 'content'. (#3941)


Author: O01eg <o01eg@yandex.ru>


    Add dependencies data to HOST_* messages (#3887)
    
    Make it same as JOIN_GAME message


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Impove chart view (#3940)
    
    - Add interactive zoom/scrolling.
    - Allow selecting empire line.
    - Fix log span for charting.


Author: geoffthemedio <geoffthemedio@gmail.com>


    condense setting up stream compression


Author: Matthew Lam <sudfiwe@gmail.com>


    Message compression
    
    Add compression for large messages. Disable compression for localhost clients. Based on #3870.


Author: O01eg <o01eg@yandex.ru>


    Force to reset after finish message


Author: O01eg <o01eg@yandex.ru>


    Add compression level parameter


Author: O01eg <o01eg@yandex.ru>


    Compress GAME_START message


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Add policies to charting (#3914)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make locales thread_local
    -return by reference to avoid copy
    -make "en_US.UTF-8" the default


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add GG::Font::Substring::operator!=
    -make some string constants contexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass string_view rather than const references
    -return vector instead of set
    -simplify ExtractWords, without seemingly redundant checks for empty words
    -add FindWordsStringViews that avoids need to separately construct the views
    -replace for loops with transform calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace lexical_cast with ToInt


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't determine a default location or append production / cost info to article text for BuildingType when requested to output description only


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    add constexpr locale-independent string-to-int converter that is independent of the charconv C++ library functions that aren't universally available


Author: geoffthemedio <geoffthemedio@gmail.com>


    -in pedia code, add ToInt and ToChars functions that use std::to_chars or std::from_chars if available
    -use ToInt or ToChars in some places


Author: geoffthemedio <geoffthemedio@gmail.com>


    -limit number of missing string stack to 3 instead of 10
 in RomanNumber


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>



    -comment tweak


Author: geoffthemedio <geoffthemedio@gmail.com>


    -revert to storing the results of GetSortedPediaDirEntires in strings instead of partly in string_view since all parts are in some cases generated dynamically within the function, and thus can't be pointed to after it returns
 / comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    only list orders of client empire on client empire's pedia page, not all empires' pages


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't move from string that was passed as a view to an async call
    -use a mutex-guarded map to hold strings returned as views / references
    -rewrite UTF8 character as an escape code
    -add safety checks / error logging if getting an invalid UTF8 string when processing pedia entries during search


Author: geoffthemedio <geoffthemedio@gmail.com>


    wrap regex / utf8_wchar_iterator use in try-catch block in FindWordsStringIndices


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add CustomToLower function that does case conversion for case-insensitive text searches much faster (but somewhat limited compared to) the Boost to_lower function
    -use boost::locale::to_lower if not all the characters in a string are handled by CustomToLower
    -use boost::locale::to_lower instead of boost::algorithm::to_lower, as the latter fails for some characters


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    MSVC compatible C++ version check in utf8 code


Author: geoffthemedio <geoffthemedio@gmail.com>


    -updated to utf8 library 3.2.1
    -added additional template type to utf8::iterator in order to replace the GG-custom wchar_iterator that GUI.cpp uses


Author: Oberlus <sicofonte@gmail.com>


    Add NamedValues to Nebula, Ion Storm and Molecular Cloud for Pedia (#3931)
    
    NamedValues for Nebula, Ion Storm and Molecular Cloud for Pedia


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update README.md
    
    minor text tweaks


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Make Mu Ursh more playable (#3915)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Load python code after rule parsing is done (#3936)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/MICRO_MANUF.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix documentation of technocracy (#3935)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] calculate_production.py (#3934)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/INTERSTELLAR_ENTANGLEMENT_FACTORY.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/INDUSTRY_CENTER_III.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/INDUSTRY_CENTER_II.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/INDUSTRY_CENTER_I.focs


Author: Geoff <geoffthemedio@users.noreply.github.com>


    bump CodeQL version to v2 due to deprecation of v1 (#3933)


Author: Morlic-fo <Morlic@gmx.de>


    Fix Linter


Author: Morlic-fo <Morlic@gmx.de>


    Move AI Aggression handling from C++ to python code


Author: Morlic-fo <Morlic@gmx.de>


    Set special save_state_string to allow handling special cases.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Added within_n_jumps plus annotation (#3923)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix success check of _adopt, plus annotation (#3930)


Author: geoffthemedio <geoffthemedio@gmail.com>


    set /utf-8 flags for MSVC builds


Author: O01eg <o01eg@yandex.ru>


    Set python version to 3.7 in format checks


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/GENERIC_SUPPLIES.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/FUSION_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/EXOBOTS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/ADAPTIVE_AUTOMATION.focs


Author: O01eg <o01eg@yandex.ru>


    Add comment to dump about use of StaticCast and StringCast


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jun 13, 2022 - 7dd1d6e)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Added helper functions for names values and stability modifier (#3918)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    More buildings and one more function, (#3924)


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix log file detection for charting (#3917)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Added helper functions to query supply groups (#3921)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Added world tree and ast. coating to empire resources. (#3919)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    New AI interface function to query supply groups (#3920)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/TRANSCEND.focs


Author: shikoba-hn <106869459+shikoba-hn@users.noreply.github.com>


    Add missing include


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/XENO_ARCH.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/UNIFIED_CONC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/TRANSLING_THOUGHT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/TEMPORAL_MECH.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    update include to silence deprecation warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    update include to silence deprecation warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    disable warning arising from Boost includes for python parser file


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move workarounds for Boost 1.79 include error into Parsers StdAfx.h
    -restore MSVC2022 Parsers project to C++20 standard


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix potentially returning reference to temporary


Author: Vezzra <vezzra@gmx.net>


    Add boost_atomic DLL to Windows installer package


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Generate skeletons compatiable with black (#3903)


Author: O01eg <o01eg@yandex.ru>


    Lower used language standart


Author: O01eg <o01eg@yandex.ru>


    Add MS VS 2022 project test to Github Actions CI


Author: O01eg <o01eg@yandex.ru>


    Use SDK v13 and Python 3.7


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/STELLAR_TOMOGRAPHY.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/SPATIAL_DISTORT_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/QUANT_NET.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Changed Bureaucracy after forum discussion. (#3844)
    
    * Changed Bureaucracy after forum discussion https://www.freeorion.org/forum/viewtopic.php?f=28&t=12420&sid=ccc146868760118459489fbe4702cf9a.
    * Also removed strings from fr.txt
    * Fix order between bureaucracy and dream recursion
    * Unlock Reg Admin by Bureaucracy, not Centralization


Author: Andrey <Cjkjvfnby@gmail.com>


    Do not exclude snap on snap changes


Author: Andrey <Cjkjvfnby@gmail.com>


    Do not run workflow if no C++ files changed


Author: geoffthemedio <geoffthemedio@gmail.com>


    -LeastJumpsPath returns a vector<int> instead of list<int>
    -replaced some typedefs with auto
    -just use input system ID instead of reverse looking up the system 1 index


Author: geoffthemedio <geoffthemedio@gmail.com>


    expose Fleet route to Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    -return vector<int> from ShortestPath
    -store and pass Fleet travel route as vector<int>


Author: geoffthemedio <geoffthemedio@gmail.com>


    use boost::circular_buffer to build shortest path


Author: geoffthemedio <geoffthemedio@gmail.com>


    implement single-candidate WithinJumps


Author: geoffthemedio <geoffthemedio@gmail.com>


    simpler vector init


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fix WithinJumps, which seemed to be always returning just the source system
    -return vector<int> instead of unordered_set<int>
    -add not-yet-implemented single-search system overload for WithinJumps


Author: geoffthemedio <geoffthemedio@gmail.com>


    -ImmediateNeighbors returns vector instead of multimap. unsorted result should be OK as it wasn't used except by AI API, which doesn't appear to care if the result is sorted.
    -default initialize the PathFinder graph pointer and remove the defined constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    make UniverseObject::Type non-virtual


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Rename log dumper to statistic (#3896)


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Remove duplicate getTechCategories from Python API (#3897)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/PSY_DOM.focs


Author: Andrey <Cjkjvfnby@gmail.com>


    Update log dumper (#3895)
    
    - drop python compatibility with previous logs
    - drop custom deserialization for specific kyes, and make it more general
    - fix colors for empire plots
    - move the player name to the sidebar


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/DISTRIB_THOUGHT.focs


Author: O01eg <o01eg@yandex.ru>


    Rename If to Conditional in python parser


Author: O01eg <o01eg@yandex.ru>


    Rename Min, Max operations to MinOf, MaxOf in python parser
    
    This change allows to not conflict with statistic type enums.


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid lexical_cast for enum MeterType


Author: geoffthemedio <geoffthemedio@gmail.com>




    [AI] Refactor shipyards using BuildingType (#3857)
    * Refactor shipyard using BuildingType
    * Do some dislike checks for shipyards and
    fixed character.may_build_building
    * First round of review changes
    * Fix ShipYardInfo usage



    [AI] avoid division by zero exception (#3861)


    AI military policies (#3851)
    * Fixed type BuildingName
    * Added military command and fixed planet selection
    * Added function to query number of ships
    * First version with military policies
    * Review updates and slightly change _rate_costs
    * Removed obsolete technology




    Add server flag that merges quickstart and load options (#3848)



Author: geoffthemedio <geoffthemedio@gmail.com>


    -make various content getters take string_view instead of const std::string&
    -make various UI functions take string_view







    Make maturing monster keep their names (#3805)




    consider both, not just one, fleet in a fleet transfer order, that has arrival starlane -1 to have arrival starlane equal to its current system, to avoid first turn issue with being unable to merge fleets




    Popular Terraform using NextBestPlanetType valueref




    Use ASTEROID_COATING_STACK stackinggroup to ensure the effect is applied only once (#3824)



    Fix crash due not initialized password window (#3823)



    Add option to allow any player to be an observer



    make NewFleetOrder and FleetTransferOrder consider fleets with no set arrival starlane as arriving from their current systems. this should fix issues with merging fleets.



    Sneaky species have easy planetary stealth tech (#1620)
    * Laenfa are sneaky
    * All research cost for planet stealth is halved for sneaky species





    Add Popular Terraforming (terraform to best environment)
    * for ease when you dont know the best environment
    * for mass-terraforming from the object window (where the best environment can be mixed for different species)
    * micro-management safe by being cheaper than the steps (actually dont know, with the steps you get results earlier)
    * also added the capability to use %planettype% in sitreps (taking a planet ID or a stringtable key)



    Mostly FreeBSD build fix. (#3812)
    - boost stacktrace using backtrace api instead of unwind due to unsupported field.
    - various initialisation constructors reordering warning fixes/unused var.

    [AI] Building refactoring (#3808)
    - Scanning Facility: Don't build it where it is disliked
    - Gas Giant Generator: Completely new logic




    Fix Thenian die-off to affect only Thenian planets (#3806)




    troop pods must also use OFFENSE_TROOPS instead of ATTACKTROOPS (#3802)




    -disallow mixing arrival starlanes in a new fleet or in a ship-fleet transfer
    -check for moving a ship into the fleet it's already in



    [AI] Remove alternative research approach (#3793)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    ProductionAI preparations (#3796)
    
    * Collect information about all buildings in building_locations.py
    * Cache get_owned_planets_by_empire and removed argument
    * Added get_planet_opinion plus typing


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant disconnect of scoped_connection


Author: geoffthemedio <geoffthemedio@gmail.com>


    -safety check pointer
    -pass pointer by const reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    -getRaw instead of get(...).get()
    -pass pointer by const reference
    -structured binding
    -move action lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    move parameter in


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use scoped_connection
    -pass connection and function with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    use scoped_connection


Author: geoffthemedio <geoffthemedio@gmail.com>


    store scoped connections for sidepanel subcontrol connections


Author: geoffthemedio <geoffthemedio@gmail.com>


    store scoped connections


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in context ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    use scoped_connection to store signal connection so that after a GUI class is destructed, signals connected to functions that use it won't fire


Author: geoffthemedio <geoffthemedio@gmail.com>


    safety checks / error logging in ResourcePanel


Author: geoffthemedio <geoffthemedio@gmail.com>


    -safety checks
    -structured binding


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Cleanup research (#3792)
    
    * Remove debug code
    * extract header printing to a separate function
    * Remove unused variable
    * Inline msg


Author: O01eg <o01eg@yandex.ru>


    Update python in Androdi SDK to 3.9


Author: Andrey <Cjkjvfnby@gmail.com>


    Run formatters before linters (#3795)


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't std::move a temporary that's already an rvalue


Author: geoffthemedio <geoffthemedio@gmail.com>


    send DependencyVersions with JoinGameMessage


Author: O01eg <o01eg@yandex.ru>


    Convert techs/defense/BarrierShield.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Also remove ownership of buildings when abandoning an outpost (#3789)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    generated python interfaces, fixed AI logging (#3788)


Author: Oberlus <sicofonte@gmail.com>


    Fix priorities of species scaling effects for Industry, Research and Influence (#3773)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Aligned species tags with effects and provide a checking tool (#3725)
    
    Aligned species tags with effects and provided a checking tool


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix _get_queued_base_troopers (#3791)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fixes for drop invasion (#3783)


Author: geoffthemedio <geoffthemedio@gmail.com>


    expose getNamedValue to Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    expose Species likes, dislikes, and native status to Python API


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/TRANSCEND_ARCH.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/STARGATE.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    make website URL https


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/PLANET_DRIVE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/OUTPOST.focs


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Apr 2, 2022 - 1421a8b)


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass in and use empires


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in empires


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass EmpireManager to CompileSaveGameEmpireData
    -in-place construct SaveGameEmpireData


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in context ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass empire object visibility map to VisibleContainedObjectIDs


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace or push -> insert


Author: geoffthemedio <geoffthemedio@gmail.com>


    use vector and minmax_element instead of set begin or rbegin


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> insert or push


Author: geoffthemedio <geoffthemedio@gmail.com>


    auto


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't move from pointer that may be used later


Author: geoffthemedio <geoffthemedio@gmail.com>


    -emplace -> push
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> push


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> push


Author: geoffthemedio <geoffthemedio@gmail.com>


    use piecewise_construct / forward_as_tuple


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    -forward arguments with piecewise_construct
    -rework MeterValueLabelAndString to return two string_view


Author: Grummel7 <muzz@albatross.pond.sub.org>


    remove obsolete policies right after loading a game (#3776)


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid capturing ScriptingContext in lambdas and instead create locally


Author: geoffthemedio <geoffthemedio@gmail.com>


    create ScriptingContext in lambda rather than capturing context that may be out of scope when the signal that executes the lambda occurs. this should fix a crash in the client when ordering invasion of planets.


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't try to cast to int design ID unless the type of thing in the pedia items list is a ship design


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix string_view issue breaking suitability window (#3778)
    
    revert most of 4e930bce474abc2d9400ff5713d01cdc623008cc and instead construct sting view from the Species object's name instead of the PopCenter's species name, which is modified in the following code.


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass current turn


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass current turn


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap and ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed in ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext to CreateFleetArrivedAtDestinationSitRep


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ScriptingContext to Colonize
    -pass ObjectMap to Planet::Reset


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass rather than create ScriptingContext in UI
    -pass just ObjectMap when a full ScriptingContext isn't needed
    -explicitly create and use ScriptingContext rather than calling global getters


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix population reducing effect of planetary drive (#3769)
    
    Fix population reducing effect of planetary drive


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move string
    -use piecewise_construct / forward_as_tuple


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix string_view issue breaking suitability window


Author: geoffthemedio <geoffthemedio@gmail.com>


    Use default WindowsTargetPlatformVersion


Author: Morlic-fo <Morlic@gmx.de>


    Use default WindowsTargetPlatformVersion


Author: Oberlus <sicofonte@gmail.com>


    Add game rule to allow repeated species (#3748)


Author: O01eg <o01eg@yandex.ru>


    Enable tests in Ubuntu 21.04 docker


Author: Andrey <Cjkjvfnby@gmail.com>


    Simplify generate orders (#3764)
    
    * Simplify generate orders
    * Reorder commands


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Move survey_universe to empire module and call it earlier (#3762)
    
    * Move survey_universe to empire module and call it earlier
    * Removed second survey_universe_lock
    
    
    
    This should fix #3760 for good.
    
    It also makes sense as a refactoring, since survey_universe mostly sets values in the empire module and was completely independent from the rest of ColonisationAI.
    
    It does also set some value in the colonization module (nice mix of spelling ;-) which should probably be protected by locks as well, but this can be done with a later PR, this one is big enough and is needed as a fix.


Author: geoffthemedio <geoffthemedio@gmail.com>


    update expected checksums


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix incompatibility with Python3.6 (#3761)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix _adopt and _deadopt, reduce margin for centralization (#3756)
    
    Mostly cosmetic changes, but there were two real bugs that made the AI sometimes adopt and deadopt Centralization repeatedly.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Improve AI invasion handling (#3754)
    
    This should fix the three points described in #3745. It should conquer more successfully and waste fewer troopers now.
    The AI still builds too many troopers (priority calculation sometimes produces strange results) and may ignore good planets (planetary rating also needs work), but these are for another PR.


Author: Oberlus <sicofonte@gmail.com>


    Fix Propaganda effect on enemies (#3759)


Merge: ec969b7bb e2374e7b2
Author: Morlic-fo <Morlic@gmx.de>


    Merge pull request #3755 from Grummel7/twoFixes
    
    Two fixes


Author: Morlic-fo <Morlic@gmx.de>


    Fix ScriptingContext in Tech::ResearchCost (#3750)


Author: Andrey <Cjkjvfnby@gmail.com>


    Bump dev-tools versions (#3752)
    
    * Bump dev-tools versions
    * Fix new warnings


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fixed duplicate calls of bake_future_focus


Author: Grummel7 <muzz@albatross.pond.sub.org>


    unlock with set_colony_builders
    Unlocking after survey_universe is too late, since it uses
    get_colony_builders


Merge: 82560a62e 5328b927d
Author: Morlic-fo <Morlic@gmx.de>


    Merge pull request #3746 from Morlic-fo/DebugSP
    
    Fix #3743


Author: Morlic-fo <Morlic@gmx.de>


    Fix policy PROPAGANDA script


Author: O01eg <o01eg@yandex.ru>


    Fix char sign definition in enums


Merge: 87e2ed334 a0368836b
Author: Morlic-fo <Morlic@gmx.de>


    Merge pull request #3741 from Morlic-fo/RefactorSplitFleet
    
    Let split_ship_from_fleet return INVALID_ID on failure


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Ensure colony_buildes are initialized before usage (#3744)


Author: Morlic-fo <Morlic@gmx.de>


    Fix reconnection attempts sometimes persisting throughout timeout.
    
    On expiry of m_deadline_timer, the m_reconnect_timer is canceled. However, if both timers expire in a short enough timeframe, the m_reconnect_timer callback may already have been scheduled and thus can no longer be canceled. To prevent this, let m_deadline_timer set a flag upon expiry and check that flag before attempting to reconnect.


Author: Oberlus <sicofonte@gmail.com>


    Avoid repeating playable species (#3742)


Author: Morlic-fo <Morlic@gmx.de>


    Explicitly provide .count() to help some compilers...


Author: Morlic-fo <Morlic@gmx.de>


    Add some TraceLogging to debug #3743


Author: Morlic-fo <Morlic@gmx.de>


    When loading SP game, assign AIs by name to respective empires (#3738)


Author: Andrey <Cjkjvfnby@gmail.com>


    Minor fixes (#3740)
    
    - remove error log that is not a real error
    - change the way arguments are supplied to the log function
    - fix typo


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Mar 12, 2022 - 69075b3)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Readd a fixed version of the species check


Author: Morlic-fo <Morlic@gmx.de>


    Let AIWrapper for IssueNewFleetOrder return INVALID_ID on invalid order


Author: Morlic-fo <Morlic@gmx.de>


    Return INVALID_ID on split_ship_from_fleet failure


Merge: 32ea75d8d adc69386d
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3736 from Morlic-fo/GitIgnores
    
    Add some more files to gitignore


Author: Morlic-fo <Morlic@gmx.de>


    Fix timeout being sometimes ignored in ClientNetworking::Impl::ConnectToServer() (#3620)
    
    Previous to this patch, small timeout values are effectively ignored. This happens because boost::asio::io_context::run() is a blocking call and the attempt to async_connect() may time out after e.g. 2 seconds on my machine. This means any shorter timeout parameters will effectively be ignored and any longer timeout still only has a resolution of, e.g., 2 seconds.
    
    The fix here is to introduce an asynchronous timer which will cancel pending operations once timeout occurs.


Author: Morlic-fo <Morlic@gmx.de>


    Add libpython.py to gitignore


Author: Morlic-fo <Morlic@gmx.de>


    Add msvc default output directories to gitignore


Author: Morlic-fo <Morlic@gmx.de>


    Fix return type of ship.colonyCapacity in python API (#3735)


Author: Morlic-fo <Morlic@gmx.de>


    Fix potential array access out of bounds (#3734)


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoiding use of global GetEmpire() and Universe() getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing ScriptingContext to research and tech-related functions


Author: geoffthemedio <geoffthemedio@gmail.com>



    -reordering members


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass DiploStatusMap to SystemHasFleetSupply


Author: geoffthemedio <geoffthemedio@gmail.com>


, structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext to FleetSupplyableSystemIDs


Author: geoffthemedio <geoffthemedio@gmail.com>


    make some getters explicitly use the client interface


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing empires and IDs instead of using global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    add EmpireIDs() function to ScriptingContext and EmpireManager


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fixed troopCapacity return value (#3733)


Author: geoffthemedio <geoffthemedio@gmail.com>


    limit search range to size of EnumMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove MSVC 2017 project files


Author: geoffthemedio <geoffthemedio@gmail.com>


    bump AppVeyor to MSVC2019


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move EnumMap building into constructor
    -actually store names as string_view instead of string in EnumMap
    -construct EnumMap at compile time


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove default delimeter arguments
    -simplify loop over chars
    -fix range of chars to loop over for hex values


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment out static_assert some older compilers give error: non-constant condition for static assertion


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove default delimeter argument
    -implement constexpr string_view to EnumType via decimal or two-digit hex parsing


Author: geoffthemedio <geoffthemedio@gmail.com>


    refactor EnumMap building to tokenize and store string_view into the passed-in char*


Author: geoffthemedio <geoffthemedio@gmail.com>


    move BuildEnumMap into EnumMap as Build


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move EnumMap definitions into declaration
    -reimplement EnumMapInsert with string_view
    -WIP since the call in BuildEnumMap to Insert passes a temporary string


Author: geoffthemedio <geoffthemedio@gmail.com>


    use to_string(GG::Key)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add parameter to GG_ENUM and GG_CLASS_ENUM to specify the underlying type
    -make EnumMap store in two arrays instead of two maps, separately tracking its size to ensure not too much is inserted
    -make Flags store bits internally in an unsigned short instead of unsigned int



Author: geoffthemedio <geoffthemedio@gmail.com>


    -references instead of copies
    -explicit type to avoid warning about possibly unintended copy


Author: geoffthemedio <geoffthemedio@gmail.com>


    use FO_ENUM instead of GG_ENUM


Author: geoffthemedio <geoffthemedio@gmail.com>


    use smaller types for enum class definitions


Author: Grummel7 <muzz@albatross.pond.sub.org>


    First AI with policies plus minor adoptions (#3729)
    
    First AI with policies plus minor adoptions


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove (no star) label from starless system names


Author: st.pa <st-pa-fo@web.de>


    -display real system name on map and sidepanel for empty systems
    -label as unexplored system or region after name


Author: geoffthemedio <geoffthemedio@gmail.com>


    Revert "-don't wait for all parallel activation condition evaluations to finish before starting parallel scope condition evaluations"
    
    This reverts commit 94636c87b616dc64f9bc06dd1d3215f71a32a774.
    
    This commit seems to have broken numerous effects.


Merge: 1cb3f0794 0d04c82eb
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3722 from MichaelCourtney/hideandguard
    
    Native/Special Defense Tweaks


Author: Andrey <Cjkjvfnby@gmail.com>


    Update development docs (#3721)
    
    Update readme and development documentation


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Remove unused check (#3727)
    
    Discussed in the thread: https://www.freeorion.org/forum/viewtopic.php?p=110431#p110431


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix tag parsing (#3723)
    
    * Fix tag parser, added influence to species roster
    * Fix mis-handling of SystemID 0
    * Fix get_ai_tag_grade, added a test


Author: geoffthemedio <geoffthemedio@gmail.com>


    add default values and simplify Wnd constructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove default Empires() parameter and pass explicitly instead
    -use ServerApp's m_empires instead of calling Empries() (which resolves to the same thing)


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove default parameter Empires() global call


Author: geoffthemedio <geoffthemedio@gmail.com>


    GetTech overloads taking char* or string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't wait for all parallel activation condition evaluations to finish before starting parallel scope condition evaluations
    -avoid copying full set of input candidate source objects when no activation condition is specified, and instead just reference that input full set
    -avoid copying ObjectSets into container for already-dispatched scope evaluations
    -elaborate comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    only find in fleets when looking for moving fleets


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in current_turn


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Mar 5, 2022 - 68e44d2)


Author: MichaelCourtney <wobbly@fredvisions.com>


    Sometimes stealth monster nests


Author: MichaelCourtney <wobbly@fredvisions.com>


    Replace 20% of ancient guardians with stealthed planet


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add asteroid snails to guards


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add some exclusions to High Tech Natives


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add guards to resource specials


Author: MichaelCourtney <wobbly@fredvisions.com>


    Stop Lembalalam from being both moderate and high tech natives


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add occasional defenses to natives
     Please enter the commit message for your changes. Lines starting


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fixed some AI exceptions (#3719)
    
    This should fix the exceptions mentioned in #3718


Author: Oberlus <sicofonte@gmail.com>


    Fixes some unused variable warnings (#3728)


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in empire_id instead of passed-in produced_by_empire_id to determine the owner of a new Ship


Author: geoffthemedio <geoffthemedio@gmail.com>


    -InitializeSystemGraph overload that uses this->m_objects
    -IDAllocator::NewID takes a Universe parameter
    -GenerateStarlanes takes an EmpireManager parameter
    -GenerateStarlanes avoids global Objects() calls
    -EmpireTotalSupplyRange and DistanceBetweenObjects take ObjectMap parameters


Author: geoffthemedio <geoffthemedio@gmail.com>


    -avoid free Objects() calls, or make them more explicit



Author: geoffthemedio <geoffthemedio@gmail.com>


    passing and using context rather than free GetEmpire() and Objects()


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove GetSourceObjectForEmpire() that was redundant with a Empire::Source


Author: geoffthemedio <geoffthemedio@gmail.com>


    clean up some GetUniverse(), Empries(), and GetEmpire() calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove default parameter GetUniverse() call


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove ~Empire()
    -pass EmpireColor by value


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak member order to improve packing in memory


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove recently-added Universe parameters to UniverseObject constructors, so that UniverseObject are no constructed with a default StateChangedSignal with no combiner set
    -call SetSignalCombiner on moved-in objects in Universe::operator=


Author: Oberlus <sicofonte@gmail.com>


    Fix repeated NamedValue (#3724)


Author: st-pa-fo <37298400+st-pa-fo@users.noreply.github.com>




Author: geoffthemedio <geoffthemedio@gmail.com>


    -add assignable_blocking_combiner that can be modified after construction by assignment
    -add UniverseObject::SetSignalCombiner
    -set the StateChangedSignal combiner when deserializing or inserting objects into a Universe to use that Universe's signal inhibitor flag


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass Universe and current turn when constructing UniverseObject and derived classes rather than accessing global getters
    -default construct UniverseObject derived types in serialize functions
    -pass by value some copied-anyway parameters like std::string
    -safety check before using possibly null design pointer in Ship constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove undefined default constructor declaration


Author: geoffthemedio <geoffthemedio@gmail.com>


    default destructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove empty destructor


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Adapted basic growth formula. (#3703)
    
    The old formula grew quadratic with the planet size,
    i.e. big planet became full quite quickly, while small ones
    grew extremely slowly.


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Update python skeletons (#3716)


Author: MichaelCourtney <wobbly@fredvisions.com>


    Move the default native defenses to native_fortication.macros


Author: MichaelCourtney <wobbly@fredvisions.com>


    Guard Biege Goo and Fiftyseven


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -forwarding parameters
    -string_view instead of string
    -simplify OptionSection struct


Author: geoffthemedio <geoffthemedio@gmail.com>


    add rvalue overloads to Validator Clone functions


Author: geoffthemedio <geoffthemedio@gmail.com>


 / commenting


Author: geoffthemedio <geoffthemedio@gmail.com>


    -branchless sign determination
    -missing default case


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix warnings and avoid unnecessary repeat calculations


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make Meter functions noexcept
    -expose value instead of getter to Python
    -return array of char instead of string from Meter::Dump


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove five-year-old backwards compatibility code in Meter::serialize
    -shorten Meter member variable names


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]] and constexpr Meter


Author: geoffthemedio <geoffthemedio@gmail.com>


    use sprintf in buffer instead of cocatenating result of std::to_string, when std::to_chars is unavailable


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unnecessary use of stringstream for concatenation
    -default value for member variable


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Feb 25, 2022 - f2010df)


Merge: f2010df09 d7a76e471
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3720 from Oberlus/BalanceColonization
    
    Balance colonization and centralization


Author: Oberlus <sicofonte@gmail.com>


    Make CENTRALIZATION and COLONIZATION colony cost factor 1/3 instead of 1/2


Author: Oberlus <sicofonte@gmail.com>


    Make Exobot colony building cost 60 instead of 70


Author: Oberlus <sicofonte@gmail.com>


    Apply COLONIZATION and CENTRALIZATION colony cost factors to colony buildings and outpost ship parts


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Clean up Confederation Policy (#3696)


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    move calculation within if


Author: geoffthemedio <geoffthemedio@gmail.com>


    -constexpr
    -remove unused tag parameter from CreateFromTag functions



Author: geoffthemedio <geoffthemedio@gmail.com>


    use double-valued GG::Y_d to avoid warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused constant


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    disable warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -constexpr in GG_STRONG_INTEGRAL_TYPEDEF
    -default constructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    use is_constant_evaluated() instead of consteval


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix compile error in MSVC 2022


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary const from by-value return




    Hack to allow multi-line commands in debug chat (#3708)




    Add species lists to traits pedia pages




    fix arrows (remove cut off glow) (#3699)



    Expand Pedia Quick Start Guide (#3659)



    Fix scanning facility pedia entry



    Flux bubble should decrease colony building time (#3690)
    * Flux bubble should decrease colony building time
    * Fix pedia cateogorization of spatial flux hulls


    
    add native species Nightsiders, Sleepers, Khakturian, Celestephyte


    - quick fix: reducing probability for natives on roids and GGs by factor five


    - generic fieldtype pedia pages now list map-clickable known occurances of each field type


    - adding system special of derelict small troop ships crewed by khakturian, to be randomly stumbled upon players just like the other derelicts




    - fixing population dieoff effect for species Thenian and the according sitrep message
    - improved sitrep-message 'new dyson forest growing' with pedia link to dyson forest (for the noobs)
    - noted some todo's related to pedia with possible future improvements
    - fixed some fixme's - they work best when followed by a colon, this will highlight them similar to todo's in modern ide's
    - make list of homeworlds commaseparated in the pedia-homeworlds-page




    - ending every automatically created pedia page with an extra empty line, just in case the previously last bit of text was ment to be a clickable pedia link, which would not have been clickable if the very last thing on the page. this should not hinder the player's reading experience in any way but improve it slightly, wherever pedia pages ended with pedia links before. one example in this pr is the void rift fieldtype page which lists as species that dislike the Celestephyte which is now clickable with this fix here.



    - streamlining the pedia text generating code a little by introducing versatile helper methods to replace some massively redundant code and prettify the player visible output at the same time, admittedly at the expense of a tiny little bit of extra computations every time the player clicks on a pedia link but that is negligible and not really noticeable



    - fluffing out sly description some more to account for stealthiness and possible other gaseous beings

    - the Thenian are not only well defended, but now have good planetary stealth too and can not colonize anyway



    - during universe creation, allow new native species to be placed who have no good habitat but only adequate or poor

    - adding species #4 the Celestephyte, to be continued ...
    - adding new native species #1 Nightsiders, #2 Sleepers and #3 Khakturian
    - changed condition for availability of FOCUS_PROTECTION so that some native species with that same preferred focus can now do that while not yet conquored





    
    - rename (only the user-facing part of) all buildings '%SPECIES% Colony' to 'Colony of %SPECIES%'







    


Author: TheSilentOne <martin@diergarten.net>


    radio buttons change policy card size
    
    add icon-style policy size buttons


Author: TheSilentOne <martin@diergarten.net>


    add new art for policies


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweak / correct error messages



Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary casting of int to double and back to int


Author: geoffthemedio <geoffthemedio@gmail.com>


    uniform random operation uses RandomNumber(...) not random(...)


Author: geoffthemedio <geoffthemedio@gmail.com>


    round instead of truncate int sine calculations


Author: geoffthemedio <geoffthemedio@gmail.com>


    revert to PlanetTypeDifference using FOCS strings instead of text representations of enums


Author: geoffthemedio <geoffthemedio@gmail.com>


    cast planet types to int instead of string when parsing


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    store planet_type_parser_rules by value in int_complex_parser_grammar


Author: Axel Groß <axel.gross@iaeste.at>


    -add parsing for PlanetTypeDifference
    -use string representations of PlanetType enum values (PT_OCEAN) rather than FOCS names (Ocean) in PlanetTypeDifference ValueRef


Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Translate more strings into spanish (#3680)
    
    Translate more strings into spanish


Merge: e499e3fa5 4a66283fb
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3660 from st-pa-fo/stpa-font-change
    
    adding unicode glyph U+22C4 "Diamond Operator" to roboto font


Author: st.pa <st-pa-fo@web.de>


    - adding unicode glyph U+22C5 "Dot Operator" to roboto regular font and adjusting font version number and copyright-notice


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix Operation<T>::EvalImpl ignoring value comparison test result when only two operands were specified


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweak some statistics to consider all owned objects, not just planets
    -add influence and production stockpile statistics


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move ReferenceType enum definition from ValueRefs.h to ValueRef.h
    -add GetReferenceType() as a virtual function to ValueRef from Variable, default returning INVALID_REFERENCE_TYPE
    -avoid now-unnecessary dynamic_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -NewMeterValue also returns the affected meter
    -in the SetMeter::Execute overload, get all new meter values before modifying any meters


Author: geoffthemedio <geoffthemedio@gmail.com>


    pre-determine what effects groups will be active before executing them


Author: geoffthemedio <geoffthemedio@gmail.com>


    move string


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    pull new meter value calculation out to a mostly-common function NewMeterValue


Author: geoffthemedio <geoffthemedio@gmail.com>


    move SetMeter::Execute effect trace-level pre and post object dumping into a separate function


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass strings to AccountingInfo by value instead of &&


Author: geoffthemedio <geoffthemedio@gmail.com>


    helper function PlanetIDFromObject


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variables when catching exceptions


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move warning disabling into warnings.props in MSVC2019 project files
    -remove disabling of most warnings in MSVC2019 project files


Author: geoffthemedio <geoffthemedio@gmail.com>


    use to_python_converter instead of custom exposed pair types to Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix some broken Python API stuff:
    -missing class wrappers for stuff that the API returns
    -incompatible function parameter types (string_view)
    -add an auto converter from returned string_view to Python-string
    -separately exposing maps or sets indexed by strings that used a non-standard comparison type and are thus technically a different class
    -fix binding a reference to a temporary in jumpsToSuppliedSystem


Author: O01eg <o01eg@yandex.ru>


    Provide IP address of logging player to Python API


Author: MichaelCourtney <wobbly@fredvisions.com>


    Various Species likes/dislikes


Author: MichaelCourtney <wobbly@fredvisions.com>


    Gisgusgthrim/HappyBday policy likes


Author: MichaelCourtney <wobbly@fredvisions.com>


    Furthest policy preferences


Author: MichaelCourtney <wobbly@fredvisions.com>


    remove centralization dislike from george


Author: MichaelCourtney <wobbly@fredvisions.com>


    George policy preferences


Author: MichaelCourtney <wobbly@fredvisions.com>


    Gysache policy preferences


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update README.md (#3673)
    
    -newish builds require Windows 8.1 as far as I'm aware
    -newish builds require MacOS 10.12
    -mention probably-supported Ubuntu versions


Author: 0x159BABA11227B902 <0xIDENTITY@pm.me>


    Updated info about provide at ArchLinux (#3678)


Author: geoffthemedio <geoffthemedio@gmail.com>


    combine some namespace specifiers


Author: geoffthemedio <geoffthemedio@gmail.com>


    forward return value


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variables in catch blocks


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak MSVC2019 project file warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    move files into filters in project file


Author: geoffthemedio <geoffthemedio@gmail.com>


    return const reference from SpeciesManager::GetSpeciesHomeworldsMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    evaluate activation conditions with std::async in DispatchEffectsGroupScopeEvaluations


Author: geoffthemedio <geoffthemedio@gmail.com>


    separately track timing of ship and planet species during effect evaluation


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid dynamic_pointer_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid dynamic_pointer_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    add overload to UniverseObject::MoveTo taking a raw UniversObject*


Author: geoffthemedio <geoffthemedio@gmail.com>


    rename EMPTY_CURRENT_VALUE to DEFAULT_CURRENT_VALUE and explicitly initialize to 0, since boost::variant is not default empty


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some dynamic_pointer_cast with static_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace dynamic_pointer_cast with check of UniverseObjectType and static_pointer_cast
    -other grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    mark logger calls with the effects filter


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unnecessary default base class initializers
    -mark logger calls with the conditions filter


Author: O01eg <o01eg@yandex.ru>


    Remove some unused parser tokens


Author: O01eg <o01eg@yandex.ru>


    Full checksums test


Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Some more translations into spanish (#3671)
    
    Some more translations into spanish


Author: Rob Gill <rrobgill@protonmail.com>


    Prevent enqueing multiple Regional Administration at same planet (#3674)
    
    Signed-off-by: Rob Gill <rrobgill@protonmail.com>


Author: O01eg <o01eg@yandex.ru>


    Add missing fileds to Tech, EffectsGroup, and Named* dump


Author: Andrey <andrey.solomatin@clarifai.com>


    Print address to console, exit service gracefully (#3669)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Species likes/dislikes tweaks (#3670)
    
    * Trith like research, isolation, divine authority
    * Add "PLC_BUREAUCRACY" to species likes/dislikes
    * Start Fulver with Confederation unlocked
    * Give Replicon some policy preferences


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jan 17, 2022 - fd013a6)


Author: Geoff <geoffthemedio@users.noreply.github.com>


    -make snowflake bodies have good instead of excellent vision (#3668)
    
    -make detection techs increment range in steps of 25 instead of 25 or 50
    -use value reference for tech detection ranges in pedia
    -reduce living hull detection boost from 50 to 40
    -reduce scanning facility range boost from 75 to 50


Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Add some more spanish translations (#3667)
    
    Add some more spanish translations


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix rendering number with 1 digit of precision rather than to 1 fractional decimal digit of precision


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -merge / simplify FlexibleToString code using if constexpr instead of enable_if SFINAE
    -UserString lookups instead of rendering enums as ints


Merge: 4a0e8b19a b4c6a1833
Author: Vezzra <vezzra@gmx.net>


    Merge pull request #3661 from st-pa-fo/stpa-german-translation
    
    - add some german translations and correct one other


Author: geoffthemedio <geoffthemedio@gmail.com>


    add PlanetTypeDifference case to ValueRef::Complex<int> that converts int or string parameters to PlanetType


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move PlanetTypeToString and PlanetEnvironmentToString from Species.cpp into ValueRefs.cpp and make publicly accessible
    -add reverse-lookup StringToPlanetType in ValueRef.cpp



    -made fleet unstealthiness work in steps of 5 and be a much larger effect, but also with a threshold of 10 ships to start happening
    -added some ship stealth bonuses and penalties dependent on star type



    boosts and penalties to planet and ship detection dependent on star type




    adding number of settled worlds to census report (#3648)
    * - adding a column and labels to the census report to show number of settled worlds per species / per trait / total
    - always display one decimal digit in census population counts
    - another label to distinguish current from target population



    - add some german translations and correct one other
    - rename (only the user-facing part of) all buildings '%SPECIES% Colony' to 'Colony of %SPECIES%'
    --> bunches them together in the buildingtype pedia page instead of smearing all over the list when in default alphabetic sorting order




Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Translate a few strings into spanish (#3653)
    
    Co-authored-by: Roberto Sánchez Fernández <robertosanchez_9@protonmail.com>


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jan 10, 2022 - a235bfd)


Author: oleg <o01eg@yandex.ru>


    Add dump of tested tech to Boost.Test log


Author: oleg <o01eg@yandex.ru>


    Unown outposts with Chaos Wave bombardement weapon


Author: oleg <o01eg@yandex.ru>


    Convert techs/construction/INTERSTELLAR_LOG.focs


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Added the Asteroid coating special. (#3649)
    
    Co-authored-by: Sloth <oliver.mecking@web.de>


Author: Rob Gill <rrobgill@protonmail.com>


    Mark as single window in desktop file (#3650)
    
    Signed-off-by: Rob Gill <rrobgill@protonmail.com>


Author: geoffthemedio <geoffthemedio@gmail.com>


    missing newline


Author: Felecarp <82163172+Felecarpp@users.noreply.github.com>


    Fix inhabited/uninhabited french translation error
    
    The french word "inhabité" means "uninhabitated", not "inhabited".
    https://www.wordreference.com/enfr/inhabited
    https://www.wordreference.com/enfr/uninhabited
    
    The original text:
    '''This building can only be constructed at a [[PT_GASGIANT]]. It gives a [[value BLD_GAS_GIANT_GEN_OUTPOST_TARGET_INDUSTRY_FLAT]] [[metertype METER_INDUSTRY]] bonus to planets with the Industry focus in the same system. If the [[BLD_GAS_GIANT_GEN]] is built on an inhabited gas giant it gives only a [[value BLD_GAS_GIANT_GEN_COLONY_TARGET_INDUSTRY_FLAT]] [[metertype METER_INDUSTRY]] bonus.


Author: geoffthemedio <geoffthemedio@gmail.com>


    -assert -> static_assert
    -fix comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't double-check for source-invariance
    -get a source object if not already specified in context and possible, and then create a new context using that source before evaluating source-dependent ValueRef


Author: geoffthemedio <geoffthemedio@gmail.com>


    move ScriptingContext construction after check for null policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add more granular policy availability display filters
    -refactor policy AvailabilityManager
    -pass ScriptingContext instead of just ObjectMap to Policy::AdoptionCost and Empire::AdoptPolicy


Author: geoffthemedio <geoffthemedio@gmail.com>


    limit number of stack traces logged


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak formatting of float/double to string


Author: geoffthemedio <geoffthemedio@gmail.com>


    more network error logging details


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    higher priority logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    more logging when exiting human client


Author: st.pa <stephan.pakebusch@zollsoft.de>


    - dedentation, more tidier code


Author: st.pa <stephan.pakebusch@zollsoft.de>


    - better accounting labels for tech effects and specials effects, italics style, planet names etc., starting with grow techs, defense techs, construction techs, worldtree special and computronium special
    - typo corrected
    reordering the accountinglabel from effects to effectsgroup


Author: st.pa <stephan.pakebusch@zollsoft.de>


    - add few more names for ships and stars
    - alphabetic reordering of some ship names
    - correcting some typos in ship names (mainly umlauts of proper names)
    - including feedback from https://github.com/freeorion/freeorion/pull/3642
    - adding parentheses in comments for code foldability


Author: geoffthemedio <geoffthemedio@gmail.com>


    add distance to selected system or fleet to objects list columns


Author: geoffthemedio <geoffthemedio@gmail.com>


    handle SelectedSystemID, SelectedPlanetID, SelectedFleetID, and SelectedPlanetID in Variable<int>::Eval


Author: geoffthemedio <geoffthemedio@gmail.com>


    treat DirectDistanceBetween like a position for string representation


Author: geoffthemedio <geoffthemedio@gmail.com>


    -StringCast<double>::Eval don't apply SI postfixes if number is close to 1 in magnitude
    -use to_chars when available


Author: geoffthemedio <geoffthemedio@gmail.com>


    account for SI postfixes in text representations of numbers when sorting object list columns


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variable


Author: geoffthemedio <geoffthemedio@gmail.com>


    added SelectedSystemID, SelectedPlanetID, SelectedFleetID, and SelectedShipID getters to AppInterface. should only be used in the human client, such as for UI purposes, as these don't make sense on a server or AI.


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add SelectedSystemID, SelectedFleetID, and SelectedShipID getters to MapWnd



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove strings for removed policy
    -removed redundant [[]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix parser capitalization


Author: geoffthemedio <geoffthemedio@gmail.com>


    -increase size of influence debt stability penalty
    -add an influence debt decay effect, which should limit how big the debt and grow, and make it reduce on its own over time


Author: geoffthemedio <geoffthemedio@gmail.com>


    allow adopting zero-cost policies even when there is an influence debt


Author: geoffthemedio <geoffthemedio@gmail.com>


    Necessity increases (suitably low stability) planet research growth rate by 1


Author: geoffthemedio <geoffthemedio@gmail.com>


    make Capital Markets increase the rate of growth or decay of stability towards target


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add influence output focus bonus to Capital Markets (requires high stability)
    -add stability penalty from Influence debt to Capital Markets


Author: geoffthemedio <geoffthemedio@gmail.com>


    increased cost and reduced influence bonus from Propaganda Broadcasts


Author: geoffthemedio <geoffthemedio@gmail.com>


    add a social policy slot to the cultural archives


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak Centralization policy:
    -reduce research bonus
    -always-active penalties (not capital stability dependent)
    -higher distance or disconnected stability penalities
    -comments in script


Author: geoffthemedio <geoffthemedio@gmail.com>


    use named references in Continuous Scanning script and pedia description


Author: geoffthemedio <geoffthemedio@gmail.com>


    add stealth boost to No Supply policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove Reserve Tanks policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix indent


Author: geoffthemedio <geoffthemedio@gmail.com>


    merge exploration research effects into exploration


Author: geoffthemedio <geoffthemedio@gmail.com>


    -expose server API function to set starting resource stockpiles
    -start with 20 IP


Author: MichaelCourtney <wobbly@fredvisions.com>


    Make stability penalties for shipyard dislikes work


Author: geoffthemedio <geoffthemedio@gmail.com>


    moving instead of copying pointers between containers


Author: geoffthemedio <geoffthemedio@gmail.com>


    use GG::Pt::operator std::string() instead of lexical_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    add GG::Pt::operator std::string()


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant / null-op lexical_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make TextControl::GetValue safer with try-catch
    -use to_string in TextControl::operator<<


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplmement TagParamsToColor using std::from_chars


Author: geoffthemedio <geoffthemedio@gmail.com>


    factor out and simplify tag text to color conversion


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove getting and passing of original colour info that was never used in Font::HandleTag


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplement CustomRowCmp using std::from_chars


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Improve Bureacracy SiteRep


Author: geoffthemedio <geoffthemedio@gmail.com>


    exclude stale objects from within MapWnd determination of detector ranges


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make GetEmpiresPositionDetectionRanges exclude destroyed objects
    -add GetEmpiresPositionDetectionRanges overload that excludes destroyed objects and objects in a separate set of ids


Author: geoffthemedio <geoffthemedio@gmail.com>


    add NotInSetsVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    move some getting and calculations out of the loop over rows


Author: geoffthemedio <geoffthemedio@gmail.com>


    -de-pointerize RenderCache
    -don't redundantly create RenderState objects when one was passed into Font::PreRenderText


Author: geoffthemedio <geoffthemedio@gmail.com>


    reserve slightly more space in vertex buffer, which was often one smaller than required


Author: geoffthemedio <geoffthemedio@gmail.com>


    get Universe from global getter at top of function


Author: geoffthemedio <geoffthemedio@gmail.com>


    make another Condition::Eval overload virtual and specialize for Type to avoid re-checking all the objects of a particular type right after collecting them with GetDefaultInitialCandidateObjects


Author: geoffthemedio <geoffthemedio@gmail.com>


    make UniverseObject::Owner non-virtual. this means systems are always considered unowned by this getter.


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass EmpireManager into HostileVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    move FLEET_MOVEMENT_EPSILON into header


Author: geoffthemedio <geoffthemedio@gmail.com>


    add UnownedVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    only apply target happiness penalty to planets, not ships


Author: geoffthemedio <geoffthemedio@gmail.com>


    move UniverseObjectVisitor trivial constructors into header and remove unnecessarily declared destructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    -structured binding



Author: geoffthemedio <geoffthemedio@gmail.com>


    remove extra space


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix planet_id safety check


Author: Axel Groß <axel.gross@iaeste.at>


    PLC_LIBERTY -2 stability; for stability >= 6 +2 research


Author: geoffthemedio <geoffthemedio@gmail.com>


    tpyo


Author: geoffthemedio <geoffthemedio@gmail.com>


    make explicit some lambda return types. the PropagatedSystemSupplyRange and PropagatedSystemSupplyDistance cases fix an objects list column issue where the lambda was returning a reference to a temporary when the return type was auto-deduced.


Author: oleg <o01eg@yandex.ru>


    Convert techs/construction/CONTROL_GRAV_ARCH.focs


Author: oleg <o01eg@yandex.ru>


    Automatically flattens And and Or conditions


Author: oleg <o01eg@yandex.ru>


    Fix format


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Dec 23, 2021 - 1ff9ff5)


Author: Axel Groß <axel.gross@iaeste.at>


    Make unused EmpireObjectVisibility complex ValueRef consistent with VisibleToEmpire Condition (partly consistent with Universe::EmpireObjectVisibility


Author: Axel Groß <axel.gross@iaeste.at>


    Treat neutral (==ALL_EMPIRES) forces like an empire for visibility ONLY in combat [docs]
    
    * the underlying model is: neutral forces per default can see everything
    * this gets modified/interpreted differently in many places;
      usually: local monster detection has to be higher than the object's stealth
    ** initiating combat (ServerApp::GetFleetsVisibleToEmpireAtSystem)
    ** targeting during combat via FOCS; ship weapons use VisibleToEmpire condition in default/scripting/ship_parts/targeting.macros.
    ** Bombard parts use Stealth high = Source.Detection


Author: Axel Groß <axel.gross@iaeste.at>


    Treat neutral (==ALL_EMPIRES) forces like an empire for visibility


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unnecessarily explicitly defaulted SupplyManager constructor
    -remove incomplete assignment operators for SupplyManager that were leading to some info being lost client-side


Author: geoffthemedio <geoffthemedio@gmail.com>


    add else to mutually exclusive ifs


Author: geoffthemedio <geoffthemedio@gmail.com>


    -get IDs once rather than each time used
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't dereference moved-from pointer


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove separate isProducibleShip from PythonAPI, which duplicated the results of isEnqueuableShip
    -add API documentation text


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add isProducibleBuilding, isEnqueuableBuilding, isProducibleShip, and isEnqueuableShip to Python API
    -check before attempting to enqueue Scanning Facility and Orbital Drydocks


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    add (optional) rendering of future turn's predicted detection range circles for the selected fleet


Author: geoffthemedio <geoffthemedio@gmail.com>


    add initial implementation of Universe::GetEmpiresPositionNextTurnFleetDetectionRanges that assumes ship detection ranges will be the same after they move


Author: geoffthemedio <geoffthemedio@gmail.com>


    Use GetEmpiresPositionDetectionRanges rather than MapWnd internal equivalent calculations. This removes some checks for stale or destroyed objects, so might lead to weirdness in some cases, which will need to be fixed if they are actually issues.


Author: geoffthemedio <geoffthemedio@gmail.com>


    expose Universe::GetEmpiresPositionDetectionRanges


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    early exit if ship to be duplicated has an invalid design ID


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't prohibit creating ships with invalid design IDs, as there are use cases


Author: agrrr3 <axel.gross@iaeste.at>


    Make Trith have average environments (RADIATED_STANDARD) (#3623)
    
    having some options for adequate environments is a preparation path for terraforming.
    before restricting self-sustained to good planets this was basically a no-go, now its possible


Author: geoffthemedio <geoffthemedio@gmail.com>


    added game rule for extrasolar ship detection, defaulting to off


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix ships not in systems (unintentionally) giving visibility


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass by value and move resource and population centers









    pass string_view to AddWindowOptions, AddWindowOptions, and InvalidateWindowOptions


Author: geoffthemedio <geoffthemedio@gmail.com>


    add overloads to Wnd::SetDragDropDataType taking string by value, char*, or string_view-


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store intermediate bits of text as string_view instead of newly allocated string
    -check if stringtable has an entry before looking it up
    -use preset text and pass in result of lookup rather than redoing lookup when generating link-tagged text
    -concatenate with .append


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    string append instead of operator+ for concatenation


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix compile error with MSVC2022


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Nov 19, 2021 - ca58556)


Merge: 3bb1884e8 47633648e
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3605 from agrrr3/20211118_AI_for_spatial_fluxies
    
    AI entries for FLUX techs, hulls, and lance


Author: geoffthemedio <geoffthemedio@gmail.com>


    add overloads of UserStringExists taking a string_view or const char*


Author: geoffthemedio <geoffthemedio@gmail.com>


    string copy to string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    limit StringTable lookup stack traces to 10 to avoid log spam if there are many


Author: geoffthemedio <geoffthemedio@gmail.com>


    log stack trace when first lookup up a missing string


Author: geoffthemedio <geoffthemedio@gmail.com>


    index source object containers with string_view instead of new string copies


Author: geoffthemedio <geoffthemedio@gmail.com>


    make CategoriesSlotsPoliciesAdopted return string_views


Author: Axel Groß <axel.gross@iaeste.at>


    Format with black


Author: Axel Groß <axel.gross@iaeste.at>


    Make flake happy


Author: Axel Groß <axel.gross@iaeste.at>


    Handle SR_FLUX_LANCE non-stacking in ShipDesignAI


Author: Axel Groß <axel.gross@iaeste.at>


    Consider researching space flux hulls if you dont research organics


Author: Axel Groß <axel.gross@iaeste.at>


    AI entries for FLUX techs, hulls, and lance; not really used by AI though


Author: geoffthemedio <geoffthemedio@gmail.com>


    add "browsepath" to stringtable linter optional ref types


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add some missing options DB description strings for colours
    -add note of the influence cost of Indoctrination to its description


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary setting of title that also used a non-existent string


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix reference to non-existent string


Author: geoffthemedio <geoffthemedio@gmail.com>


    -adjust Empire policy-related interface to take and return string_view where possible. this should fix a potential issue where views of temporary strings were being created and passed into DispatchEffectsGroupScopeEvaluations.
    -store some of the Empire policy-related info in maps with std::less<> comparator to allow heterogeneous lookups


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix GetPolicy overload not actually returning anything


Author: geoffthemedio <geoffthemedio@gmail.com>


    make ViewMapToStringMap work for maps with non-standard comparators


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    simplify copy into an iterator-pair initialization


Author: geoffthemedio <geoffthemedio@gmail.com>


    string_view instead of string&


Author: geoffthemedio <geoffthemedio@gmail.com>


    add GetPolicy overloads that take a string_view. should later be reimplemented without temporary string construction.


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    add link to configuration file directory in the Configuration pedia article


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move checks for Linux when handling PathType enums to the macro definition of the enum class
    -return array<string_view> instead of vector<string> from PathTypeStrings (which gives a list of PathType strings used for LinkText replacement)
    -add a getter that returns an array of the valid PathType enum values
    -removed unused GetPath overload taking a string (instead of a PathType enum)
    -remove const string pathtype constants and moved into a function that returns string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    return vector<string_view> from SpeciesThatLike and SpeciesThatDislike


Author: geoffthemedio <geoffthemedio@gmail.com>


    -return string_view instead of string
    -reserve space when building string
    -append rather than + to concatenate


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix dummy parser build


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store specials in map with std::less<> comparator, to allow heterogeneous comparisons between string and string_view
    -add GetSpecial overload taking string_view
    -make SpecialNames() return a vector<string_view>
    -pass in container that sorts using std::less to GetSortedPediaDirEntires
    -pass specific_cause_name to StoreTargetsAndCausesOfEffectsGroup as string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string by value with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    return vector of string_view from PolicyManager::PolicyNames


Author: geoffthemedio <geoffthemedio@gmail.com>


    -return maps containing string_view from Empire::TotalPolicySlots, Empire::EmptyPolicySlots, and PolicyManager::PolicyCategories
    -move string in Empire::Init
    -remove redundant namespace qualification in WrapEmpire()


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    default value for Fleet::m_last_turn_move_ordered


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[fallthrough]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string by value with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    make loop variable auto


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string by value with move


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Nov 14, 2021 - ed79c4c)


Merge: 716f96fa5 63f1d9b62
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3600 from agrrr3/20211101_SpatialFluxRework
    
    spatial flux rework


Author: oleg <o01eg@yandex.ru>


    Fix format


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/CONC_CAMP.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ASYMP_MATS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ART_PLANET.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ART_HEAVEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ARCH_PSYCH.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ARCH_MONOFIL.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    add % or remainder (aka modulo) operator to FOCS for int and double


Author: agrrr3 <axel.gross@iaeste.at>


    Stringtable update flux lance
    
    Co-authored-by: Geoff <geoffthemedio@users.noreply.github.com>


Author: agrrr3 <axel.gross@iaeste.at>


    Stringtable update flux composition hull
    
    Co-authored-by: Geoff <geoffthemedio@users.noreply.github.com>


Author: agrrr3 <axel.gross@iaeste.at>


    Update default/stringtables/en.txt
    
    Co-authored-by: Geoff <geoffthemedio@users.noreply.github.com>


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Some improvements to BUREAUCRACY (#3602)
    
    Also do not penalise focus change right after conquering
    Avoid duplicate value definition
    Fixed numbers in message


Author: oleg <o01eg@yandex.ru>


    Use runtime meter type instead of compile-time


Author: O01eg <o01eg@yandex.ru>


    Fix review


Author: O01eg <o01eg@yandex.ru>


    Use emplace_back


Author: O01eg <o01eg@yandex.ru>


    Simplify boost::python::dict forwarding.


Author: O01eg <o01eg@yandex.ru>


    Fix MSVC projects


Author: O01eg <o01eg@yandex.ru>


    Use boost::python::dict forwarded


Author: O01eg <o01eg@yandex.ru>


    Includes cleanup


Author: O01eg <o01eg@yandex.ru>


    Move remaining value refs


Author: O01eg <o01eg@yandex.ru>


    Remove unneded fields from techs grammar


Author: O01eg <o01eg@yandex.ru>


    Move sources/targets/candidates and enums to separate files


Author: O01eg <o01eg@yandex.ru>


    Move value refs to separate file


Author: O01eg <o01eg@yandex.ru>


    Move conditions to separate file


Author: O01eg <o01eg@yandex.ru>


    Move some effects parser stuff to separate common file


Author: geoffthemedio <geoffthemedio@gmail.com>


    add effect to Outposts tech so outpost influence moves towards target influence. outposts otherwise won't get this effect due to lack of a species to get it from.


Author: geoffthemedio <geoffthemedio@gmail.com>


    add restrictions to Bureaucracy focus change effect, so that it only affects planets of the same empire that have populations. this should hopefully fix an issue where other empires' outposts were getting influence penalties each turn when another empire adopted Bureaucracy.





    Add SR_FLUX_LANCE weapon part
    Add hull SH_SPACE_FLUX_COMPOSITE
    Make SPACE_FLUX_BUBBLE cheaper and more fragile; Refactor SPATIAL_FLUX_STEALTH_TECH_BONUS
    Split spatial flux hulls into own hull line (was in robotic)













Author: Grummel7 <muzz@albatross.pond.sub.org>


    Balance policy Metropoles
    Halfed production and research bonus.
    Require stability of 12.
    No more than 1 in 4 of an empires populated planets can become a metropole.


Merge: 87a9817f1 6f5bdf9dc
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3556 from Grummel7/colonizeAfterConquer
    
    Colonize after conquer


Author: geoffthemedio <geoffthemedio@gmail.com>


    -default destructor in header
    -move default constructor to protected section


Author: geoffthemedio <geoffthemedio@gmail.com>


    reorder members


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove empty and seemingly unnecessary to define destructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    add planet baseline stability rule


Author: geoffthemedio <geoffthemedio@gmail.com>


    store and use ScriptingContext rather than visibility maps in VisibleToEmpireSimpleMatch


Author: geoffthemedio <geoffthemedio@gmail.com>


    add Visibility getter helper to ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add current_turn parameters to some sitrep generators
    -add current_turn and Universe parameters to some Empire unlock / add / apply functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding and emplace


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe to PredefinedShipDesignManager::AddShipDesignsToUniverse


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap to SpeciesManager::UpdatePopulationCounter


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe to Empire::UpdateOwnedObjectCounters


Author: geoffthemedio <geoffthemedio@gmail.com>


    -do prefix lookups by function call rather than call-site operator[]
    -direct initialize prefix maps
    -store and pass prefixes as std::string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    just get building type name once before looping


Author: geoffthemedio <geoffthemedio@gmail.com>


    make static const


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variable


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use context diplo status
    -fix unused variable warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    use a static const MovingFleetVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    make move constructors noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    reorder members


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    use AppEmpireID() to decide what ObjectMap to use


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add EmpireID getter to AppInterface and derived classes
    -add AppEmpireID global getter


Author: geoffthemedio <geoffthemedio@gmail.com>





    Add support for Python's asyncio
    Embedded Python need to manually calls event loop so coroutines and
    callbacks could be executed.
    It uses approach described in https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.loop.run_forever
    to call olny ready callbacks and then return back to application.




    Return false from auth.py result to mark unallowed player names





    Improve AI systems_connected performance (#3559)
    * Optimize AI systems_connected performance
    Instead of running a BFS for each pair of system ids, cache the set of systems connected to the capital in a single depth-first-search and check if queried system_ids are within that set. Since most of the visible systems will be connected to the capital, this will cover most cases. Only if both systems are not connected to the capital, we will have to run another BFS. However, the search space will be significantly smaller since -again- most systems will be connected to the capital and thus won't be part of the search.



    Fix star based colonization value calculation
    The larger boni should apply if the AI does not yet have a star of that type. The defect was introduced in #3484



Author: Andrey <Cjkjvfnby@gmail.com>
    Cache shortest distance and get neighboars (#3553)

Author: Andrey <Cjkjvfnby@gmail.com>
    Round values to avoid saving too many digist after point to savestring (JSON) (#3551)

Author: Andrey <Cjkjvfnby@gmail.com>
    [AI] Use caches to speedup invasion calculations (#3548)









Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed more policy-check Statistic If FOCS expressions


Author: geoffthemedio <geoffthemedio@gmail.com>


    tpyo


Author: geoffthemedio <geoffthemedio@gmail.com>


    handle case when stringtable is missing with a hard-coded simpler message


Author: geoffthemedio <geoffthemedio@gmail.com>


    Add some hopefully-helpful explanation text to the output of freeorion -h


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract public module variables from ColonizationAI (#3538)


Author: Andrey <Cjkjvfnby@gmail.com>


    Add black formatter (#3531)
    
    Reformat support files with black
    
    * Add black uncompromised formatter
    * Make flake8 compatible with black
    * Update configs
    * Update CI checks
    * Improve isort messaging


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed some cost adjustment macros that were checking if any object was owned by an empire that had adopted a policy, rather than if an object owned by the empire doing the production is owned by an empire that has adopted a policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't evaluate ValueRef if not necessary


Author: geoffthemedio <geoffthemedio@gmail.com>


    location condition tweaks


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweaked some location condition:
    -add or move earlier OwnedBy empire = Source.Owner
    -add explicit Planet conditions


Author: geoffthemedio <geoffthemedio@gmail.com>


    only consider ships and planets when searching for any object owned by an empire, so that systems don't get returned


Author: geoffthemedio <geoffthemedio@gmail.com>


    store a reference to CurrentValueVariant rather than a separate value in ScriptingContext and default initialize with a reference to a const static empty CurrentValueVariant when none is passed in


Author: geoffthemedio <geoffthemedio@gmail.com>


    only get supply range from planets, not all objects. this avoids seemingly costly calls to System::Owner


Author: geoffthemedio <geoffthemedio@gmail.com>


    move pointers


Author: geoffthemedio <geoffthemedio@gmail.com>


    only evaluate empire_id if needed for applicable test


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't need to evaluate the high constraint if the low constraint fails


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove empty MSVC project file filter


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove as-yet-unused InfluenceQueue from Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Black Market policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made Trith species on the capital unlock Racial Purity policy
    -made Racial Purity policy not require adoption of Checkpoints


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added increased rate of growth or decay of influence to Capital Markets
    -increased influence boost from Capital Markets exported luxuries to 2


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Charge policy


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix calculation for conquered planets (#3543)
    
    Of course I forgot to handle planets that were conquered
    before indoctrination was adopted.


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Aug 8, 2021 - f2ebb02)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Defined build and enqueue location for translator (#3542)


Merge: 2fbb8f017 f2ebb0254
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3541 from Grummel7/TurnsSinceLastConquered
    
    Added TurnsSinceLastConquered, used in for Indoctrination


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Some minor documentation improvements


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Added TurnsSinceLastConquered, used in for Indoctrination


Author: geoffthemedio <geoffthemedio@gmail.com>


    -clarify Metropoles description re: minimum population
    -fix copy-paste error in Metropoles description, to clarify that stockpile receives a penalty


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Trans-Organic Sentience boost the growth/decay rate of influence meters


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove meaningless but potentially misleading building description text


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Necessity policy that boosts research at low stability planets


Author: geoffthemedio <geoffthemedio@gmail.com>


    rewrote Martial Law description


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made Conformance research penalty not depend on stability
    -added flat stability boost to Conformance
    -rewrote stringtable description of Conformance


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Border Checkpoint unlock, rather than be a prerequisite for, Martial Law


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove happiness limit from Martial Law


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove Confederation prerequisite from Feudalism


Author: geoffthemedio <geoffthemedio@gmail.com>


    add ObjectMap parameter to SupplyManager::Dump


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -Marine Recruitment increases troop growth rates on planets
    -unlock Marine Recruitment by adopting Propaganda


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store EmpireManager reference rather than EmpireManager::const_container_type reference in CombatInfo
    -thereby reduce use of global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    removing global getter calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    -removed unused Empire::SourceID()
    -pass ObjectMap to AddExploredSystem


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added more ScriptingContext parameters to various functions to avoid calling global getters
    -removed some default values for ObjectMap parameter to various functions
    -prep for further passing of ScriptingContext by explicitly calling the global getters
    -added some checks when passing a ScriptingContext to a Universe member function that the passed-in ScriptingContext contains the same ObjectMap and Universe as the called-upon Universe



Merge: 4dca2ec76 0e7b9eb04
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3505 from o01eg/fix-drop-empire-link
    
    Didn't kick out current player connection


Author: Oberlus <sicofonte@gmail.com>


    Fix sign switch on xenophobic self malus (#3537)


Author: geoffthemedio <geoffthemedio@gmail.com>


    relax requirements for artistic species same-system bonus



Author: geoffthemedio <geoffthemedio@gmail.com>


    -add Liberty and Conformance scaling to species like/dislike effects for policies
    -clarify stringtable descriptions


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduce Translator influence bonus


Author: geoffthemedio <geoffthemedio@gmail.com>


    make Indoctrination influence bonus flat and restrict to the capital and regional admin planets with influence focus


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing or preparation for passing gamestate into functions rather than using global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    -moved translator influence effect to [[TARGET_AFTER_2ND_SCALING_PRIORITY]] priority, similar to Automated History Analyzer
    -reduced size of effect to depend on the square root of the number of species


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unnecessary And and []


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Metropoles policy that boosts a small number of high-population planets, while penalizing others' stability


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Add turn type (#3535)


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe reference into Clone and Copy functions of UniverseObject


Author: geoffthemedio <geoffthemedio@gmail.com>



    -nodiscard


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass in ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass in ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>









    fix neutral / unowned forces being labelled "Unknown" in combat initial stealth event descriptions




    Ignore freshly established colonies for evacuation building effects (#3514)
    Ignore freshly established colonies for evacuation building effects




    
    Didn't kick out current player connection


    
    
    
    
    -fixed probably long-standing (8 years?) bug with ContainedBy::Match that returned the opposite of what it should have. This probably didn't affect gameplay much, since most or all uses of ContainedBy have subconditions that are OK to evaluate once for checking all candidates, rather than the per-candidate evaluation case that actually calls Match

    lowered stability requirements of solar orbital generation effects

    disallow newlines in pedia search edit, which prevents weirdness when pasting in multi-line text


    -Fix issues with calculation of research bonus in Distributed Thought Computing
    -Replaced some * with • in various strings



    Base MILITARY_STRENGTH statistic on putting all ships in a single fleet
    This estimates the power of all your ships now put in a single fleet
    instead of estimating the power of each ship flying solo and adding that up.


    Elaborate labels for damage/destruction by fleet (review-01)

    Include fighters in fleet damage/destruction totals (UI)

    Calculate combat total structural damage/destroyed fighters for carriers



    TotalFighterShots ValueRef - Calculates the maximum number of shots the fighters of a single carrier shoot in a combat. For use in hangar part damage estimation.
    * So a striker with a launch bay has 3 fighters and 2 launch capacity so for four combat bouts - TotalFighterShots is 8 (0+2+3+3)
    ** for that structural damage estimation would be TotalFighterShots*HangarDamage and destroyed fighter estimation would be TotalFighterShots
    * not sure how to parse it. how to pass the ship id. if the the result should really be int. what the name for the condition should be
      Source.TotalFighterShots countIf = (CombatBout == 2)
             TotalFighterShots shootIf =                   id = Source.ID
             TotalFighterShots condition =
    * not sure we really want this
    * in principle targeting could support the time a fighter is already flying/the bout it was launched
    ** but in the damage estimation one would really have to instantiate/check fighter objects per bout
    *** so that would mean more calculations, which scales quadratic with the number of combat bouts (OTOH combat is way more expensive)
        number of tests for 10 bouts w/o  launchBout: 10 (0+1+1+1+1+1+1+1+1+1+1)  n
        number of tests for 10 bouts with launchBout: 55 (0+1+2+3+4+5+6+7+8+9+10) n/2*(n+1)
    ** if we had a maximum flight time (e.g. missiles fly a bout without doing damage) we would need some something like that anyway
    *** not sure how that interacts with stealth though
    ***** if missiles should always be launched or only if there is a visible target - I prefer this, but needs to use combatTargets on launch time
    ***** and if the missile should keep on flying if there is no visible target - if no: could reduce real damage (wont matter for estimation though)
    * one could also model in max/min amount of damage (min amount: fighters get shot down immediatly, max amount: fighters do not get shot down)
    
    TotalFighterShots valueref should use the context with bout info and decrease fighters in hangars for each launch
    
    * was using the original context instead of the mutable one
    * did not decrease the number of fighters available


Author: Axel Groß <axel.gross@iaeste.at>


    Damage estimation: Use Shield from ship in context, check fighter in context vs combatTargets
    
    * uses shield meter from target in default estimation of structural damage
    * can use Value(Target.Shield) in FOCS
    
    * use combatTargets condition of fighters for default estimation of structural damage or fighter destruction


Author: Axel Groß <axel.gross@iaeste.at>


    fixup - string lint


Author: Axel Groß <axel.gross@iaeste.at>


    Show number of fighters shot instead of number direct weapon hits in pedia


Author: Axel Groß <axel.gross@iaeste.at>


    Use combatTargets condition in fighter details popup in ship view


Author: Axel Groß <axel.gross@iaeste.at>


    GUI shows split damage/destroy estimation
    
    damage - refers to the amount of damage against ships
    destroy - refers to the number of shots against fighters
    
    Unified view in ShipDamageMeterWnd
    Split icons in FleetWnd
    
    TODO
    * add a target to context for shield evaluation
    * cleanup
    * decide when to include fighters in destroy tally


Author: Axel Groß <axel.gross@iaeste.at>


    A part has to inflict more than 0 damage to destroy a fighter


Author: Axel Groß <axel.gross@iaeste.at>


    Change damage estimation, split Ships/Fighters, full combat damage
    
    In the UI, only ShipDamage is shown
    
    Example content
    * SR_WEAPON_0_1 - no damage against ships
    * SR_WEAPON_1_1 - no damage against fighters
    * SR_JAWS       - Only half the damage against ships (shoots only 2 out of 4 bouts)
    
    * combat damage gets calculated per combat not per bout
    * also checks for shields (target-dependent ShipDamage)
    
    TODO
    * some valuerefs (attack) can trigger a endless recursion







    Use secondary stat to display hangar part damage (bugfix)


    Add happines species trait plus some rebalance (#3493)

    cast to int to avoid sign/unsigned comparison warning

    don't treat a visibility entry of VIS_NO_VISIBILITY as having visibility of an object when creating combat object damaged sitreps

    -renamed GiveEmpireTech to GiveEmpireContent and added an UnlockableItemType parameter


    Refactored Fleet Aggression Handling (#3447)
    Default aggression was used inconsistantly. When a fleet was
    split, depending on the splitting method split-off battle ships
    became aggressive or just obstrusive.
    I defined alias values for default aggression of armed
    and unarmed ships and used the new values where appropriate.
    Also did some further cleanup in those methods.





    Improve table printer (#3471)
    * add placeholder
    * remove Python 2 artifacts
    * split code into separate files
    * add type annotation
    * add placeholder field
    * rename Float to Number
    * add support for long prints



    hopefully fixed issue with gifting where it was order-dependent for swapping all objects between two empires at a location




    use ValidExecutableBinary test when setting server binary executable file on Windows



    added Nearly-Universal Translator building




    


    Adjust damage output on maintenance ship (nerf)


    Weaken arc disruptor on maintenance ship (5x1 damage instead of 3x2)
    mass driver damage                       72 == 1x3x4 x6
                                            120 == 5x1x4 x 6
    arc disruptor damage                    144 == 3x2x4 x 6
    medium hull ship with  no basic armour:  80 == 10    x 8
    medium hull ship with one basic armour: 128 == 16    x 8
    medium hull ship with two basic armour: 176 == 22    x 8


    Remove one arc disruptor from maintenance ship





    render fleets that are (somehow?) not in systems and not moving



    update all object meters when showing system, not just system contents, since there is apparently a difference in the results, with some effects not applying when updating only some object IDs




    Remove transitive dependency in Techs (#3439)
    We have two tech paths to LRN_GATEWAY_VOID from LRN_NDIM_SUBSPACE
    1) LRN_NDIM_SUBSPACE opens LRN_GATEWAY_VOID
    2) LRN_NDIM_SUBSPACE opens LRN_SPATIAL_DISTORT_GEN opens CON_STARGATE opens LRN_GATEWAY_VOID
    





    fixed some DEF_GARRISON tech effect value references


    Make AI aware of self-sustaining restrictions
    Make AI aware of some restrictions for guards

    Let AI not colonize in unexplored systems
    Unexplored systems may often contain space monsters. Note that it is possible to detect planets in unexplored systems due to e.g. some species effects in current content.

    Add function to request emergency exploration
    An emergency exploration may be requested by another part of the AI to prioritize the scouting of a particular system.




    Print internal enums as names (#3393)
    Python 3.9 and Python 3.6 have different implementations of the __str__.
    - 3.9 __str__ calls __repr__
    - 3.6 __str__ does not call __repr__
    So we need to implement both of them.



    Fix multiplayer issues
    Correctly get revious player id. Before could get same player just
    connected.
    Fix crash if connection to the game could cause switch to lobby.


    Add option to allow human player to take over any AI (#3357)
    * Add option to allow human player to take over any AI
    * Assign empire to new human player


    Kick out other players controls same empire (#3353)
    Additionally kills AI process if other player was AI.


    Kill AI process of eliminated empire
    Stores AI process indexed by AI name.


    Allowed AI to delegate player
    Allows locally launched AI to skip authentication.
    Allows player or AI to delegate someone without lobby if they have single empire to play.
 

   








### Key Changes

- Added a government policies system
    - Policies have various positive or negative effects on an empire, some of which were moved from techs to policies
    - Policies represent various social, economic, and military ideas and ideals
    - Empires have limited slots in which policies can be adopted
    - Slots are unlocked by techs, buildings, other policies, ships, species or other content
- Gave species likes and dislikes
    - Buildings, policies, or specials nearby or in an empire affect their planet stability
- Made planet stability have more consequences
    - Various planet effects depend on stability levels, including resource output growth rates and stable values
    - Low planet stability causes rebel troops to appear
    - Rebel troops can cause a planet to leave an empire
- Added influence resource
    - Spent to adopt policies
    - Consumed by colonies and outposts and various content
    - Generated by various content and associated planet focus setting
    - Going into debt will reduce planet stability
- Extensive content reworking and balance adjustments for buildings, techs, policies, species, ship hulls and parts
- Combats default to 4 bouts, with ship structure and damage adjusted accordingly
- Added additional fleet aggression settings for finer control of blockading, hiding, and combat initiation


### Detailed Changelog


#### Graphics / Interface

- Fixed UI button mouse rollover sound not playing
- Added another star forming nebula appearance
- Set minimum window sizes on design screen
- Improved pedia search performance and noted time to search at end of results
- Show + or - instead of brackets around second number (change) in StatisticIcon
- Don't show planet type wheel for asteriods and gas giant pedia pages
- Fixed extraneous precision in graph axis labels
- Allow galaxy setup panel of multiplayer lobby to scale with window size
- Fixed message color in chat history
- Made tab bar button size flexible with font size
- Disabled queue popup commands while order issuing is disabled
- Fixed hang when the production list is refreshed while a popup menu is open
- Added display of config and log directory on options directories tab
- Added a list of issued orders on the player's empire's pedia page
- Don't hide meter icons when the output is negative
- Fixed issue with multiplayer empire lists with eliminated empires when loading games
- Fixed fleets window scroll resetting when changing fleet aggression
- Added Unicode glyph U+22C4 "Diamond Operator" to Roboto regular font to use as a neutral bullet point marker
- Added options to control for tooltip colours
- Made big fleet icons bigger
- Added an option to lock map zoom and panning
- Show script-derived floating point numbers in UI with only 3 digits
- Split Attack column on Objects List into Total Structure Damage per Battle and Number of Destroyed Fighters per Battle
- Replaced field mouseover image


#### Content and Balance

- Government
    - Added numerous policies that empires can unlock and adopt

- Ships
    - Ship structure and damage adjusted for 4 bout combats
    - Added the Flux Lance weapon that is "short range", attacking from bout 3 (or 2 if the Charge policy is adopted)
    - Added the Graviton Pulsar weapon that has 12 attacks that do 1 damage and targets anything, useful against fighters
    - Rebalanced fighter techs and pilot trait effects
    - Applied ship weapon damage rule scaling rule to species and monster weapon bonuses and 
    - Applied ship structure scaling to tree regeneration
    - Made blockade checks test that a fleet is set to Obstructive not Aggressive
    - Reworked Organic hull to be cheaper with more fuel and less slots
    - Added a stealth stealth penalty to ships with large numbers of ships in the same system owned by the same empire
    - Made Laenfa fuel regrow and white or blue stars
    - Made Sly refuel and repair at planets with own species, without a supply network
    - Reworked various monster ship designs
    - Added or reworked several monster weapons to do bout-dependent damage
    - Redesigned various monster ship designs and gave some extra shots or damage to monster hulls for some weapons the designs use
    - Various cost rebalancings
    - Removed prerequisite dependence between fighter and other weapon techs

- Planets
    - Added some luxury resource specials that some species like and thus get stabilitly boosts from
    - Reduced spawn rates of some specials
    - Many building, species, and tech balance adjustments along with new government systems
    - Made various research and industry bonuses depend on stability
    - Add precognitive detection to Fulver, giving basic visibility to starlane connected planets
    - Asteroid processor and Asteroid Reformation processor now remove themselves if their planet is not an asteroid
    - Made planet max shields not depend on recent combats in system
    - Adjusted troop levels after invasion 
    - Reworked Stellar Tomography to give bonuses based on the number of research-focused planets in a system
    - Reworked Distributed Thought Computing to give bonuses based on distance to the furthest owned ship    
    - Made just-colonized planets start with 6 troops
    - Disabled garrison tech troop regen on just-conquered planets
    - Rebalanced troop bonuses from garrison techs
    - Set infrastructure to 1 on just-conquered planets
    - Made self-sustaining metabolism only give population boosts on good planets
    - Rebalanced Trith species: medium starting planet, bad supply and industry
    - Gave player planets at least 6 troops in beginner mode
    - Gave Sly and Laenfa distinct non-distance dependent stability effects
    - Added the Imperial Regional Administration building that acts like a capital for colony supply distance cost calculations
    - Made distance and supply connection to the imperial capital or regional admin affect planet stability, dependent on adopted policies
    - Restricted the imperial palace stability effect to work only if the palace is on an imperial capital planet
    - Removed Galactic Infrastructure tech's supply-range boost effect
    - Made Gravitic Architecture only boost supply range of Logistics focused planets
    - Removed InterSpecies academy location requirement dependence on default focus
    - Made some species effects not fire if a planet is unowned
    - Reduced Concentration Camp industry boost
    - Added an Abandon Outpost building, which removes an empire's outpost from the planet
    - Added a Colony Independence Decree building, which removes an empire's ownership from the planet but leaves the population as an independent colony
    - Renamed Evacuation System building to Evacuation
    - Made the influence focus bonus population-dependent
    - Disabled generation of Head on a Spike from Cultural Archives
    - Added more penalties to resource meters when focus switching to mitigate focus-toggling strategies
    - Rebalanced Force Energy Structures to give fixed 3/turn faster growth or decay of meters
    - Made protection focus increase troop regeneration rate (if not attacked on previous turn)
    - Made species stability bonus for liking focus not require empire control of planet    
    - Replaced Terraforming (reversion) with targeted Terraforming, allowing Exobots to do Terraforming, but disabling multiple steps in parallel


- Fields
    - Made made star forming nebulae smaller, reduced speed and detection, increased stealth, limited number generated
    - Added Void rift
    - Added Nanite Swarm
    - Added Meteor Blizzard
    - Adjusted Molecular Cloud speed and size
    - Adjusted Ion Storm speed
    - Adjusted field spawning to be closer to the galaxy centre during universe generation
    - Made Nebulae not reduce ship speed below 5, so they don't get stuck in place
    - Added Field Repellor building
    - Made Nymnmn species attract some fields


- Pedia
    - Replaced various hard-coded numbers with content script-derived calculated values
    - Fixed placement limit documenation for InterSpecies academy
    - Documented Planetary Starlane Drive
    - Documented supply network propagation mechanics
    - Additional entries for planetary focus game concept
    - Additional text added for Spatial Distortion, Industry, Logistics, Planet Drive, and Psychic Domination
    - Added an "All Species" list in the species article
    - Improved imperial stockpile distribution documentation
    - Added lists of native, playable, and all species
    - Removed out-of-universe UI-related motivation for the planet drive beacon

- Stringtables
    - Updated translations: French
    - Cleaned up some unused strings
    - Avoid referring to the player in the second person ("you", "your")

- Other
    - Adjusted info shared between allied and non-allied empires
    - Nerfed Telepathy bonus to Psionics cost
    - Removed the Galactic Infrastructure tech
    - Added more and rebalanced universe creation frequency options 
    - Fixed issues with Starlane Bore and Starlane Nexus not correctly avoiding existing starlanes when generating new ones
    - Removed Cyborgs tech
    - Removed redundant prerequisite of N-Dimensional Subspace tech

#### AI

- AI manages influence and adopts policies
- Devalued Gaia special as Sly
- Corrected colony pod turns_to_build when Lifecycle Manipulation is available
- Fixed issue with weapons that have 0 shots
- Made AI tech enqueue order more consistent between different machines



#### Other Features

- Added an option to save game after player issued orders
- Renamed Trade resource to Influence
- Treat empires without population and ships as eliminated
- Expanded fleet aggression settings to: initiate combat, obstruct passage (but don't initiate combat), defensive hide, and passive hide (don't fire even if attacked in combat)
- Introduced server-side auto turn advance option
- Added a game rule to make all objects visible
- Added a game rule that makes never-detected planets not (detectable regardless of stealth and detection strength) just by having an object in system
- Added a game rule that makes all systems at least basically visible to all empires
- Added a game rule that makes basic visibility systems reveal their name and star type
- Added a game rule that adjusts the tech victory difficulty
- Added a game rule that sets the minimum monster starting distance
- Made ground combat allow allies to share forces
- Made planet focus reset when conquered by neutrals or rebels
- Made meter estimates count ground combat



#### Other Bug Fixes

- Crashes or Disconnects
    - Fixed server freeze when disconnecting a player
    - Fixed potential denial of service issue on server
    - Fixed crash when sorting UI lists
    - Fixed a crash if a fleet ended up with no previous or next system
    - Fixed crash during turn processing due to a failed check for whether a player connection is local
    - Fixed a crash with big combat logs

- Gameplay
    - Fixed bombardment not working if ships only have bombardment weapons
    - Fixed various issues with automatic turn advancing
    - Made simultaneous colonization fail instead of picking one empire based on ID

- Content
    - Fixed Gaia special planet type selection
    - Fixed Artificial Black Hole generating multiple sitreps
    - Fixed Distortion Focus planet proximity check
    - Removed some redundant tech prerequisites
    - Fixed multiple sitreps appearing if multiple nova bombs are simultaneously detonated
    - Removed pointless damage boost for piloting for Flak

- Fixed Python logging memory leak
- Fixed issue with Python text encoding on Windows systems
- Fixed issue with loading stringtables that have many successive lines with just # comments on them



#### Technical / Internal

- Dependencies and Versions
    - Raised C++ language version to C++17
    - Moved to compiling with Visual Studio 2019 or 2022 on Windows, removed 2017 support
    - Python 3.7+ is now supported and required. 
    - Bumped minimum versions of various dependencies and versions included in the FreeOrion SDK

- Added named ValueRefs that can be defined in scripts and referenced elsewhere in scripts or in stringtable entries
- Added a NoOp condition for debugging
- Salt combat PRNG seeding with the galaxy seed





    Tweak Hyperspatial Dam (#4222)


    Make it possible to hide the kraken nests from turn 1 and 2 (#4226)
    monster nests are supposed to have a chance to go hidden under cloud spawns
    this does not work correctly for krakens (because those nests can also be created in turns 1 and 2)
    discussion https://www.freeorion.org/forum/viewtopic.php?p=114618#p114618
    this fixes this extending the possible turns and at the same time restricting to the turn after the nest was added


    Tweak stealth and distance to empire of kraken in the ice special (#4248)

    Fix scattered hull pedia entry (#4254)


    Fix species modifier for Troop Techs (#4221)






    Add stealth bonus info about colonies in SPY_PLANET_STEALTH_MOD_DESC
    Add extra sources of detection to METER_DETECTION_VALUE_DESC

    Move effects checks to last at species parser test





    -further tweak allied supply merging to not give allies of allies access to networks if they aren't themselves allies, but to allow mutual allies to connect across several other allies networks
    -additional trace supply logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    boost::bind to lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store Wnd children in vector instead of list
    -replace functors with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace compile-error-causing using with lambda


Author: geoffthemedio <geoffthemedio@gmail.com>


    add rounding tests for meter


Author: geoffthemedio <geoffthemedio@gmail.com>


    -change requirement for adding supply connections to allied systems when an empire's supply propagation into the allied system is obstructed to be that the ally should have propagated supply there, rather than that there be obstructed traversals between systems in both directions.
    -iterate merging allied supply networked repeatedly
    -add more trace supply logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    additional trace logging in supply updates


Author: geoffthemedio <geoffthemedio@gmail.com>


    use std::queue for queues


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


 / moved getters / setters into header


Author: geoffthemedio <geoffthemedio@gmail.com>


    use std::queue for a queue


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace class template specialization with if constexpr



Author: geoffthemedio <geoffthemedio@gmail.com>


    check types before any_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    tpyo


Author: geoffthemedio <geoffthemedio@gmail.com>


    set game rules in AI client after extracting from game start message. hopefully addresses #4124


Author: geoffthemedio <geoffthemedio@gmail.com>


    require partial visibility to generate an object damage in combat sitrep. might address issue #3536


Author: geoffthemedio <geoffthemedio@gmail.com>


    tooltip warning about possible rule issue


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Fix upload artefact name (#4210)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Update skeleton generator doc parser (#4209)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Fix LGTM warnings (#4204)


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Add windows artefact building on master branch (#4203)


Author: O01eg <o01eg@yandex.ru>


    Add more checks for Godot unit tests


Author: agrrr3 <axel.gross@iaeste.at>


    Fix doc in EffectParser1 (#4192)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix meter rounding issues (#4206)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Add option to use conformance (#4137)
    
    * Add option to use conformance
    
    * Review update


Author: O01eg <o01eg@yandex.ru>


    Run godot unit tests in dockerized CI


Author: O01eg <o01eg@yandex.ru>


    Remove use of std::function in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Strip android libraries before packaging


Author: O01eg <o01eg@yandex.ru>


    Detect godot executable in Dockerized CI


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract tech queue header check (#4174)


Author: O01eg <o01eg@yandex.ru>


    Test build of godot client in docker CI


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Extract cmake build to action (#4180)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Text cleanup and code folding removal (#4197)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Reduce error to warning as agreed in dev meeting (#4196)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Move unused code to special function (#4185)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Pedia tweaks (#4183)
    
    * Tweak Fuel Page
    
    * Tweak Detection Strength Page
    
    * Add Stealth/Detection Modifiers for star type to Pedia
    
    * Add fleet unstealthiness penalty to pedia


Author: O01eg <o01eg@yandex.ru>


    Add Object condition, MoveTowards effect and non equal operation


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace boost::bind with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    move getter into header


Author: geoffthemedio <geoffthemedio@gmail.com>


    disable warning arising from Boost code


Author: geoffthemedio <geoffthemedio@gmail.com>


    make GG::Clr constructor from hex colour string more flexible


Author: geoffthemedio <geoffthemedio@gmail.com>


    refactor converting hex colours to array of uint8_t in EmpireManager


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store state changed signal in scoped connection
    -render BuildingIndicator scanline with a ScanlineControl so that they actually appear
    -removed redundant GetMeter


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't need separate const-lvalue-reference and rvalue-ref overloads for InstallEventFilter when the pointer is always copied



Author: geoffthemedio <geoffthemedio@gmail.com>


    -add default position and size parameter values to ScanlineControl constructor
    -reorder members
    -reposition comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    -boost::bind to lambdas
    -store connection in scoped connection
    -move BuildingsPanel ScanlineRenderer to file scope



Author: geoffthemedio <geoffthemedio@gmail.com>


    -boost::bind to lambdas
    -store connection in a scoped connection to prevent dangling reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    logging tweaks


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -reorder members to hopefully reduce padding bytes
    -move trivial getters into header and make noexcept



Author: geoffthemedio <geoffthemedio@gmail.com>


    reorder members to reduce padding bytes


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace boost::bind with lambda
    -pass string with move
    -pass and store function by const reference or with move as appropriate



Author: geoffthemedio <geoffthemedio@gmail.com>


    replace boost::bind with lambda


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some boost::bind with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some boost::bind with lambdas


Author: O01eg <o01eg@yandex.ru>


    Add WithinDistance condition to Python FOCS parser


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Oct 1, 2022 - 065f16d)


Author: O01eg <o01eg@yandex.ru>


    Implement MoveTo effect in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Autodeploy MacOS installer to SorceForge


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix inconsistant tags (#4178)


Author: O01eg <o01eg@yandex.ru>


    Add WithinStarlaneJumps condition and value ref operators


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Add skip for isort to speed it up (#4179)


Author: Andrey <Cjkjvfnby@gmail.com>


    Add cross-reference READMEs to string tables and st-tool (#4170)
    
    * Move string tables docs
    
    * Add cross-reference to the st-tool
    
    * Fix formatting


Author: Andrey <Cjkjvfnby@gmail.com>


    Bum actions and restricts some build runs (#4177)


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Use actions for linting (#4176)


Author: O01eg <o01eg@yandex.ru>


    Change operator < to return value test instead of condition


Author: O01eg <o01eg@yandex.ru>


    Add SetStarType effect and ValueRefDouble/float operator


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI][Charting] Fix imports to avoid crashes when collecting tests (#4171)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Bump development tools versions (#4172)
    
    * Bump tools version
    * Bump pre-commit tools versions
    * Reformat make_versioncpp.py with black


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI]  Played with patch and mock to add some more tests (#4165)
    
    * Played with patch and mock to add some more tests
    
    * Review changes
    
    * More simplifications


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Rework Replicon (#4096)


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused signals


Author: geoffthemedio <geoffthemedio@gmail.com>


    store option change signals by value not shared pointer


Author: geoffthemedio <geoffthemedio@gmail.com>


    make OptionChangedSignal taking string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace ConditionalConnectOption with a lambda. should fix crash when toggling auto repositioning windows option.


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary #includes


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    logging and error-handing in GameRules::Get


Author: geoffthemedio <geoffthemedio@gmail.com>


    missing FOCS #includes for SHIP_STRUCTURE_FACTOR macro


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add operator std::string() to GG::Clr
    -move operator<<(..., Clr) into header


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak type check


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid bad any cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass some parameters by value to Orders
    -remove some [[nodiscard]] from Order Check functions
    -add Check* functions to ShipDesignOrder
    -reorder some members to hopefully improve memory layout / reduce padding



Author: geoffthemedio <geoffthemedio@gmail.com>


    reject formatting chars in names in orders


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store CUIEdit disallowed chars as string_view
    -disallow (more) formatting chars from seed, empire, and player names


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    probably fix potential bug when adopting policy without a specified slot


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    auto replacement


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: O01eg <o01eg@yandex.ru>


    Test script changes in CI


Author: O01eg <o01eg@yandex.ru>


    Start to return ValueRef::Operation instead of Condition::ValueTest


Author: O01eg <o01eg@yandex.ru>


    Accept constants in SetMeter effects


Author: O01eg <o01eg@yandex.ru>


    Implement ResourceSupplyConnected and ~Source conditions in Python FOCS parser


Merge: afcc91f47 eacd83afc
Author: Grummel7 <muzz@albatross.pond.sub.org>


    Merge pull request #4116 from Oberlus/FadingStabilityPenaltyAfterRacialPurity
    
    Rework Xenophobic species and Racial Purity, with fading effect at de-adoption


Author: O01eg <o01eg@yandex.ru>


    Parse effectsgroups field in Python species FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Add name argument to HasSpecies condition in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Parse environments field in Python species FOCS parser
    
    Also adds hash and equality operators to enum wrappers to use them as
    dict key.


Author: O01eg <o01eg@yandex.ru>


    Rename Human condition to IsHuman in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Try to package MacOS build


Author: O01eg <o01eg@yandex.ru>


    Add comparison ValueRefDouble < float
    
    Fixes TypeError: '<' not supported between instances of 'ValueRefDouble'
    and 'float'.


Author: O01eg <o01eg@yandex.ru>


    Add comparison float < ValueRefDouble
    
    Fixes TypeError: '<' not supported between instances of 'float' and 'ValueRefDouble'


Author: O01eg <o01eg@yandex.ru>


    Parse defaultfocus field in Python species FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Test build with MacOS 12


Author: O01eg <o01eg@yandex.ru>


    Add conditions Homeworld and HasSpecial


Author: Oberlus <sicofonte@gmail.com>


    Rework Xenophobic species trait and Racial Purity policy
    
    - Xenophobic penalty only to stability, based on number of planets and jump distance, affecting and being affected by other empires and unowned worlds. At distance 0, penalty is -2.5, decreasing by 0.5 by each jump away.
    
    - Racial Purity
     -- removes the penalties of harassment and frenzy between owned planets;
     -- gives +5 stability to capital species and -10 to other, slowly;
     -- gives +1 influence to influence-focused capital species;
     -- gives -1 influence to other species;
     -- gives +0.05*pop PP to industry-focused, other species;
     -- disables influence and research foci from other species;
     -- de-adopting the policy applies -10 stability penalty to owned planets, fading by -0.5 per turn.
    
    - Trith Bad->Great Influence, Great->Bad Stability and don't dislike Influence.
    
    - Eaxaw Great->Average Stability.
    
    - Temptative AI code to evaluate stability with xenophobia and racial purity


Author: Oberlus <sicofonte@gmail.com>


    Fix comments in Imperial Palace


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move Substring functions into header, make noexcept and [[nodiscard]]
    -reimplement RgbaTag with a custom ToChars function


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>



    -use unordered_map with custom hasher for GG::Clr


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    add operator uint32_t to Clr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make GetCheckSum return uint32_t
 and noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    no [[nodiscard]] void


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant glPushClientAttrib


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak tessellation levels of circles


Author: geoffthemedio <geoffthemedio@gmail.com>


    render system circles and scanlines with single GL calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use function local instead of static / file scope to store colour and depth write masks in BeginStencilClipping



Author: geoffthemedio <geoffthemedio@gmail.com>


    -quiet warning / grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    quiet warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary re-creation of offset Pt


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove single-line RenderMovementLine function
    -make buffers members of MapWnd
    -make BufferAddMoveLineVertices const
    -make BufferAddMoveLineVertices only modify passed in buffers, not (also now removed) file-scope buffers


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move HSVClr code into header
    -use constructor and conversion operator instead of Convert functions to Clr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added or tweak static with constexpr



Author: geoffthemedio <geoffthemedio@gmail.com>


    -make some GG::Clr functions constexpr, not explicitly inline, and/or noexcept
    =make HexClr a constexpr Clr constructor
    -pass Clr by value not reference
    -store star light colours in directly initialized static const container of array instead of vector



Author: geoffthemedio <geoffthemedio@gmail.com>


    make some constexpr locals static


Author: geoffthemedio <geoffthemedio@gmail.com>


    move line rendering optimization


Author: geoffthemedio <geoffthemedio@gmail.com>


    render most fleet move lines / dots with a single call instead of separate calls per line

    
    Reduce influence produced by terraforming policy




    Add SetOriginalType, use with Philosopher Planet (#4142)

    Simplified cost reduction of stealth techs

    Fix planet stealth tech cost










    Give translator a fixed cost
    Add missing macros to Lambala'Lam (#4130)
    Save on exit in hostless mode even if save on turn disabled
    Tweak small robot RP cost in-line with commit 4085 (#4095)

    Add Small Robotic Hull

    Destroy building on creation of special (#4041)

    Give xenophobes (Trith and Eaxaw) great stability (#4086)

    Set default tech cost to 1.0

    Rebalance tech costs to account for influence-constrained growth

    Give Krakens extra stealth on Gas Giants

    Add Solar Concentrators to snowflakes


    add limits to RenameOrder for length of name and what characters can be used

    Fix researchability of tech Planetary Cloaking Device

    Reduce bonus and malus from influence species trait (#4067)


    [AI] Do not consider Exobot immediately (#4065)

    Nullify influence when evacuating a planet (#4044)


    -fix probable bug with Condition::Type::GetDefaultInitialCandidateObjects, where if a complicated expression was used for the type, it looked like nothing would be returned



    [AI] Do not invade allies (#4037)
    
    * AI function to query diplomatic status
    * Do not consider friendly planets as invasion targets
    * Use playerIsAI to identify the human player
    * Do not consider allies as threats


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_2_3.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_2_2.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_2_1.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_1_4.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_1_3.focs


Author: O01eg <o01eg@yandex.ru>


    Add CI test for Manjaro with fresh 1.79 boost


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_1_2.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_SPINAL_ANTIMATTER.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_SPACE_FLUX_BASICS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_SOLAR_CONNECTION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_ORGANIC_WAR_ADAPTION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_ARC_DISRUPTOR.focs


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Make Asteroid Coating Special Rarer (#4032)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fixed bad index when ganging up (#4029)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/fighters/SHP_FIGHTERS_4.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/fighters/SHP_FIGHTERS_3.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/fighters/SHP_FIGHTERS_2.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Allow AIs to gang up on a configured turn (#4028)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/fighters/SHP_FIGHTERS_1.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_VOID_SHADOW.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_SONIC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_GRV.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_EMP.focs


Author: O01eg <o01eg@yandex.ru>


    Stop auto-advance turn on error


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix role detection for orbital defense (#4023)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace Visitor with lambda
    -replace for loops with transform
    -use sorted / uniqued vector instead of set


Author: geoffthemedio <geoffthemedio@gmail.com>


    move #include into .cpp


Author: geoffthemedio <geoffthemedio@gmail.com>


    templatize ObjectMap::findRaw


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace visitor with lambda in ProductionQueue::StockpileCapacity


Author: geoffthemedio <geoffthemedio@gmail.com>


    -extend ObjectMap::CheckTypes to identify int ID ranges
    -templatize ObjectMap::find
    -make ObjectMap::find return types based on decay_t
    -replace some remove_const_t with decay_t


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace visitors with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    make ObjectMap::findIDs accept either a visitor or predicate


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move checking predicate type in ObjectMap into a separate function
    -make ObjectMap::count accept either a visitor or predicate


Author: geoffthemedio <geoffthemedio@gmail.com>


    make ObjectMap::check_if_any accept either a visitor or predicate


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment out or remove some TraceLogger calls in Condition::Eval functions that substantially impede performance with the threaded logger


Author: geoffthemedio <geoffthemedio@gmail.com>


    store destroyed and stale object ids in unordered_set instead of set


Author: geoffthemedio <geoffthemedio@gmail.com>


    templatize NotInSetsVisitor and add single-set NotInSetVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    add ObjectMap::allWithIDs functions that provide direct access to the object IDs in the map keys, which are useful when filtering ranges based on object ID without need to look it up via the object pointer


Author: geoffthemedio <geoffthemedio@gmail.com>


    iterate over all systems on server when updating monster travel restrictions. checking for / excluding destroyed objects should be redundant in this case.


Author: geoffthemedio <geoffthemedio@gmail.com>


    use raw pointers


Author: geoffthemedio <geoffthemedio@gmail.com>


    -consolidate ObjectMap::Existing* functions into a single templated allExisting function
    -rename ExistingObject to getExisting


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove ObjectMap::SwapMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment about not-helpful attempted optimization


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace MatchHelper with lambda


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_EMO.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_DEATH_SPORE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_DARK_RAY.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_CHAOS_WAVE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_BOMBARD.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_BIOTERM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/speed/SHP_SINGULATIRY_ENGINE_CORE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/speed/SHP_N_DIMENSIONAL_ENGINE_MATRIX.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/speed/SHP_IMPROVED_ENGINE_COUPLINGS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/shield/SHP_PLASMA_SHIELD.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Do not calculate colonization values twice (#4020)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Use multipage layout for charts(#3978)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix check for available slots (#4013)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix description of great/ult. shields (#4012)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/shield/SHP_MULTISPEC_SHIELD.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/shield/SHP_DEFLECTOR_SHIELD.focs


Author: O01eg <o01eg@yandex.ru>


    default/scripting/techs/ship_parts/shield/SHP_BLACKSHIELD.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/fuel/SHP_ZERO_POINT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/fuel/SHP_DEUTERIUM_TANK.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/fuel/SHP_ANTIMATTER_TANK.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Rename building type base class and use it for annotation (#4014)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/damage_control/SHP_REINFORCED_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/damage_control/SHP_FLEET_REPAIR.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/damage_control/SHP_BASIC_DAM_CONT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/damage_control/SHP_ADV_DAM_CONT.focs


Author: O01eg <o01eg@yandex.ru>


    Raise MacOS version in CI to 11


Author: O01eg <o01eg@yandex.ru>


    Test Ubuntu Kinetic build with gcc-12


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/armor/SHP_ZORTRIUM_PLATE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/armor/SHP_XENTRONIUM_PLATE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/armor/SHP_ROOT_ARMOR.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/armor/SHP_DIAMOND_PLATE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/spatial_flux/SHP_SPACE_FLUX_DRIVE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/spatial_flux/SHP_SPACE_FLUX_COMPOSITION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/spatial_flux/SHP_SPACE_FLUX_BUBBLE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/robotic/SHP_TRANSSPACE_DRIVE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/robotic/SHP_NANOROBO_MAINT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/robotic/SHP_MIL_ROBO_CONT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/robotic/SHP_MIDCOMB_LOG.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/robotic/SHP_MASSPROP_SPEC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/robotic/SHP_CONTGRAV_MAINT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_SENT_HULL.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Adapt for no longer parallel colony buildings (#4002)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] annotations (#4003)


Author: O01eg <o01eg@yandex.ru>


    Change test ubuntu version to 22.10


Author: O01eg <o01eg@yandex.ru>


    Use other brackets for *Cast type information
    
    With angle brackets it's treats as tags by GG parser and breaks
    encyclopedia pages.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] adaption for new species shield traits (#3999)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_ORG_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_MULTICELL_CAST.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_MONOCELL_EXP.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_ENDOCRINE_SYSTEMS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_ENDOCRINE_SYSTEMS.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Block enqueuing more than one of any colony building on a planet (#3994)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    comment and simplified gaia transformation


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix exclusions for gaia and terraforming building


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 25, 2022 - 4b2297a)


Author: Geoff <geoffthemedio@users.noreply.github.com>


    remove unused string that was removed from en.txt (#3997)


Author: agrrr3 <axel.gross@iaeste.at>


    Add NamedString and NamedStringLookup for FOCS (#3987)
    
    * NamedString declaration can be used in named_values.focs.txt
    * NamedString can be used in any FOCS file (named in the middle)
    * NamedStringLookup can be used in any FOCS file


Author: Axel Gross <axel.gross@iaeste.at>


    Remove reference in log to invariants in case of failing named ValueRef lookup
    
    There was a reference to github issue (#3225 / indeterministic initialisation of UniverseObject invariants) when logging an error for failed named ValueRef lookup
    "This should not happen if looking in the right registry once \"#3225 Refactor initialisation of invariants in value refs to happen after parsing\" is implemented"
    
    Initialisation of invariants does not affect the registration (currently) - so even if it is done suboptimally/undeterministic (or if it gets changed in a later pass
    in order to make it optimal/deterministic) its unrelated.
    Only if we made registration of named values lazy (until the invariant is known) there might be connection.
    So meanwhile we remove this.


Author: Axel Groß <axel.gross@iaeste.at>


    Log to debug (instead warn) if named ValueRef lookup fails if it is possible lookup happens in the wrong registry.


Author: agrrr3 <axel.gross@iaeste.at>


    Rename fighter tech label to numeric (instead of Laser, Plasma, DR.. Fighters) (#3989)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Add Game rule for minimum monster starting distance (#3988)


Author: agrrr3 <axel.gross@iaeste.at>


    Apply SPATIAL_FLUX_STEALTH_TECH_BONUS boost for all tech upgrades (#3990)
    
    * fixes bug found by Oberlus
      https://freeorion.org/forum/viewtopic.php?p=112255&sid=6279f996d237f31db727cac11366812b#p112255
      Only SPY_STEALTH_PART_1 was multiplied by SPATIAL_FLUX_STEALTH_TECH_BONUS.
      Now also the others are multiplied


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Species Ship Shield Trait scaled by shield part (#3979)


Author: geoffthemedio <geoffthemedio@gmail.com>


    make CompareTypeString constexpr and return string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    -templatize ValueTest Comparison helper function
    -move testing of subsets of refs into a lambda


Author: geoffthemedio <geoffthemedio@gmail.com>


    add additional cases for ValueTest simple evaluation


Author: geoffthemedio <geoffthemedio@gmail.com>


    make pedia search dir strings constexpr and move near use and remove redundant loop


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove default parameter value comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweak returned types of ObjectMap::all and ObjectMap::allRaw
    -add some static_assert tests for those types
    -move ObjectMap::Map implementations into header
    -move ObjectMap::SwapMap implementation into header


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove Condition::Eval code path using reinterpret_cast when matching a TargetSet and instead copy to a ObjectSet and back
    -refactor Condition::Eval overloads that matched into an input/output parameter to instead return an ObjectSet or TargetSet of matches
    -fix probable bug in ContainedBy::Match where an ObjectSet of candidates to match was being passed in, but ignored and replaced with any matches of the subcondition
    -remove Statistic::GetConditionMatches as a separate function



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    skip redundant copy-init since the ObjectSet will be cleared in subsequent Eval call anyway


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 14, 2022 - f327265)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_CONT_SYMB.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_CONT_BIOADAPT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_BIOADAPTIVE_SPEC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_SOLAR_CONT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_QUANT_ENRG_MAG.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_FRC_ENRG_COMP.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_ENRG_FRIGATE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_ENRG_BOUND_MAN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_SCAT_AST_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_MONOMOLEC_LATTIC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_MINIAST_SWARM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_HEAVY_AST_HULL.focs.py


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_CAMO_AST_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_ASTEROID_REFORM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_ASTEROID_HULLS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/SHP_XENTRONIUM_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/SHP_GAL_EXPLO.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    add Elapsed getters to ScopedTimer


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Limit supply penalty for independant species (#3980)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix evaluation of capital species (#3982)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Make changes in MaxPopulation affect growth without delay (#3817)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] cleanup production 3 (#3975)
    
    * Remove redundant try-except
    * Remove type check introduced 10 years ago
    * Extract building queue names to separate function


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Small pedia fixes (#3969)
    
    * Update Interstellar logistics, it no longer increases speed without a policy
    * Update Organic Hull description
    * Add page for sneaky species
    * Document that Psychogenic Domination cannot take over domesticated space monsters Fixes #2840


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Updated tech short descriptions (#3946)


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant std::move for raw pointers


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replacing std::copy and std::move with insert
    -remove redundant std::move calls for raw pointers
    -use vector<uint8_t> instead of vector<bool>


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    replace shared_ptr with raw pointers in various ScriptingContext, Condition, Effect, etc. code


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak some UTF8 micro/mu tests


Author: Andrey <Cjkjvfnby@gmail.com>


    Split loop to get capital building and get allocations (#3972)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Simplify production orders (#3971)
    
    Inline variables that could be accessed from any line of code, will greatly simplify the extraction of code parts to functions.


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Give white krakens a tentacle attack (#3968)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Remove duplicated dependency and improvments (#3963)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unnecessary temporary
    -use lambda instead of boost::bind


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add safety check in Fleet::SetRoute for an empty route before attempting to access its contents
    -output error messages rather than throwing
    -remove seemingly pointless UnknownRoute() check in Fleet::SetRoute


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Use forgotten supply factor (#3966)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/ROBOTIC_PROD.focs


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix artifact name for github build  (#3951)


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix return type for skeleton (#3965)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Some fixes and a rough adaption of the invasion rating (#3964)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Rework species tags (#3952)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/SHP_DOMESTIC_MONSTER.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/ZERO_GEN.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework meter XML serialization to use a single string rather than structured boost serialization format


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add ToChars and FromChars to Meter
    -use ToChars and FromChars for Meter::serialize


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store Meter internally as int
    -add specialized Meter::serializae specializations for XML archives


Author: hifron <ondrej.riha@outlook.com>


    adding cmake build directory to .gitignore on Windows(VS Code) (#3954)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/VOID_PREDICTION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/TRANS_DESIGN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/SOLAR_ORB_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/SINGULAR_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/SENTIENT_AUTOMATION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/PREDICTIVE_STOCKPILING.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/ORBITAL_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/NEUTRONIUM_EXTRACTION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/N_DIM_ASSEM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/NANOTECH_PROD.focs


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Break dependency of buildings on empire (#3949)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Planet rating (#3916)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    * split getNamedValue to getNamedReal/Int in the Python API, which return 0 when no such named reference exists rather than a Python none object (#3879)
    
    * in Python get_named_int and get_named_real wrappers, check that the requested reference exists before evaluating, and return 1 if it doesn't
    * Allow AI to enqueue a building that cannot be produced at yet


Author: Andrey <Cjkjvfnby@gmail.com>


    Add unique name for binary artefact (#3950)


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix checked type


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Fix building iteration (#3948)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Refactor building enums (#3908)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -try-catch around more message Extract calls
    -call UserStringNop instead of UserString when creating ErrorMessage
    -pass and put ModeratorAction into unique_ptr rather than relying on calling code to delete


Author: geoffthemedio <geoffthemedio@gmail.com>


    wrap message Extract functions in try-catch blocks


Author: geoffthemedio <geoffthemedio@gmail.com>


    save message type before potentially modifying while reacting to it


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    reinitialize system graph after moderator actions that could have modified it, preventing a crash when adding systems with a moderator action


Author: geoffthemedio <geoffthemedio@gmail.com>


    indenting


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment out do-nothing pedia text generation for species empire opinions


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use findRaw and getRaw to store raw pointers instead of shared_ptr
    -other grooming


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    add findRaw functions to ObjectMap


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Removed some unused interface functions (#3945)


Author: agrrr3 <axel.gross@iaeste.at>


    Increase growth by 25% (#3621)
    
    Before introducing growth policy in 5c9b5023f00e047f1b33e260677a13f21d4f6c2b,
        base growth factor was 0.01
        Then it was 0.005, but one could improve it by 50% using the policy
    
     The new formula introduced in  6a9b32fec516bc2fa0a37f2d079e204948456a17 (#3703)
        divided growth by target population and had base growth factor 0.08
        i.e. it is the same as 0.005 for the previous formula, if the planet has a max population of 16
        for smaller planets it is faster and for bigger planets it is even slower.
    
     This commit increases base growth by 25% (this might be still a little bit low)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 1, 2022 - c27a4f3)


Author: Andrey <Cjkjvfnby@gmail.com>


    Update skeleton generator (#3943)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [Fix] Avoid division by zero (#3944)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Refactor bonus calculation, fix check (#3942)
    
    * Move bonus calculation to the separate class
    * Fix logic
    * Update usages


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] calculate research and stability, tech_soon_available (#3939)


Author: aschuch247 <aschuch247@gmail.com>


    Fix typo of 'content'. (#3941)


Author: O01eg <o01eg@yandex.ru>


    Add dependencies data to HOST_* messages (#3887)
    
    Make it same as JOIN_GAME message


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Impove chart view (#3940)
    
    - Add interactive zoom/scrolling.
    - Allow selecting empire line.
    - Fix log span for charting.


Author: geoffthemedio <geoffthemedio@gmail.com>


    condense setting up stream compression


Author: Matthew Lam <sudfiwe@gmail.com>


    Message compression
    
    Add compression for large messages. Disable compression for localhost clients. Based on #3870.


Author: O01eg <o01eg@yandex.ru>


    Force to reset after finish message


Author: O01eg <o01eg@yandex.ru>


    Add compression level parameter


Author: O01eg <o01eg@yandex.ru>


    Compress GAME_START message


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Add policies to charting (#3914)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make locales thread_local
    -return by reference to avoid copy
    -make "en_US.UTF-8" the default


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add GG::Font::Substring::operator!=
    -make some string constants contexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass string_view rather than const references
    -return vector instead of set
    -simplify ExtractWords, without seemingly redundant checks for empty words
    -add FindWordsStringViews that avoids need to separately construct the views
    -replace for loops with transform calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace lexical_cast with ToInt


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't determine a default location or append production / cost info to article text for BuildingType when requested to output description only


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    add constexpr locale-independent string-to-int converter that is independent of the charconv C++ library functions that aren't universally available


Author: geoffthemedio <geoffthemedio@gmail.com>


    -in pedia code, add ToInt and ToChars functions that use std::to_chars or std::from_chars if available
    -use ToInt or ToChars in some places


Author: geoffthemedio <geoffthemedio@gmail.com>


    -limit number of missing string stack to 3 instead of 10
 in RomanNumber


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>



    -comment tweak


Author: geoffthemedio <geoffthemedio@gmail.com>


    -revert to storing the results of GetSortedPediaDirEntires in strings instead of partly in string_view since all parts are in some cases generated dynamically within the function, and thus can't be pointed to after it returns
 / comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    only list orders of client empire on client empire's pedia page, not all empires' pages


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't move from string that was passed as a view to an async call
    -use a mutex-guarded map to hold strings returned as views / references
    -rewrite UTF8 character as an escape code
    -add safety checks / error logging if getting an invalid UTF8 string when processing pedia entries during search


Author: geoffthemedio <geoffthemedio@gmail.com>


    wrap regex / utf8_wchar_iterator use in try-catch block in FindWordsStringIndices


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add CustomToLower function that does case conversion for case-insensitive text searches much faster (but somewhat limited compared to) the Boost to_lower function
    -use boost::locale::to_lower if not all the characters in a string are handled by CustomToLower
    -use boost::locale::to_lower instead of boost::algorithm::to_lower, as the latter fails for some characters


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    MSVC compatible C++ version check in utf8 code


Author: geoffthemedio <geoffthemedio@gmail.com>


    -updated to utf8 library 3.2.1
    -added additional template type to utf8::iterator in order to replace the GG-custom wchar_iterator that GUI.cpp uses


Author: Oberlus <sicofonte@gmail.com>


    Add NamedValues to Nebula, Ion Storm and Molecular Cloud for Pedia (#3931)
    
    NamedValues for Nebula, Ion Storm and Molecular Cloud for Pedia


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update README.md
    
    minor text tweaks


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Make Mu Ursh more playable (#3915)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Load python code after rule parsing is done (#3936)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/MICRO_MANUF.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix documentation of technocracy (#3935)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] calculate_production.py (#3934)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/INTERSTELLAR_ENTANGLEMENT_FACTORY.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/INDUSTRY_CENTER_III.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/INDUSTRY_CENTER_II.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/INDUSTRY_CENTER_I.focs


Author: Geoff <geoffthemedio@users.noreply.github.com>


    bump CodeQL version to v2 due to deprecation of v1 (#3933)


Author: Morlic-fo <Morlic@gmx.de>


    Fix Linter


Author: Morlic-fo <Morlic@gmx.de>


    Move AI Aggression handling from C++ to python code


Author: Morlic-fo <Morlic@gmx.de>


    Set special save_state_string to allow handling special cases.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Added within_n_jumps plus annotation (#3923)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix success check of _adopt, plus annotation (#3930)


Author: geoffthemedio <geoffthemedio@gmail.com>


    set /utf-8 flags for MSVC builds


Author: O01eg <o01eg@yandex.ru>


    Set python version to 3.7 in format checks


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/GENERIC_SUPPLIES.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/FUSION_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/EXOBOTS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/ADAPTIVE_AUTOMATION.focs


Author: O01eg <o01eg@yandex.ru>


    Add comment to dump about use of StaticCast and StringCast


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jun 13, 2022 - 7dd1d6e)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Added helper functions for names values and stability modifier (#3918)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    More buildings and one more function, (#3924)


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix log file detection for charting (#3917)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Added helper functions to query supply groups (#3921)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Added world tree and ast. coating to empire resources. (#3919)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    New AI interface function to query supply groups (#3920)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/TRANSCEND.focs


Author: shikoba-hn <106869459+shikoba-hn@users.noreply.github.com>


    Add missing include


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/XENO_ARCH.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/UNIFIED_CONC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/TRANSLING_THOUGHT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/TEMPORAL_MECH.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    update include to silence deprecation warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    update include to silence deprecation warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    disable warning arising from Boost includes for python parser file


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move workarounds for Boost 1.79 include error into Parsers StdAfx.h
    -restore MSVC2022 Parsers project to C++20 standard


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix potentially returning reference to temporary


Author: Vezzra <vezzra@gmx.net>


    Add boost_atomic DLL to Windows installer package


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Generate skeletons compatiable with black (#3903)


Author: O01eg <o01eg@yandex.ru>


    Lower used language standart


Author: O01eg <o01eg@yandex.ru>


    Add MS VS 2022 project test to Github Actions CI


Author: O01eg <o01eg@yandex.ru>


    Use SDK v13 and Python 3.7


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/STELLAR_TOMOGRAPHY.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/SPATIAL_DISTORT_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/QUANT_NET.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Changed Bureaucracy after forum discussion. (#3844)
    
    * Changed Bureaucracy after forum discussion https://www.freeorion.org/forum/viewtopic.php?f=28&t=12420&sid=ccc146868760118459489fbe4702cf9a.
    * Also removed strings from fr.txt
    * Fix order between bureaucracy and dream recursion
    * Unlock Reg Admin by Bureaucracy, not Centralization


Author: Andrey <Cjkjvfnby@gmail.com>


    Do not exclude snap on snap changes


Author: Andrey <Cjkjvfnby@gmail.com>


    Do not run workflow if no C++ files changed


Author: geoffthemedio <geoffthemedio@gmail.com>


    -LeastJumpsPath returns a vector<int> instead of list<int>
    -replaced some typedefs with auto
    -just use input system ID instead of reverse looking up the system 1 index


Author: geoffthemedio <geoffthemedio@gmail.com>


    expose Fleet route to Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    -return vector<int> from ShortestPath
    -store and pass Fleet travel route as vector<int>


Author: geoffthemedio <geoffthemedio@gmail.com>


    use boost::circular_buffer to build shortest path


Author: geoffthemedio <geoffthemedio@gmail.com>


    implement single-candidate WithinJumps


Author: geoffthemedio <geoffthemedio@gmail.com>


    simpler vector init


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fix WithinJumps, which seemed to be always returning just the source system
    -return vector<int> instead of unordered_set<int>
    -add not-yet-implemented single-search system overload for WithinJumps


Author: geoffthemedio <geoffthemedio@gmail.com>


    -ImmediateNeighbors returns vector instead of multimap. unsorted result should be OK as it wasn't used except by AI API, which doesn't appear to care if the result is sorted.
    -default initialize the PathFinder graph pointer and remove the defined constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    make UniverseObject::Type non-virtual


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Rename log dumper to statistic (#3896)


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Remove duplicate getTechCategories from Python API (#3897)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/PSY_DOM.focs


Author: Andrey <Cjkjvfnby@gmail.com>


    Update log dumper (#3895)
    
    - drop python compatibility with previous logs
    - drop custom deserialization for specific kyes, and make it more general
    - fix colors for empire plots
    - move the player name to the sidebar


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/DISTRIB_THOUGHT.focs


Author: O01eg <o01eg@yandex.ru>


    Rename If to Conditional in python parser


Author: O01eg <o01eg@yandex.ru>


    Rename Min, Max operations to MinOf, MaxOf in python parser
    
    This change allows to not conflict with statistic type enums.


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid lexical_cast for enum MeterType


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    store specials in SpecialManager in vectors


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    make UniverseObject::m_specials a flat_map


Author: geoffthemedio <geoffthemedio@gmail.com>


, structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    use std::transform


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    use HasSpecial


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix not-updated copy-paste error


Author: geoffthemedio <geoffthemedio@gmail.com>


    use derived rather than explicit char type


Author: geoffthemedio <geoffthemedio@gmail.com>


    -take string_view
    -move trivial getter definitions into header


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/PSIONICS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/PHYSICAL_BRAIN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/N_DIM_SUBSPACE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/NASCENT_AI.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/MIND_VOID.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/GRAVITONICS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/GATEWAY_VOID.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/FORCE_FIELD.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/EVERYTHING.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/ENCLAVE_VOID.focs


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update BUILD.md
    
    typo


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update BUILD.md
    
    clarify applicability of these instructions


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update BUILD.md
    
    -fix link to SDK v12
    -add note about MSVC platform configuration


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/COLLAPSER.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/ART_BLACK_HOLE.focs


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update BUILD.md
    
    requires Boost 1.69


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/TRANSORG_SENT.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    always return same retval to hopefully improve return value optimization


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplement StringCast::Eval to handle various cases / handle them without lexical_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    use transform


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use FO_ENUM for Networking::ClientType
    -remove operator<< for Networking::ClientType
    -use to_string for NetWorking::ClientType instead of lexical_cast
    -cast to size_t instead of int for bitset size and index


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    explicit copy to string and return the result of glGetString(GL_VERSION)


Author: geoffthemedio <geoffthemedio@gmail.com>


    add (EnumType)FromString functions to FO_ENUM that convert a string_view to an enum value. Also takes an optional fallback enum value to return if the passed-in string_view isn't found in the enum's string representations.


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/XENO_HYBRIDS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/XENO_GENETICS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/TERRAFORM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/SYMBIOTIC_BIO.focs


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jun 5, 2022 - c0a9b2a)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    AI: minor tweaks and fixes (#3882)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Added policy population (#3883)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -rework caching of planet environment (type) pedia banner filenames, including resetting when the resource directory changes
    -don't cast pedia history string to int if the history type doesn't match in EncyclopediaDetailPanel::SetPlanet


Author: geoffthemedio <geoffthemedio@gmail.com>


    -rename BLOCK_FACTORY_MAP to BlockFactoryMap



Author: geoffthemedio <geoffthemedio@gmail.com>


    ClientUI icon getters take string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string by value and move


Author: O01eg <o01eg@yandex.ru>


    Try to fix LGTM error


Author: O01eg <o01eg@yandex.ru>


    Add runtime dependencies


Author: O01eg <o01eg@yandex.ru>


    Pack freeorion windows binary


Author: geoffthemedio <geoffthemedio@gmail.com>


    indenting


Author: geoffthemedio <geoffthemedio@gmail.com>


    document which generation tech costs are affected by Industrialism


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Add log dumper (#3855)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Rename queue_at to align function naming (#3880)


Author: geoffthemedio <geoffthemedio@gmail.com>


    adapt vector<string_view> to vector<string> for Python API


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -store species likes and dislikes in the same concatenated string as tags
    -SpeciesThatLike and SpeciesThatDislike take string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak LinkList functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid dynamic casts


Author: geoffthemedio <geoffthemedio@gmail.com>


    SpeciesThatLike and SpeciesThatDislike take string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    timer section label for serialization of universe to xml


Author: geoffthemedio <geoffthemedio@gmail.com>


    use simpler decompression stream for loading


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/PLANETARY_ECOLOGY.focs


Author: O01eg <o01eg@yandex.ru>


    Don't use important resources of Travis CI


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Refactor shipyards using BuildingType (#3857)
    
    * Refactor shipyard using BuildingType
    * Do some dislike checks for shipyards and
    fixed character.may_build_building
    * First round of review changes
    * Fix ShipYardInfo usage


Author: Andrey <Cjkjvfnby@gmail.com>


    Skip codeql job if not files changed (#3876)


Author: geoffthemedio <geoffthemedio@gmail.com>


    append


Author: O01eg <o01eg@yandex.ru>


    Fix build with recent Boost 1.79


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/SUBTER_HAB.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/NANOTECH_MED.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/NANO_CYBERNET.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/MEGA_ECO.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/LIFECYCLE_MAN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/GENETIC_MED.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/GENETIC_ENG.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/GAIA_TRANS.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix dummy parser build error due to encyclopedia parser return value change


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/ENERGY_META.focs


Author: Andrey <Cjkjvfnby@gmail.com>


    Set me a scodeowner to simplify review requests (#3866)


Author: Andrey <Cjkjvfnby@gmail.com>


    Do not compile on not C++ changes (#3865)


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    make GetArticleByCategoryAndKey take parameters as string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant to_upper


Author: geoffthemedio <geoffthemedio@gmail.com>


    make TextureManager::Textures() return map indexed by string_view


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    StatisticDescription takes string_view instead of string reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    sort pedia articles with less<>


Author: O01eg <o01eg@yandex.ru>


    Clean up tokens not used even in parser sources


Author: O01eg <o01eg@yandex.ru>


    Refactor integer variables


Author: O01eg <o01eg@yandex.ru>


    Refactor python parser of ValueRef::Variable


Author: O01eg <o01eg@yandex.ru>


    Refactor python parser for single-parameter math functions


Author: O01eg <o01eg@yandex.ru>


    Revert "Remove unused BuildingTypesOwned token and refactor python parser"
    
    This reverts commit 0c2420c9a81732e878601940cef2e96c8e17cc27.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] avoid division by zero exception (#3861)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make const strings constexpr string_view
    -pass string by value
    -stack and static constexpr storage for XML tags to check


Author: geoffthemedio <geoffthemedio@gmail.com>



    -[[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework HasXShips to avoid shared_ptr copies and logging in inner loop


Author: geoffthemedio <geoffthemedio@gmail.com>


    store tags as a concatenated string and a separate vector of string_view


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 29, 2022 - 337d22a)


Author: O01eg <o01eg@yandex.ru>


    Remove unused BuildingTypesOwned token and refactor python parser


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/BIOTERROR.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/ADV_ECOMAN.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    AI military policies (#3851)
    
    * Fixed type BuildingName
    * Added military command and fixed planet selection
    * Added function to query number of ships
    * First version with military policies
    * Review updates and slightly change _rate_costs
    * Removed obsolete technology


Author: O01eg <o01eg@yandex.ru>


    Remove checks and code for boost older 1.69


Author: O01eg <o01eg@yandex.ru>


    Add options to choose non-standard AI log directory


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/defense/Network.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/defense/Garrison.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    make object list filter condition strings constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store tags in vector instead of set
    -rework HasTag and Tags functions for UniverseObject and various content classes



Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused function


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak HasCustomCategory


Author: O01eg <o01eg@yandex.ru>


    Add server flag that merges quickstart and load options (#3848)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] diversity and artisans (#3837)
    
    * Improved artisan workshop documentation
    * AI support for diversity and artisan workshops
    * Rebalance liberty after forum discussion
    also fixed text for artisan stability bonus


Author: O01eg <o01eg@yandex.ru>


    Raise black version (#3846)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 20, 2022 - 6744e80)


Author: geoffthemedio <geoffthemedio@gmail.com>


    Workaround for error when building with Boost 1.79


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix dummy parsers


Author: geoffthemedio <geoffthemedio@gmail.com>


    const std::string& to string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    use from_chars instead of lexical_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass string by value and move


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass string_view instead of const string&
    -use any_of


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -store Empire::m_techs with std::less<> comparator to allow heterogenous search with find
    -handle map<string, int> with or without std::less<> comparator in ComplexVariable<int>::Eval
    -store Empire::m_meters in vector
    -serialization updates



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    store substitution map in an array instead of map


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make various content getters take string_view instead of const std::string&
    -make various UI functions take string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid dynamic cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    GetShipPart overload taking string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    add overload of GetShipHull taking a string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add CategoryColor overload taking string_view
    -add GetTech and GetTechCategory overloads taking string_view
    -make CategoryNames, TechNames, and TechNames return vector of string_view


Author: Oberlus <sicofonte@gmail.com>


    Add common/opinion.macros for liberty/conformance dislike scaling effect, fixes duplicated key (#3841)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Rebalance liberty after forum discussion (#3842)
    
    * Rebalance liberty after forum discussion
    also fixed text for artisan stability bonus


Author: Oberlus <sicofonte@gmail.com>


    Remove unused AVERAGE_OFFENSE_TROOPS macro (#3843)


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework some effect accounting-related constructors and use piecewise_construct with them


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some size_t with std::size_t


Author: geoffthemedio <geoffthemedio@gmail.com>


    update / fix MSVC2022 project files for x64 target


Author: geoffthemedio <geoffthemedio@gmail.com>


    Fix x64 platform settings in MSVC2019 project files to work with x64 SDK build


Author: Oberlus <sicofonte@gmail.com>


    Remove unused growth macro for ancient ruins depleted (#3840)


Merge: 86140c1ea 105aedaf1
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3839 from agrrr3/20220517_fix_system_ship_unstealthiness
    
    fix system ship unstealthiness


Author: Axel Groß <axel.gross@iaeste.at>


    Move FLEET_UNSTEALTHINESS from SPY_PLANET_STEALTH_MOD to ROOT_DECEPTION
    
    fleet stealth != planet stealth
    and the fleet stealth effects (e.g. empty system) were in ROOT_DECEPTION


Author: Axel Groß <axel.gross@iaeste.at>


    Stop FLEET_UNSTEALTHINESS removing stealth if the ship is on a starlane


Author: Axel Groß <axel.gross@iaeste.at>


    Multifix typo DECPTION -> DECEPTION


Author: geoffthemedio <geoffthemedio@gmail.com>


/warning reduction


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 9, 2022 - 3abfde4)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Make maturing monster keep their names (#3805)


Author: O01eg <o01eg@yandex.ru>


    Test FreeOrion with Fedora 32 in Docker


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Minor ai stuff (#3836)
    
    * Added dislike_multiplier
    * Refactored species tag handling


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix MSVC2022 build by using explicit constructor definitions rather than a universal reference


Author: agrrr3 <axel.gross@iaeste.at>


    fix set max capacity ship part meter (#3830) (#3834)
    
    * Pass ShipPartMeter as pointer, as NewMeterValue uses GetMeter instead of GetPartMeter
    * Pass Meter as pointer to NewMeterValue


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Use liberty policy (#3828)
    
    * First AI use of liberty
    * Improved documentation of protection focus
    * Some fixes and improvements to RessourceAI
    * Removed obsolete foci
    * Avoid a 'death-cycle' where all planets switch to protection
    while influence keeps dropping deeper and deeper.


Author: geoffthemedio <geoffthemedio@gmail.com>


    consider both, not just one, fleet in a fleet transfer order, that has arrival starlane -1 to have arrival starlane equal to its current system, to avoid first turn issue with being unable to merge fleets


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 9, 2022 - b10c300)


Author: O01eg <o01eg@yandex.ru>


    Add option to use pre-opened file descriptor to accept connections


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix (dis-)likes in same system (#3827)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Refactor building regional administration (#3819)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix get_extra_colony_builders (#3826)


Merge: 5c9b2de6c 156e03d06
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3704 from agrrr3/20220214_NextBestPlanetType
    
    Popular Terraform using NextBestPlanetType valueref


Author: agrrr3 <axel.gross@iaeste.at>


    Use ASTEROID_COATING_STACK stackinggroup to ensure the effect is applied only once (#3824)


Author: O01eg <o01eg@yandex.ru>


    Fix crash due not initialized password window (#3823)


Author: O01eg <o01eg@yandex.ru>


    Add option to allow any player to be an observer


Author: geoffthemedio <geoffthemedio@gmail.com>


    Statistic should be considered invariant to the (enclosing condition) local candidate, since its condition has its own local candidate and its contained ValueRef also uses Statistic's condition's local candidates.


Author: geoffthemedio <geoffthemedio@gmail.com>


    -templatize BuildingSimpleMatch for single or multiple building type names
    -use find instead of count to search list


Author: geoffthemedio <geoffthemedio@gmail.com>


    use crbegin instead of decrementing end iterator


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    make NewFleetOrder and FleetTransferOrder consider fleets with no set arrival starlane as arriving from their current systems. this should fix issues with merging fleets.


Author: geoffthemedio <geoffthemedio@gmail.com>


    make Wnd::SetName virtual and override in CUIWnd to set the text of the title label. now sure how or why this worked before or when it broke, but this should fix an issue where the sitrep window's title wasn't updating.


Author: agrrr3 <axel.gross@iaeste.at>


    Sneaky species have easy planetary stealth tech (#1620)
    
    * Laenfa are sneaky
    * All research cost for planet stealth is halved for sneaky species


Author: Grummel7 <muzz@albatross.pond.sub.org>


    removed Statistic If where it is not needed (#3816)


Author: agrrr3 <axel.gross@iaeste.at>


    use INCOMPLETE_DESIGN_ID instead of INVALID for the design view (#3813)
    
    Use INCOMPLETE_DESIGN_ID to signify the current design in the design view


Author: geoffthemedio <geoffthemedio@gmail.com>


    update context's current turn when incrementing the server's turn


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Apr 27, 2022 - 725f83f)


Author: O01eg <o01eg@yandex.ru>


    Test clang with godot


Author: O01eg <o01eg@yandex.ru>


    Update minimum required boost version to 1.69


Author: Axel Groß <axel.gross@iaeste.at>


    Rename sitrep tag %user_string% -> %userstring% for consistency


Author: Axel Groß <axel.gross@iaeste.at>


    Add Popular Terraforming (terraform to best environment)
    
    * for ease when you dont know the best environment
    * for mass-terraforming from the object window (where the best environment can be mixed for different species)
    * micro-management safe by being cheaper than the steps (actually dont know, with the steps you get results earlier)
    * also added the capability to use %planettype% in sitreps (taking a planet ID or a stringtable key)


Author: Axel Groß <axel.gross@iaeste.at>


    Fix parser tokens planettype -> PlanetType , added Environment


Author: Axel Groß <axel.gross@iaeste.at>


    Add NO_TERRAFORM tags to EXOBOTS


Author: Axel Groß <axel.gross@iaeste.at>


    Add NextBestPlanetType valueref


Author: geoffthemedio <geoffthemedio@gmail.com>


    make flag type definitions constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove FlagSpec::erase
    -remove permanent FlagSpec and FlagSpec::insert
    -store std::string_view instead of string in FlagSpec
    -store strings and flags in arrays instead of a set and a map
    -use same internal storage type in Flags as in GG_FLAG_TYPE macro
    -make FlagSpec interface [[noexcept]] constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove #ifdef


Author: geoffthemedio <geoffthemedio@gmail.com>


    use to_string and .append


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    store enum value and string pair data in vector instead of map


Author: geoffthemedio <geoffthemedio@gmail.com>


    put macro code that extracts the typename from a single value or pair into a separate macro #define


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    use manual loop instead of std::find to hopefully make actually constexpr OK


Author: geoffthemedio <geoffthemedio@gmail.com>



    -count empires with planets with vector instead of map


Author: geoffthemedio <geoffthemedio@gmail.com>


    store vertices in RotatingGraphic and update only when the rendered area changes


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    -reserve



Author: David CARLIER <devnexen@gmail.com>


    Mostly FreeBSD build fix. (#3812)
    
    - boost stacktrace using backtrace api instead of unwind due to unsupported field.
    - various initialisation constructors reordering warning fixes/unused var.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Building refactoring (#3808)
    
    - Scanning Facility: Don't build it where it is disliked
    - Gas Giant Generator: Completely new logic
    - Nearly Universal Translator: Build logic added


Author: Geoff <geoffthemedio@users.noreply.github.com>


    remove explicit inherit from object (#3811)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Improve influence priority calculation, fix _originally_adopted (#3810)


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -use a separate label control rather than temporary colour assignment to render Button text shadows
    -update test


Author: geoffthemedio <geoffthemedio@gmail.com>


    add a separate CUILabel Control for CUIWnd's title text, which should cache its render info rather than having to recalculate it each time


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove TextControl::PurgeCache and instead just call m_render_cache.reset()
    -groom TextControl::Render()


Author: geoffthemedio <geoffthemedio@gmail.com>


    add parameter to PreRenderWindow to indicate that it should run even if the window is not visible. using this, avoid showing and hiding the ListBox within DropDownList::RenderDisplayedRow.


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    fix initialization order warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -unused variable
    -fixed no return value path



Author: geoffthemedio <geoffthemedio@gmail.com>


    generalize not re-evaluating conditions on their default initial object sets when possible


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment out layout exception that don't seem to help but do cause crashed for big combat logs


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid making a copy of shared_ptr


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Consider artificial planets as beeing terraformed (#3801)
    
    for policy terraforming (plus minor cleanup)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Add BuildingType enum (#3803)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix Thenian die-off to affect only Thenian planets (#3806)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    troop pods must also use OFFENSE_TROOPS instead of ATTACKTROOPS (#3802)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -disallow mixing arrival starlanes in a new fleet or in a ship-fleet transfer
    -check for moving a ship into the fleet it's already in


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Apr 18, 2022 - cef7981)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass by value and move in
    -error message if saving with missing AI state info


Author: geoffthemedio <geoffthemedio@gmail.com>


    -structured binding
    -bind reference instead of by value in for loop
    -tweak logging of player save data to show UI data pointer and save state string size


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    remove seemingly redundant autosave


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    move logging of fighter / structure damage to trace level


Author: geoffthemedio <geoffthemedio@gmail.com>


    indicate prereqs and exclusions in policy tooltips


Author: geoffthemedio <geoffthemedio@gmail.com>


    add empire initial adopted policies getter


Author: geoffthemedio <geoffthemedio@gmail.com>


    move pointer


Author: geoffthemedio <geoffthemedio@gmail.com>


    base policy adoption prerequisite checks on initial policies at start of turn, rather than currently-adopted policies


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add revert policies changes order mode
    -repurpose policies window clear button to revert



Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in mod_keys


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use passed-in mod_keys



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    moved cheap-and-fast rules into TEST category


Author: geoffthemedio <geoffthemedio@gmail.com>


    -emplace -> push -emplace_back directly instead of construct and emplace_back the temporary


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> insert or push


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unused define -grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: Oberlus <sicofonte@gmail.com>


    Rework Liberty and Conformance (#3794)
    
    - Liberty doubles dislike effects and increases RP: +0-2*(stability-5)
    - Conformance halves dislike effects and increases stability (+2)
    - Removed RP malus and infrastructure&stockpiling bonus from Conformance, and stability malus from Liberty
    - Grooming: effectsgroups for content like/dislike only need to query SpeciesContentOpinion in scope, not in effects


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove seemingly unnecessary cleanup in ~ObjectListWnd


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use combat ObjectMap instead of general universe ObjectMap when checking the attacker of fighters, since fighters don't exist in the general ObjectMap
    -logging tweaks


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store EmpireManager in ScriptingContext instead of EmpireManager::(const_)container_type
    -store ObjectMap in CombatInfo by value
    -pass diplo statuses to CombatInfo


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Remove alternative research approach (#3793)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    ProductionAI preparations (#3796)
    
    * Collect information about all buildings in building_locations.py
    * Cache get_owned_planets_by_empire and removed argument
    * Added get_planet_opinion plus typing


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant disconnect of scoped_connection


Author: geoffthemedio <geoffthemedio@gmail.com>


    -safety check pointer
    -pass pointer by const reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    -getRaw instead of get(...).get()
    -pass pointer by const reference
    -structured binding
    -move action lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    move parameter in


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use scoped_connection
    -pass connection and function with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    use scoped_connection


Author: geoffthemedio <geoffthemedio@gmail.com>


    store scoped connections for sidepanel subcontrol connections


Author: geoffthemedio <geoffthemedio@gmail.com>


    store scoped connections


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in context ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    use scoped_connection to store signal connection so that after a GUI class is destructed, signals connected to functions that use it won't fire


Author: geoffthemedio <geoffthemedio@gmail.com>


    safety checks / error logging in ResourcePanel


Author: geoffthemedio <geoffthemedio@gmail.com>


    -safety checks
    -structured binding


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Cleanup research (#3792)
    
    * Remove debug code
    * extract header printing to a separate function
    * Remove unused variable
    * Inline msg


Author: O01eg <o01eg@yandex.ru>


    Update python in Androdi SDK to 3.9


Author: Andrey <Cjkjvfnby@gmail.com>


    Run formatters before linters (#3795)


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't std::move a temporary that's already an rvalue


Author: geoffthemedio <geoffthemedio@gmail.com>


    send DependencyVersions with JoinGameMessage


Author: O01eg <o01eg@yandex.ru>


    Convert techs/defense/BarrierShield.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Also remove ownership of buildings when abandoning an outpost (#3789)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    generated python interfaces, fixed AI logging (#3788)


Author: Oberlus <sicofonte@gmail.com>


    Fix priorities of species scaling effects for Industry, Research and Influence (#3773)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Aligned species tags with effects and provide a checking tool (#3725)
    
    Aligned species tags with effects and provided a checking tool


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix _get_queued_base_troopers (#3791)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fixes for drop invasion (#3783)


Author: geoffthemedio <geoffthemedio@gmail.com>


    expose getNamedValue to Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    expose Species likes, dislikes, and native status to Python API


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/TRANSCEND_ARCH.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/STARGATE.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    make website URL https


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/PLANET_DRIVE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/OUTPOST.focs


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Apr 2, 2022 - 1421a8b)


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass in and use empires


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in empires


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass EmpireManager to CompileSaveGameEmpireData
    -in-place construct SaveGameEmpireData


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in context ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass empire object visibility map to VisibleContainedObjectIDs


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace or push -> insert


Author: geoffthemedio <geoffthemedio@gmail.com>


    use vector and minmax_element instead of set begin or rbegin


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> insert or push


Author: geoffthemedio <geoffthemedio@gmail.com>


    auto


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't move from pointer that may be used later


Author: geoffthemedio <geoffthemedio@gmail.com>


    -emplace -> push
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> push


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> push


Author: geoffthemedio <geoffthemedio@gmail.com>


    use piecewise_construct / forward_as_tuple


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    -forward arguments with piecewise_construct
    -rework MeterValueLabelAndString to return two string_view


Author: Grummel7 <muzz@albatross.pond.sub.org>


    remove obsolete policies right after loading a game (#3776)


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid capturing ScriptingContext in lambdas and instead create locally


Author: geoffthemedio <geoffthemedio@gmail.com>


    create ScriptingContext in lambda rather than capturing context that may be out of scope when the signal that executes the lambda occurs. this should fix a crash in the client when ordering invasion of planets.


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't try to cast to int design ID unless the type of thing in the pedia items list is a ship design


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix string_view issue breaking suitability window (#3778)
    
    revert most of 4e930bce474abc2d9400ff5713d01cdc623008cc and instead construct sting view from the Species object's name instead of the PopCenter's species name, which is modified in the following code.


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass current turn


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass current turn


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap and ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed in ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext to CreateFleetArrivedAtDestinationSitRep


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ScriptingContext to Colonize
    -pass ObjectMap to Planet::Reset


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass rather than create ScriptingContext in UI
    -pass just ObjectMap when a full ScriptingContext isn't needed
    -explicitly create and use ScriptingContext rather than calling global getters


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix population reducing effect of planetary drive (#3769)
    
    Fix population reducing effect of planetary drive


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move string
    -use piecewise_construct / forward_as_tuple


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix string_view issue breaking suitability window


Author: geoffthemedio <geoffthemedio@gmail.com>


    Use default WindowsTargetPlatformVersion


Author: Morlic-fo <Morlic@gmx.de>


    Use default WindowsTargetPlatformVersion


Author: Oberlus <sicofonte@gmail.com>


    Add game rule to allow repeated species (#3748)


Author: O01eg <o01eg@yandex.ru>


    Enable tests in Ubuntu 21.04 docker


Author: Andrey <Cjkjvfnby@gmail.com>


    Simplify generate orders (#3764)
    
    * Simplify generate orders
    * Reorder commands


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Move survey_universe to empire module and call it earlier (#3762)
    
    * Move survey_universe to empire module and call it earlier
    * Removed second survey_universe_lock
    
    
    
    This should fix #3760 for good.
    
    It also makes sense as a refactoring, since survey_universe mostly sets values in the empire module and was completely independent from the rest of ColonisationAI.
    
    It does also set some value in the colonization module (nice mix of spelling ;-) which should probably be protected by locks as well, but this can be done with a later PR, this one is big enough and is needed as a fix.


Author: geoffthemedio <geoffthemedio@gmail.com>


    update expected checksums


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix incompatibility with Python3.6 (#3761)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix _adopt and _deadopt, reduce margin for centralization (#3756)
    
    Mostly cosmetic changes, but there were two real bugs that made the AI sometimes adopt and deadopt Centralization repeatedly.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Improve AI invasion handling (#3754)
    
    This should fix the three points described in #3745. It should conquer more successfully and waste fewer troopers now.
    The AI still builds too many troopers (priority calculation sometimes produces strange results) and may ignore good planets (planetary rating also needs work), but these are for another PR.


Author: Oberlus <sicofonte@gmail.com>


    Fix Propaganda effect on enemies (#3759)


Merge: ec969b7bb e2374e7b2
Author: Morlic-fo <Morlic@gmx.de>


    Merge pull request #3755 from Grummel7/twoFixes
    
    Two fixes


Author: Morlic-fo <Morlic@gmx.de>


    Fix ScriptingContext in Tech::ResearchCost (#3750)


Author: Andrey <Cjkjvfnby@gmail.com>


    Bump dev-tools versions (#3752)
    
    * Bump dev-tools versions
    * Fix new warnings


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fixed duplicate calls of bake_future_focus


Author: Grummel7 <muzz@albatross.pond.sub.org>


    unlock with set_colony_builders
    Unlocking after survey_universe is too late, since it uses
    get_colony_builders


Merge: 82560a62e 5328b927d
Author: Morlic-fo <Morlic@gmx.de>


    Merge pull request #3746 from Morlic-fo/DebugSP
    
    Fix #3743


Author: Morlic-fo <Morlic@gmx.de>


    Fix policy PROPAGANDA script


Author: O01eg <o01eg@yandex.ru>


    Fix char sign definition in enums


Merge: 87e2ed334 a0368836b
Author: Morlic-fo <Morlic@gmx.de>


    Merge pull request #3741 from Morlic-fo/RefactorSplitFleet
    
    Let split_ship_from_fleet return INVALID_ID on failure


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Ensure colony_buildes are initialized before usage (#3744)


Author: Morlic-fo <Morlic@gmx.de>


    Fix reconnection attempts sometimes persisting throughout timeout.
    
    On expiry of m_deadline_timer, the m_reconnect_timer is canceled. However, if both timers expire in a short enough timeframe, the m_reconnect_timer callback may already have been scheduled and thus can no longer be canceled. To prevent this, let m_deadline_timer set a flag upon expiry and check that flag before attempting to reconnect.


Author: Oberlus <sicofonte@gmail.com>


    Avoid repeating playable species (#3742)


Author: Morlic-fo <Morlic@gmx.de>


    Explicitly provide .count() to help some compilers...


Author: Morlic-fo <Morlic@gmx.de>


    Add some TraceLogging to debug #3743


Author: Morlic-fo <Morlic@gmx.de>


    When loading SP game, assign AIs by name to respective empires (#3738)


Author: Andrey <Cjkjvfnby@gmail.com>


    Minor fixes (#3740)
    
    - remove error log that is not a real error
    - change the way arguments are supplied to the log function
    - fix typo


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Mar 12, 2022 - 69075b3)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Readd a fixed version of the species check


Author: Morlic-fo <Morlic@gmx.de>


    Let AIWrapper for IssueNewFleetOrder return INVALID_ID on invalid order


Author: Morlic-fo <Morlic@gmx.de>


    Return INVALID_ID on split_ship_from_fleet failure


Merge: 32ea75d8d adc69386d
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3736 from Morlic-fo/GitIgnores
    
    Add some more files to gitignore


Author: Morlic-fo <Morlic@gmx.de>


    Fix timeout being sometimes ignored in ClientNetworking::Impl::ConnectToServer() (#3620)
    
    Previous to this patch, small timeout values are effectively ignored. This happens because boost::asio::io_context::run() is a blocking call and the attempt to async_connect() may time out after e.g. 2 seconds on my machine. This means any shorter timeout parameters will effectively be ignored and any longer timeout still only has a resolution of, e.g., 2 seconds.
    
    The fix here is to introduce an asynchronous timer which will cancel pending operations once timeout occurs.


Author: Morlic-fo <Morlic@gmx.de>


    Add libpython.py to gitignore


Author: Morlic-fo <Morlic@gmx.de>


    Add msvc default output directories to gitignore


Author: Morlic-fo <Morlic@gmx.de>


    Fix return type of ship.colonyCapacity in python API (#3735)


Author: Morlic-fo <Morlic@gmx.de>


    Fix potential array access out of bounds (#3734)


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoiding use of global GetEmpire() and Universe() getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing ScriptingContext to research and tech-related functions


Author: geoffthemedio <geoffthemedio@gmail.com>



    -reordering members


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass DiploStatusMap to SystemHasFleetSupply


Author: geoffthemedio <geoffthemedio@gmail.com>


, structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext to FleetSupplyableSystemIDs


Author: geoffthemedio <geoffthemedio@gmail.com>


    make some getters explicitly use the client interface


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing empires and IDs instead of using global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    add EmpireIDs() function to ScriptingContext and EmpireManager


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fixed troopCapacity return value (#3733)


Author: geoffthemedio <geoffthemedio@gmail.com>


    limit search range to size of EnumMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove MSVC 2017 project files


Author: geoffthemedio <geoffthemedio@gmail.com>


    bump AppVeyor to MSVC2019


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move EnumMap building into constructor
    -actually store names as string_view instead of string in EnumMap
    -construct EnumMap at compile time


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove default delimeter arguments
    -simplify loop over chars
    -fix range of chars to loop over for hex values


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment out static_assert some older compilers give error: non-constant condition for static assertion


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove default delimeter argument
    -implement constexpr string_view to EnumType via decimal or two-digit hex parsing


Author: geoffthemedio <geoffthemedio@gmail.com>


    refactor EnumMap building to tokenize and store string_view into the passed-in char*


Author: geoffthemedio <geoffthemedio@gmail.com>


    move BuildEnumMap into EnumMap as Build


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move EnumMap definitions into declaration
    -reimplement EnumMapInsert with string_view
    -WIP since the call in BuildEnumMap to Insert passes a temporary string


Author: geoffthemedio <geoffthemedio@gmail.com>


    use to_string(GG::Key)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add parameter to GG_ENUM and GG_CLASS_ENUM to specify the underlying type
    -make EnumMap store in two arrays instead of two maps, separately tracking its size to ensure not too much is inserted
    -make Flags store bits internally in an unsigned short instead of unsigned int



Author: geoffthemedio <geoffthemedio@gmail.com>


    -references instead of copies
    -explicit type to avoid warning about possibly unintended copy


Author: geoffthemedio <geoffthemedio@gmail.com>


    use FO_ENUM instead of GG_ENUM


Author: geoffthemedio <geoffthemedio@gmail.com>


    use smaller types for enum class definitions


Author: Grummel7 <muzz@albatross.pond.sub.org>


    First AI with policies plus minor adoptions (#3729)
    
    First AI with policies plus minor adoptions


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove (no star) label from starless system names


Author: st.pa <st-pa-fo@web.de>


    -display real system name on map and sidepanel for empty systems
    -label as unexplored system or region after name


Author: geoffthemedio <geoffthemedio@gmail.com>


    Revert "-don't wait for all parallel activation condition evaluations to finish before starting parallel scope condition evaluations"
    
    This reverts commit 94636c87b616dc64f9bc06dd1d3215f71a32a774.
    
    This commit seems to have broken numerous effects.


Merge: 1cb3f0794 0d04c82eb
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3722 from MichaelCourtney/hideandguard
    
    Native/Special Defense Tweaks


Author: Andrey <Cjkjvfnby@gmail.com>


    Update development docs (#3721)
    
    Update readme and development documentation


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Remove unused check (#3727)
    
    Discussed in the thread: https://www.freeorion.org/forum/viewtopic.php?p=110431#p110431


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix tag parsing (#3723)
    
    * Fix tag parser, added influence to species roster
    * Fix mis-handling of SystemID 0
    * Fix get_ai_tag_grade, added a test


Author: geoffthemedio <geoffthemedio@gmail.com>


    add default values and simplify Wnd constructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove default Empires() parameter and pass explicitly instead
    -use ServerApp's m_empires instead of calling Empries() (which resolves to the same thing)


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove default parameter Empires() global call


Author: geoffthemedio <geoffthemedio@gmail.com>


    GetTech overloads taking char* or string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't wait for all parallel activation condition evaluations to finish before starting parallel scope condition evaluations
    -avoid copying full set of input candidate source objects when no activation condition is specified, and instead just reference that input full set
    -avoid copying ObjectSets into container for already-dispatched scope evaluations
    -elaborate comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    only find in fleets when looking for moving fleets


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in current_turn


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Mar 5, 2022 - 68e44d2)


Author: MichaelCourtney <wobbly@fredvisions.com>


    Sometimes stealth monster nests


Author: MichaelCourtney <wobbly@fredvisions.com>


    Replace 20% of ancient guardians with stealthed planet


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add asteroid snails to guards


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add some exclusions to High Tech Natives


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add guards to resource specials


Author: MichaelCourtney <wobbly@fredvisions.com>


    Stop Lembalalam from being both moderate and high tech natives


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add occasional defenses to natives
     Please enter the commit message for your changes. Lines starting


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fixed some AI exceptions (#3719)
    
    This should fix the exceptions mentioned in #3718


Author: Oberlus <sicofonte@gmail.com>


    Fixes some unused variable warnings (#3728)


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in empire_id instead of passed-in produced_by_empire_id to determine the owner of a new Ship


Author: geoffthemedio <geoffthemedio@gmail.com>


    -InitializeSystemGraph overload that uses this->m_objects
    -IDAllocator::NewID takes a Universe parameter
    -GenerateStarlanes takes an EmpireManager parameter
    -GenerateStarlanes avoids global Objects() calls
    -EmpireTotalSupplyRange and DistanceBetweenObjects take ObjectMap parameters


Author: geoffthemedio <geoffthemedio@gmail.com>


    -avoid free Objects() calls, or make them more explicit



Author: geoffthemedio <geoffthemedio@gmail.com>


    passing and using context rather than free GetEmpire() and Objects()


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove GetSourceObjectForEmpire() that was redundant with a Empire::Source


Author: geoffthemedio <geoffthemedio@gmail.com>


    clean up some GetUniverse(), Empries(), and GetEmpire() calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove default parameter GetUniverse() call


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove ~Empire()
    -pass EmpireColor by value


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak member order to improve packing in memory


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove recently-added Universe parameters to UniverseObject constructors, so that UniverseObject are no constructed with a default StateChangedSignal with no combiner set
    -call SetSignalCombiner on moved-in objects in Universe::operator=


Author: Oberlus <sicofonte@gmail.com>


    Fix repeated NamedValue (#3724)


Author: st-pa-fo <37298400+st-pa-fo@users.noreply.github.com>




Author: geoffthemedio <geoffthemedio@gmail.com>


    -add assignable_blocking_combiner that can be modified after construction by assignment
    -add UniverseObject::SetSignalCombiner
    -set the StateChangedSignal combiner when deserializing or inserting objects into a Universe to use that Universe's signal inhibitor flag


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass Universe and current turn when constructing UniverseObject and derived classes rather than accessing global getters
    -default construct UniverseObject derived types in serialize functions
    -pass by value some copied-anyway parameters like std::string
    -safety check before using possibly null design pointer in Ship constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove undefined default constructor declaration


Author: geoffthemedio <geoffthemedio@gmail.com>


    default destructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove empty destructor


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Adapted basic growth formula. (#3703)
    
    The old formula grew quadratic with the planet size,
    i.e. big planet became full quite quickly, while small ones
    grew extremely slowly.


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Update python skeletons (#3716)


Author: MichaelCourtney <wobbly@fredvisions.com>


    Move the default native defenses to native_fortication.macros


Author: MichaelCourtney <wobbly@fredvisions.com>


    Guard Biege Goo and Fiftyseven


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -forwarding parameters
    -string_view instead of string
    -simplify OptionSection struct


Author: geoffthemedio <geoffthemedio@gmail.com>


    add rvalue overloads to Validator Clone functions


Author: geoffthemedio <geoffthemedio@gmail.com>


 / commenting


Author: geoffthemedio <geoffthemedio@gmail.com>


    -branchless sign determination
    -missing default case


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix warnings and avoid unnecessary repeat calculations


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make Meter functions noexcept
    -expose value instead of getter to Python
    -return array of char instead of string from Meter::Dump


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove five-year-old backwards compatibility code in Meter::serialize
    -shorten Meter member variable names


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]] and constexpr Meter


Author: geoffthemedio <geoffthemedio@gmail.com>


    use sprintf in buffer instead of cocatenating result of std::to_string, when std::to_chars is unavailable


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unnecessary use of stringstream for concatenation
    -default value for member variable


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Feb 25, 2022 - f2010df)


Merge: f2010df09 d7a76e471
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3720 from Oberlus/BalanceColonization
    
    Balance colonization and centralization


Author: Oberlus <sicofonte@gmail.com>


    Make CENTRALIZATION and COLONIZATION colony cost factor 1/3 instead of 1/2


Author: Oberlus <sicofonte@gmail.com>


    Make Exobot colony building cost 60 instead of 70


Author: Oberlus <sicofonte@gmail.com>


    Apply COLONIZATION and CENTRALIZATION colony cost factors to colony buildings and outpost ship parts


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Clean up Confederation Policy (#3696)


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    move calculation within if


Author: geoffthemedio <geoffthemedio@gmail.com>


    -constexpr
    -remove unused tag parameter from CreateFromTag functions



Author: geoffthemedio <geoffthemedio@gmail.com>


    use double-valued GG::Y_d to avoid warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused constant


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    disable warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -constexpr in GG_STRONG_INTEGRAL_TYPEDEF
    -default constructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    use is_constant_evaluated() instead of consteval


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix compile error in MSVC 2022


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary const from by-value return


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make some function scope constexpr stuff static constexpr
    -make some GG::Flags functions constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    make MapWnd zoom step size, min, and max constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    make some function-scope constexpr values static


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix typo in string tables. Fixes #3713 (#3714)
    
    Fix typos in string tables. Fixes #3713


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Feb 17, 2022 - 4b99b35)


Author: geoffthemedio <geoffthemedio@gmail.com>


    elaborate comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use NewMeterValue and pre-determining all values before setting them in SetEmpireMeter::Execute
    -separately handle TargetInvariant case when determining the empire id
    -refactor NewMeterValue and add overloads for whether or not a separate target object is specified from that in the context, rather than checking if they are the same
    -add some static_assert to NewMeterValue to constrain the passed-in types


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use NewMeterValue and pre-determining all values before setting them in SetShipPartMeter::Execute
    -separately handle TargetInvariant case when determining the part name


Author: geoffthemedio <geoffthemedio@gmail.com>


    -delete ScriptingContext destructors taking int, double, enums, string, or vector<string> to avoid implict casting to a locally-constructed CurrentValueVariant that is then bound to a const reference
    -instead explicitly create the CurrentValueVariant and pass in
    -fix several instances of a ship design ID being stored in ScriptingContext::current_value when it should be passed to the dedicated ScriptingContext::in_design_id field
    -add ScriptingContext constructors taking a parent context by r-value reference that then move from the object pointers of the input context
    -make NewMeterValue perfect forward the input context


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove duplicate implementation by calling accounting-enabled version of SetMeter::Execute from the non-accounting overload


Author: geoffthemedio <geoffthemedio@gmail.com>


    check for and use TargetInvarant and SimpleIncrement in SetMeter::Execute overload with effect accounting


Author: geoffthemedio <geoffthemedio@gmail.com>


    -detemplatize, [[nodiscard]], and FO_COMMON_API to FlexibleToString enum overloads
    -move use of constexpr to_string functions into .cpp file to fix compile error
    -add ValueRef::Operation::EvalImpl overload and template-specializations for two by-value operands
    -use that overload for evaluating simple increment operations
    -store list of values in a vector instead of set and use min/max_element instead of *begin for the MINIMUM and MAXIMUM operations


Author: geoffthemedio <geoffthemedio@gmail.com>



    -counting tested and removable potential lanes


Author: TheSilentOne1 <TheSilentOne1@users.noreply.github.com>


    fix bureaucracy sitrep (show icon) (#3711)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Hack to allow multi-line commands in debug chat (#3708)
    
    Also updated python readme the with use of black


Author: geoffthemedio <geoffthemedio@gmail.com>


    planettype -> PlanetType in parser


Author: geoffthemedio <geoffthemedio@gmail.com>


    add enum_or_int to castable_as_int_parser_rules which will match a PlanetType expression and cast it to an int, which can then be used to create a comparison condition


Author: geoffthemedio <geoffthemedio@gmail.com>


    docstrings


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    add Python API overloads of Policy.adoptionCost taking an empire object or empire ID


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix exposing Policy adoption cost to Python API


Author: TheSilentOne1 <TheSilentOne1@users.noreply.github.com>


    fix bug when policy icons would change size on switching category (#3710)


Merge: 172903b1e a20551043
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3695 from MichaelCourtney/pediafixes
    
    Some pedia improvements


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add species lists to traits pedia pages


Author: MichaelCourtney <wobbly@fredvisions.com>


    Only Artistic species should display as artistic


Author: MichaelCourtney <wobbly@fredvisions.com>


    Fix broken links for Artistic Trait


Author: MichaelCourtney <wobbly@fredvisions.com>


    Use named values for robotic and organic hull repair


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add independent stability description
    
    reword independent stability
    
    change


Author: geoffthemedio <geoffthemedio@gmail.com>


    -require visibility for Propaganda Broadcasts enemy effect
    -update Propaganda Broadcasts description


Author: geoffthemedio <geoffthemedio@gmail.com>


    Exobot Productivity penalties to non-exobots focused on industry


Author: geoffthemedio <geoffthemedio@gmail.com>


    Exobots are unaffected by Capital Markets influence debt stability penalty


Author: geoffthemedio <geoffthemedio@gmail.com>


    Exobot planets affect per-planet influence costs like outposts, not other populated colonies


Author: geoffthemedio <geoffthemedio@gmail.com>


    influence mechanics description


Author: geoffthemedio <geoffthemedio@gmail.com>


    tpyo


Author: geoffthemedio <geoffthemedio@gmail.com>


    allow multiple pedia tags per article


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Feb 11, 2022 - 5e6127f)


Author: Oberlus <sicofonte@gmail.com>


    Fix mutual exclusions between policies, keep list ordered (#3697)


Author: TheSilentOne1 <TheSilentOne1@users.noreply.github.com>


    fix arrows (remove cut off glow) (#3699)


Author: Andrey <Cjkjvfnby@gmail.com>


    Add README to st-tool (#3652)
    
    Add README to st-tool


Author: st-pa-fo <37298400+st-pa-fo@users.noreply.github.com>


    Expand Pedia Quick Start Guide (#3659)
    
    expand pedia quickstart guide


Author: MichaelCourtney <wobbly@fredvisions.com>


    Fix scanning facility pedia entry


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Feb 6, 2022 - bb82da1)


Author: agrrr3 <axel.gross@iaeste.at>


    Apply defensive flanking bonus only if there are at least two defenders (#3688)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Flux bubble should decrease colony building time (#3690)
    
    * Flux bubble should decrease colony building time
    * Fix pedia cateogorization of spatial flux hulls


Merge: ac1ba4912 3eb581cfc
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3665 from st-pa-fo/stpa-nightsiders
    
    add native species Nightsiders, Sleepers, Khakturian, Celestephyte


Author: st.pa <st-pa-fo@web.de>


    - quick fix: reducing probability for natives on roids and GGs by factor five
    - until there are either more candidate native species for those environments or more detailled universe setup options


Author: st.pa <st-pa-fo@web.de>


    - removing reference to disabled content BLD_CLONING_CENTER from species likes/dislikes
    - while at it, putting species likes/dislikes each on their single line of code to facilitate commenting and merging, and apply alphabetic sorting order using "sort | uniq"


Author: st.pa <st-pa-fo@web.de>


    - rebased on master


Author: st.pa <st-pa-fo@web.de>


    - generic fieldtype pedia pages now list map-clickable known occurances of each field type


Author: st.pa <st-pa-fo@web.de>


    - adding system special of derelict small troop ships crewed by khakturian, to be randomly stumbled upon players just like the other derelicts


Author: st.pa <st-pa-fo@web.de>


    - incorporating feedback about the khakturian: they do not dislike the worldtree enough to revolt anymore, but neither do they like it nor enjoy its benefits


Author: st.pa <st-pa-fo@web.de>


    - adding prefixes EXTREMELY_BAD and VERY_BAD for POPULATION species-tags for use by the AI
    - adding prefix VERY_BAD for RESEARCH and INDUSTRY species-tags for use by the AI - although they were already previously present in species definition of exobots


Author: st.pa <st-pa-fo@web.de>


    - fixing population dieoff effect for species Thenian and the according sitrep message
    - improved sitrep-message 'new dyson forest growing' with pedia link to dyson forest (for the noobs)
    - noted some todo's related to pedia with possible future improvements
    - fixed some fixme's - they work best when followed by a colon, this will highlight them similar to todo's in modern ide's
    - make list of homeworlds commaseparated in the pedia-homeworlds-page


Author: st.pa <st-pa-fo@web.de>


    - ending every automatically created pedia page with an extra empty line, just in case the previously last bit of text was ment to be a clickable pedia link, which would not have been clickable if the very last thing on the page. this should not hinder the player's reading experience in any way but improve it slightly, wherever pedia pages ended with pedia links before. one example in this pr is the void rift fieldtype page which lists as species that dislike the Celestephyte which is now clickable with this fix here.


Author: st.pa <st-pa-fo@web.de>


    - adding FieldTypes to repertoire of LinkStringIfPossible
    - adding placeholder-icon for new species #5 the Thenian - and this is the last species in this pr
    - the Thenian suffer from a totally natural periodic population dieoff with sitrep-message which im testing before the push
    - slight reformatting of the homeworlds-part of species pedia pages to look more like the occupied planets part and to not have to scroll for miles when there are a lot of homeworlds


Author: st.pa <st-pa-fo@web.de>


    - streamlining the pedia text generating code a little by introducing versatile helper methods to replace some massively redundant code and prettify the player visible output at the same time, admittedly at the expense of a tiny little bit of extra computations every time the player clicks on a pedia link but that is negligible and not really noticeable


Author: st.pa <st-pa-fo@web.de>


    - adding tag PEDIA_PC_FUEL to laenfa species definition to be consistent with sly
    - fluffing out sly description some more to account for stealthiness and possible other gaseous beings
    - also give some more reason why they might dislike the gasgiant-generators
    - the Thenian are not only well defended, but now have good planetary stealth too and can not colonize anyway
    - new helper method LinkStringIfPossible used for hyperlinking likes and dislikes in pedia pages


Author: st.pa <st-pa-fo@web.de>


    - slightly improved formatting of pedia text for "likes" and "dislikes" and "liked by" and "disliked by"
    --> but still not quite perfect: the comma must be internationalized and cannot stand for all languages. i've seen there is a japanese translation underway, the correct punctuation for that would be different than most european languages.
    - fixed python formatting error: empty line is now empty
    - Celestephyte descriptive pedia text (which i would later like to translate at least to german myself..)


Author: st.pa <st-pa-fo@web.de>


    - neverending story - w.i.p. for more native species
    - removing superfluos patch. oops.
    - more population and environment macros in view of upcoming species
    - during universe creation, allow new native species to be placed who have no good habitat but only adequate or poor
    - adding species #4 the Celestephyte, to be continued ...


Author: st.pa <st-pa-fo@web.de>


    - adding new native species #1 Nightsiders, #2 Sleepers and #3 Khakturian
    - for the nightsiders see also https://www.freeorion.org/forum/viewtopic.php?p=109222#p109222
    - for the sleepers see also https://www.freeorion.org/forum/viewtopic.php?f=7&t=12241
    - for the khakturian see also https://www.freeorion.org/forum/viewtopic.php?f=7&t=12242
    - reworked their icons so they are similar to but distinct from the preexisting species icons
    - adding likes and dislikes with motivational comments to species definitions, partly translated into player readable pedia page texts
    - grooming typos crossing the t's and dotting the i's
    - moving the effect 'Light Sensitive' from banforo species definition to common population macros because the nightsiders share that trait
    - added logging when preferred native focus not available during universe creation
    - changed condition for availability of FOCUS_PROTECTION so that some native species with that same preferred focus can now do that while not yet conquored


Author: st-pa-fo <37298400+st-pa-fo@users.noreply.github.com>


     - adding Nymnmn-description as per #3207 (#3646)
    
    - typo corrections in existing english texts
    - de-gendering the Raaagh-description (he --> it/they)
    - beautifications of species-descriptions-tooltips / pedia-pages:
    -- less wrapped lines -> easier readable in game start screen
       (even without the extra line breaks there are less wrapped lines now)
    -- added a neutral symbol ⋄ (diamond operator) to preexisting positive + and negative -
    - adjusting expected checksums due to content changes
    - adding a few more names for stars
    - rename (only the user-facing part of) all buildings '%SPECIES% Colony' to 'Colony of %SPECIES%'
    --> bunches them together in the buildingtype pedia page instead of smearing all over the list when in default alphabetic sorting order


Merge: 7561a83d9 5b409fc42
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3608 from TheSilentOne1/policy-icons
    
    New policy icons and slots


Author: TheSilentOne1 <TheSilentOne1@users.noreply.github.com>


    add influence stockpile to PlayerListWnd (#3686)
    
    add (known) influence generation to PlayerListWnd


Author: O01eg <o01eg@yandex.ru>


    Try to hide CI SmokeTestHostless failure (#3693)


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -switch from std::list and std::map to std::vector and boost::container::flat_map in ConnectedWithin



Author: TheSilentOne1 <TheSilentOne1@users.noreply.github.com>


    replace field mouseover image with high-res version (#3691)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Replace Terraforming (reversion) by targeted Terraforming. (#3634)
    
    * Replace Terraforming (reversion) by targeted Terraforming.
    This allows Exobots to do Terraforming, but no longer
    allows to do several steps in parallel.
    * Amended Terraforming SitRep with new type and quality
    * Also avoid enqueuing opposite when building exists


Author: TheSilentOne <martin@diergarten.net>


    shine on technocrazy


Author: TheSilentOne <martin@diergarten.net>


    final cleanup


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jan 30, 2022 - 9d54ada)


Author: TheSilentOne <martin@diergarten.net>


    polishing "dream recursion" and "the hunt" policies
    
    make m_clear_button member of GovernmentWnd


Author: TheSilentOne <martin@diergarten.net>


    adjust button positions


Author: TheSilentOne <martin@diergarten.net>


    polish policy icons


Author: TheSilentOne <martin@diergarten.net>


    nicer policy size buttons


Author: TheSilentOne <martin@diergarten.net>


    - replace some economic policy icons
    - finetune economy policy icons


Author: TheSilentOne <martin@diergarten.net>


    radio buttons change policy card size
    
    add icon-style policy size buttons


Author: TheSilentOne <martin@diergarten.net>


    add new art for policies


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweak / correct error messages



Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary casting of int to double and back to int


Author: geoffthemedio <geoffthemedio@gmail.com>


    uniform random operation uses RandomNumber(...) not random(...)


Author: geoffthemedio <geoffthemedio@gmail.com>


    round instead of truncate int sine calculations


Author: geoffthemedio <geoffthemedio@gmail.com>


    revert to PlanetTypeDifference using FOCS strings instead of text representations of enums


Author: geoffthemedio <geoffthemedio@gmail.com>


    cast planet types to int instead of string when parsing


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    store planet_type_parser_rules by value in int_complex_parser_grammar


Author: Axel Groß <axel.gross@iaeste.at>


    -add parsing for PlanetTypeDifference
    -use string representations of PlanetType enum values (PT_OCEAN) rather than FOCS names (Ocean) in PlanetTypeDifference ValueRef


Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Translate more strings into spanish (#3680)
    
    Translate more strings into spanish


Merge: e499e3fa5 4a66283fb
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3660 from st-pa-fo/stpa-font-change
    
    adding unicode glyph U+22C4 "Diamond Operator" to roboto font


Author: st.pa <st-pa-fo@web.de>


    - adding unicode glyph U+22C5 "Dot Operator" to roboto regular font and adjusting font version number and copyright-notice


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix Operation<T>::EvalImpl ignoring value comparison test result when only two operands were specified


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweak some statistics to consider all owned objects, not just planets
    -add influence and production stockpile statistics


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move ReferenceType enum definition from ValueRefs.h to ValueRef.h
    -add GetReferenceType() as a virtual function to ValueRef from Variable, default returning INVALID_REFERENCE_TYPE
    -avoid now-unnecessary dynamic_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -NewMeterValue also returns the affected meter
    -in the SetMeter::Execute overload, get all new meter values before modifying any meters


Author: geoffthemedio <geoffthemedio@gmail.com>


    pre-determine what effects groups will be active before executing them


Author: geoffthemedio <geoffthemedio@gmail.com>


    move string


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    pull new meter value calculation out to a mostly-common function NewMeterValue


Author: geoffthemedio <geoffthemedio@gmail.com>


    move SetMeter::Execute effect trace-level pre and post object dumping into a separate function


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass strings to AccountingInfo by value instead of &&


Author: geoffthemedio <geoffthemedio@gmail.com>


    helper function PlanetIDFromObject


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variables when catching exceptions


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move warning disabling into warnings.props in MSVC2019 project files
    -remove disabling of most warnings in MSVC2019 project files


Author: geoffthemedio <geoffthemedio@gmail.com>


    use to_python_converter instead of custom exposed pair types to Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix some broken Python API stuff:
    -missing class wrappers for stuff that the API returns
    -incompatible function parameter types (string_view)
    -add an auto converter from returned string_view to Python-string
    -separately exposing maps or sets indexed by strings that used a non-standard comparison type and are thus technically a different class
    -fix binding a reference to a temporary in jumpsToSuppliedSystem


Author: O01eg <o01eg@yandex.ru>


    Provide IP address of logging player to Python API


Author: MichaelCourtney <wobbly@fredvisions.com>


    Various Species likes/dislikes


Author: MichaelCourtney <wobbly@fredvisions.com>


    Gisgusgthrim/HappyBday policy likes


Author: MichaelCourtney <wobbly@fredvisions.com>


    Furthest policy preferences


Author: MichaelCourtney <wobbly@fredvisions.com>


    remove centralization dislike from george


Author: MichaelCourtney <wobbly@fredvisions.com>


    George policy preferences


Author: MichaelCourtney <wobbly@fredvisions.com>


    Gysache policy preferences


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update README.md (#3673)
    
    -newish builds require Windows 8.1 as far as I'm aware
    -newish builds require MacOS 10.12
    -mention probably-supported Ubuntu versions


Author: 0x159BABA11227B902 <0xIDENTITY@pm.me>


    Updated info about provide at ArchLinux (#3678)


Author: geoffthemedio <geoffthemedio@gmail.com>


    combine some namespace specifiers


Author: geoffthemedio <geoffthemedio@gmail.com>


    forward return value


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variables in catch blocks


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak MSVC2019 project file warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    move files into filters in project file


Author: geoffthemedio <geoffthemedio@gmail.com>


    return const reference from SpeciesManager::GetSpeciesHomeworldsMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    evaluate activation conditions with std::async in DispatchEffectsGroupScopeEvaluations


Author: geoffthemedio <geoffthemedio@gmail.com>


    separately track timing of ship and planet species during effect evaluation


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid dynamic_pointer_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid dynamic_pointer_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    add overload to UniverseObject::MoveTo taking a raw UniversObject*


Author: geoffthemedio <geoffthemedio@gmail.com>


    rename EMPTY_CURRENT_VALUE to DEFAULT_CURRENT_VALUE and explicitly initialize to 0, since boost::variant is not default empty


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some dynamic_pointer_cast with static_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace dynamic_pointer_cast with check of UniverseObjectType and static_pointer_cast
    -other grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    mark logger calls with the effects filter


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unnecessary default base class initializers
    -mark logger calls with the conditions filter


Author: O01eg <o01eg@yandex.ru>


    Remove some unused parser tokens


Author: O01eg <o01eg@yandex.ru>


    Full checksums test


Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Some more translations into spanish (#3671)
    
    Some more translations into spanish


Author: Rob Gill <rrobgill@protonmail.com>


    Prevent enqueing multiple Regional Administration at same planet (#3674)
    
    Signed-off-by: Rob Gill <rrobgill@protonmail.com>


Author: O01eg <o01eg@yandex.ru>


    Add missing fileds to Tech, EffectsGroup, and Named* dump


Author: Andrey <andrey.solomatin@clarifai.com>


    Print address to console, exit service gracefully (#3669)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Species likes/dislikes tweaks (#3670)
    
    * Trith like research, isolation, divine authority
    * Add "PLC_BUREAUCRACY" to species likes/dislikes
    * Start Fulver with Confederation unlocked
    * Give Replicon some policy preferences


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jan 17, 2022 - fd013a6)


Author: Geoff <geoffthemedio@users.noreply.github.com>


    -make snowflake bodies have good instead of excellent vision (#3668)
    
    -make detection techs increment range in steps of 25 instead of 25 or 50
    -use value reference for tech detection ranges in pedia
    -reduce living hull detection boost from 50 to 40
    -reduce scanning facility range boost from 75 to 50


Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Add some more spanish translations (#3667)
    
    Add some more spanish translations


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix rendering number with 1 digit of precision rather than to 1 fractional decimal digit of precision


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -merge / simplify FlexibleToString code using if constexpr instead of enable_if SFINAE
    -UserString lookups instead of rendering enums as ints


Merge: 4a0e8b19a b4c6a1833
Author: Vezzra <vezzra@gmx.net>


    Merge pull request #3661 from st-pa-fo/stpa-german-translation
    
    - add some german translations and correct one other


Author: geoffthemedio <geoffthemedio@gmail.com>


    add PlanetTypeDifference case to ValueRef::Complex<int> that converts int or string parameters to PlanetType


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move PlanetTypeToString and PlanetEnvironmentToString from Species.cpp into ValueRefs.cpp and make publicly accessible
    -add reverse-lookup StringToPlanetType in ValueRef.cpp



    -made fleet unstealthiness work in steps of 5 and be a much larger effect, but also with a threshold of 10 ships to start happening
    -added some ship stealth bonuses and penalties dependent on star type



    boosts and penalties to planet and ship detection dependent on star type




    adding number of settled worlds to census report (#3648)
    * - adding a column and labels to the census report to show number of settled worlds per species / per trait / total
    - always display one decimal digit in census population counts
    - another label to distinguish current from target population



    - add some german translations and correct one other
    - rename (only the user-facing part of) all buildings '%SPECIES% Colony' to 'Colony of %SPECIES%'
    --> bunches them together in the buildingtype pedia page instead of smearing all over the list when in default alphabetic sorting order




Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Translate a few strings into spanish (#3653)
    
    Co-authored-by: Roberto Sánchez Fernández <robertosanchez_9@protonmail.com>


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jan 10, 2022 - a235bfd)


Author: oleg <o01eg@yandex.ru>


    Add dump of tested tech to Boost.Test log


Author: oleg <o01eg@yandex.ru>


    Unown outposts with Chaos Wave bombardement weapon


Author: oleg <o01eg@yandex.ru>


    Convert techs/construction/INTERSTELLAR_LOG.focs


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Added the Asteroid coating special. (#3649)
    
    Co-authored-by: Sloth <oliver.mecking@web.de>


Author: Rob Gill <rrobgill@protonmail.com>


    Mark as single window in desktop file (#3650)
    
    Signed-off-by: Rob Gill <rrobgill@protonmail.com>


Author: geoffthemedio <geoffthemedio@gmail.com>


    missing newline


Author: Felecarp <82163172+Felecarpp@users.noreply.github.com>


    Fix inhabited/uninhabited french translation error
    
    The french word "inhabité" means "uninhabitated", not "inhabited".
    https://www.wordreference.com/enfr/inhabited
    https://www.wordreference.com/enfr/uninhabited
    
    The original text:
    '''This building can only be constructed at a [[PT_GASGIANT]]. It gives a [[value BLD_GAS_GIANT_GEN_OUTPOST_TARGET_INDUSTRY_FLAT]] [[metertype METER_INDUSTRY]] bonus to planets with the Industry focus in the same system. If the [[BLD_GAS_GIANT_GEN]] is built on an inhabited gas giant it gives only a [[value BLD_GAS_GIANT_GEN_COLONY_TARGET_INDUSTRY_FLAT]] [[metertype METER_INDUSTRY]] bonus.


Author: geoffthemedio <geoffthemedio@gmail.com>


    -assert -> static_assert
    -fix comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't double-check for source-invariance
    -get a source object if not already specified in context and possible, and then create a new context using that source before evaluating source-dependent ValueRef


Author: geoffthemedio <geoffthemedio@gmail.com>


    move ScriptingContext construction after check for null policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add more granular policy availability display filters
    -refactor policy AvailabilityManager
    -pass ScriptingContext instead of just ObjectMap to Policy::AdoptionCost and Empire::AdoptPolicy


Author: geoffthemedio <geoffthemedio@gmail.com>


    limit number of stack traces logged


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak formatting of float/double to string


Author: geoffthemedio <geoffthemedio@gmail.com>


    more network error logging details


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    higher priority logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    more logging when exiting human client


Author: st.pa <stephan.pakebusch@zollsoft.de>


    - dedentation, more tidier code


Author: st.pa <stephan.pakebusch@zollsoft.de>


    - better accounting labels for tech effects and specials effects, italics style, planet names etc., starting with grow techs, defense techs, construction techs, worldtree special and computronium special
    - typo corrected
    reordering the accountinglabel from effects to effectsgroup


Author: st.pa <stephan.pakebusch@zollsoft.de>


    - add few more names for ships and stars
    - alphabetic reordering of some ship names
    - correcting some typos in ship names (mainly umlauts of proper names)
    - including feedback from https://github.com/freeorion/freeorion/pull/3642
    - adding parentheses in comments for code foldability


Author: geoffthemedio <geoffthemedio@gmail.com>


    add distance to selected system or fleet to objects list columns


Author: geoffthemedio <geoffthemedio@gmail.com>


    handle SelectedSystemID, SelectedPlanetID, SelectedFleetID, and SelectedPlanetID in Variable<int>::Eval


Author: geoffthemedio <geoffthemedio@gmail.com>


    treat DirectDistanceBetween like a position for string representation


Author: geoffthemedio <geoffthemedio@gmail.com>


    -StringCast<double>::Eval don't apply SI postfixes if number is close to 1 in magnitude
    -use to_chars when available


Author: geoffthemedio <geoffthemedio@gmail.com>


    account for SI postfixes in text representations of numbers when sorting object list columns


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variable


Author: geoffthemedio <geoffthemedio@gmail.com>


    added SelectedSystemID, SelectedPlanetID, SelectedFleetID, and SelectedShipID getters to AppInterface. should only be used in the human client, such as for UI purposes, as these don't make sense on a server or AI.


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add SelectedSystemID, SelectedFleetID, and SelectedShipID getters to MapWnd



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove strings for removed policy
    -removed redundant [[]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix parser capitalization


Author: geoffthemedio <geoffthemedio@gmail.com>


    -increase size of influence debt stability penalty
    -add an influence debt decay effect, which should limit how big the debt and grow, and make it reduce on its own over time


Author: geoffthemedio <geoffthemedio@gmail.com>


    allow adopting zero-cost policies even when there is an influence debt


Author: geoffthemedio <geoffthemedio@gmail.com>


    Necessity increases (suitably low stability) planet research growth rate by 1


Author: geoffthemedio <geoffthemedio@gmail.com>


    make Capital Markets increase the rate of growth or decay of stability towards target


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add influence output focus bonus to Capital Markets (requires high stability)
    -add stability penalty from Influence debt to Capital Markets


Author: geoffthemedio <geoffthemedio@gmail.com>


    increased cost and reduced influence bonus from Propaganda Broadcasts


Author: geoffthemedio <geoffthemedio@gmail.com>


    add a social policy slot to the cultural archives


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak Centralization policy:
    -reduce research bonus
    -always-active penalties (not capital stability dependent)
    -higher distance or disconnected stability penalities
    -comments in script


Author: geoffthemedio <geoffthemedio@gmail.com>


    use named references in Continuous Scanning script and pedia description


Author: geoffthemedio <geoffthemedio@gmail.com>


    add stealth boost to No Supply policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove Reserve Tanks policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix indent


Author: geoffthemedio <geoffthemedio@gmail.com>


    merge exploration research effects into exploration


Author: geoffthemedio <geoffthemedio@gmail.com>


    -expose server API function to set starting resource stockpiles
    -start with 20 IP


Author: MichaelCourtney <wobbly@fredvisions.com>


    Make stability penalties for shipyard dislikes work


Author: geoffthemedio <geoffthemedio@gmail.com>


    moving instead of copying pointers between containers


Author: geoffthemedio <geoffthemedio@gmail.com>


    use GG::Pt::operator std::string() instead of lexical_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    add GG::Pt::operator std::string()


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant / null-op lexical_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make TextControl::GetValue safer with try-catch
    -use to_string in TextControl::operator<<


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplmement TagParamsToColor using std::from_chars


Author: geoffthemedio <geoffthemedio@gmail.com>


    factor out and simplify tag text to color conversion


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove getting and passing of original colour info that was never used in Font::HandleTag


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplement CustomRowCmp using std::from_chars


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Improve Bureacracy SiteRep


Author: geoffthemedio <geoffthemedio@gmail.com>


    exclude stale objects from within MapWnd determination of detector ranges


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make GetEmpiresPositionDetectionRanges exclude destroyed objects
    -add GetEmpiresPositionDetectionRanges overload that excludes destroyed objects and objects in a separate set of ids


Author: geoffthemedio <geoffthemedio@gmail.com>


    add NotInSetsVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    move some getting and calculations out of the loop over rows


Author: geoffthemedio <geoffthemedio@gmail.com>


    -de-pointerize RenderCache
    -don't redundantly create RenderState objects when one was passed into Font::PreRenderText


Author: geoffthemedio <geoffthemedio@gmail.com>


    reserve slightly more space in vertex buffer, which was often one smaller than required


Author: geoffthemedio <geoffthemedio@gmail.com>


    get Universe from global getter at top of function


Author: geoffthemedio <geoffthemedio@gmail.com>


    make another Condition::Eval overload virtual and specialize for Type to avoid re-checking all the objects of a particular type right after collecting them with GetDefaultInitialCandidateObjects


Author: geoffthemedio <geoffthemedio@gmail.com>


    make UniverseObject::Owner non-virtual. this means systems are always considered unowned by this getter.


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass EmpireManager into HostileVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    move FLEET_MOVEMENT_EPSILON into header


Author: geoffthemedio <geoffthemedio@gmail.com>


    add UnownedVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    only apply target happiness penalty to planets, not ships


Author: geoffthemedio <geoffthemedio@gmail.com>


    move UniverseObjectVisitor trivial constructors into header and remove unnecessarily declared destructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    -structured binding



Author: geoffthemedio <geoffthemedio@gmail.com>


    remove extra space


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix planet_id safety check


Author: Axel Groß <axel.gross@iaeste.at>


    PLC_LIBERTY -2 stability; for stability >= 6 +2 research


Author: geoffthemedio <geoffthemedio@gmail.com>


    tpyo


Author: geoffthemedio <geoffthemedio@gmail.com>


    make explicit some lambda return types. the PropagatedSystemSupplyRange and PropagatedSystemSupplyDistance cases fix an objects list column issue where the lambda was returning a reference to a temporary when the return type was auto-deduced.


Author: oleg <o01eg@yandex.ru>


    Convert techs/construction/CONTROL_GRAV_ARCH.focs


Author: oleg <o01eg@yandex.ru>


    Automatically flattens And and Or conditions


Author: oleg <o01eg@yandex.ru>


    Fix format


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Dec 23, 2021 - 1ff9ff5)


Author: Axel Groß <axel.gross@iaeste.at>


    Make unused EmpireObjectVisibility complex ValueRef consistent with VisibleToEmpire Condition (partly consistent with Universe::EmpireObjectVisibility


Author: Axel Groß <axel.gross@iaeste.at>


    Treat neutral (==ALL_EMPIRES) forces like an empire for visibility ONLY in combat [docs]
    
    * the underlying model is: neutral forces per default can see everything
    * this gets modified/interpreted differently in many places;
      usually: local monster detection has to be higher than the object's stealth
    ** initiating combat (ServerApp::GetFleetsVisibleToEmpireAtSystem)
    ** targeting during combat via FOCS; ship weapons use VisibleToEmpire condition in default/scripting/ship_parts/targeting.macros.
    ** Bombard parts use Stealth high = Source.Detection


Author: Axel Groß <axel.gross@iaeste.at>


    Treat neutral (==ALL_EMPIRES) forces like an empire for visibility


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unnecessarily explicitly defaulted SupplyManager constructor
    -remove incomplete assignment operators for SupplyManager that were leading to some info being lost client-side


Author: geoffthemedio <geoffthemedio@gmail.com>


    add else to mutually exclusive ifs


Author: geoffthemedio <geoffthemedio@gmail.com>


    -get IDs once rather than each time used
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't dereference moved-from pointer


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove separate isProducibleShip from PythonAPI, which duplicated the results of isEnqueuableShip
    -add API documentation text


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add isProducibleBuilding, isEnqueuableBuilding, isProducibleShip, and isEnqueuableShip to Python API
    -check before attempting to enqueue Scanning Facility and Orbital Drydocks


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    add (optional) rendering of future turn's predicted detection range circles for the selected fleet


Author: geoffthemedio <geoffthemedio@gmail.com>


    add initial implementation of Universe::GetEmpiresPositionNextTurnFleetDetectionRanges that assumes ship detection ranges will be the same after they move


Author: geoffthemedio <geoffthemedio@gmail.com>


    Use GetEmpiresPositionDetectionRanges rather than MapWnd internal equivalent calculations. This removes some checks for stale or destroyed objects, so might lead to weirdness in some cases, which will need to be fixed if they are actually issues.


Author: geoffthemedio <geoffthemedio@gmail.com>


    expose Universe::GetEmpiresPositionDetectionRanges


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    early exit if ship to be duplicated has an invalid design ID


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't prohibit creating ships with invalid design IDs, as there are use cases


Author: agrrr3 <axel.gross@iaeste.at>


    Make Trith have average environments (RADIATED_STANDARD) (#3623)
    
    having some options for adequate environments is a preparation path for terraforming.
    before restricting self-sustained to good planets this was basically a no-go, now its possible


Author: geoffthemedio <geoffthemedio@gmail.com>


    added game rule for extrasolar ship detection, defaulting to off


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix ships not in systems (unintentionally) giving visibility


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass by value and move resource and population centers









    pass string_view to AddWindowOptions, AddWindowOptions, and InvalidateWindowOptions


Author: geoffthemedio <geoffthemedio@gmail.com>


    add overloads to Wnd::SetDragDropDataType taking string by value, char*, or string_view-


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store intermediate bits of text as string_view instead of newly allocated string
    -check if stringtable has an entry before looking it up
    -use preset text and pass in result of lookup rather than redoing lookup when generating link-tagged text
    -concatenate with .append


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    string append instead of operator+ for concatenation


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix compile error with MSVC2022


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Nov 19, 2021 - ca58556)


Merge: 3bb1884e8 47633648e
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3605 from agrrr3/20211118_AI_for_spatial_fluxies
    
    AI entries for FLUX techs, hulls, and lance


Author: geoffthemedio <geoffthemedio@gmail.com>


    add overloads of UserStringExists taking a string_view or const char*


Author: geoffthemedio <geoffthemedio@gmail.com>


    string copy to string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    limit StringTable lookup stack traces to 10 to avoid log spam if there are many


Author: geoffthemedio <geoffthemedio@gmail.com>


    log stack trace when first lookup up a missing string


Author: geoffthemedio <geoffthemedio@gmail.com>


    index source object containers with string_view instead of new string copies


Author: geoffthemedio <geoffthemedio@gmail.com>


    make CategoriesSlotsPoliciesAdopted return string_views


Author: Axel Groß <axel.gross@iaeste.at>


    Format with black


Author: Axel Groß <axel.gross@iaeste.at>


    Make flake happy


Author: Axel Groß <axel.gross@iaeste.at>


    Handle SR_FLUX_LANCE non-stacking in ShipDesignAI


Author: Axel Groß <axel.gross@iaeste.at>


    Consider researching space flux hulls if you dont research organics


Author: Axel Groß <axel.gross@iaeste.at>


    AI entries for FLUX techs, hulls, and lance; not really used by AI though


Author: geoffthemedio <geoffthemedio@gmail.com>


    add "browsepath" to stringtable linter optional ref types


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add some missing options DB description strings for colours
    -add note of the influence cost of Indoctrination to its description


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary setting of title that also used a non-existent string


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix reference to non-existent string


Author: geoffthemedio <geoffthemedio@gmail.com>


    -adjust Empire policy-related interface to take and return string_view where possible. this should fix a potential issue where views of temporary strings were being created and passed into DispatchEffectsGroupScopeEvaluations.
    -store some of the Empire policy-related info in maps with std::less<> comparator to allow heterogeneous lookups


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix GetPolicy overload not actually returning anything


Author: geoffthemedio <geoffthemedio@gmail.com>


    make ViewMapToStringMap work for maps with non-standard comparators


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    simplify copy into an iterator-pair initialization


Author: geoffthemedio <geoffthemedio@gmail.com>


    string_view instead of string&


Author: geoffthemedio <geoffthemedio@gmail.com>


    add GetPolicy overloads that take a string_view. should later be reimplemented without temporary string construction.


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    add link to configuration file directory in the Configuration pedia article


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move checks for Linux when handling PathType enums to the macro definition of the enum class
    -return array<string_view> instead of vector<string> from PathTypeStrings (which gives a list of PathType strings used for LinkText replacement)
    -add a getter that returns an array of the valid PathType enum values
    -removed unused GetPath overload taking a string (instead of a PathType enum)
    -remove const string pathtype constants and moved into a function that returns string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    return vector<string_view> from SpeciesThatLike and SpeciesThatDislike


Author: geoffthemedio <geoffthemedio@gmail.com>


    -return string_view instead of string
    -reserve space when building string
    -append rather than + to concatenate


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix dummy parser build


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store specials in map with std::less<> comparator, to allow heterogeneous comparisons between string and string_view
    -add GetSpecial overload taking string_view
    -make SpecialNames() return a vector<string_view>
    -pass in container that sorts using std::less to GetSortedPediaDirEntires
    -pass specific_cause_name to StoreTargetsAndCausesOfEffectsGroup as string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string by value with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    return vector of string_view from PolicyManager::PolicyNames


Author: geoffthemedio <geoffthemedio@gmail.com>


    -return maps containing string_view from Empire::TotalPolicySlots, Empire::EmptyPolicySlots, and PolicyManager::PolicyCategories
    -move string in Empire::Init
    -remove redundant namespace qualification in WrapEmpire()


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    default value for Fleet::m_last_turn_move_ordered


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[fallthrough]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string by value with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    make loop variable auto


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string by value with move


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Nov 14, 2021 - ed79c4c)


Merge: 716f96fa5 63f1d9b62
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3600 from agrrr3/20211101_SpatialFluxRework
    
    spatial flux rework


Author: oleg <o01eg@yandex.ru>


    Fix format


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/CONC_CAMP.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ASYMP_MATS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ART_PLANET.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ART_HEAVEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ARCH_PSYCH.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ARCH_MONOFIL.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    add % or remainder (aka modulo) operator to FOCS for int and double


Author: agrrr3 <axel.gross@iaeste.at>


    Stringtable update flux lance
    
    Co-authored-by: Geoff <geoffthemedio@users.noreply.github.com>


Author: agrrr3 <axel.gross@iaeste.at>


    Stringtable update flux composition hull
    
    Co-authored-by: Geoff <geoffthemedio@users.noreply.github.com>


Author: agrrr3 <axel.gross@iaeste.at>


    Update default/stringtables/en.txt
    
    Co-authored-by: Geoff <geoffthemedio@users.noreply.github.com>


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Some improvements to BUREAUCRACY (#3602)
    
    Also do not penalise focus change right after conquering
    Avoid duplicate value definition
    Fixed numbers in message


Author: oleg <o01eg@yandex.ru>


    Use runtime meter type instead of compile-time


Author: O01eg <o01eg@yandex.ru>


    Fix review


Author: O01eg <o01eg@yandex.ru>


    Use emplace_back


Author: O01eg <o01eg@yandex.ru>


    Simplify boost::python::dict forwarding.


Author: O01eg <o01eg@yandex.ru>


    Fix MSVC projects


Author: O01eg <o01eg@yandex.ru>


    Use boost::python::dict forwarded


Author: O01eg <o01eg@yandex.ru>


    Includes cleanup


Author: O01eg <o01eg@yandex.ru>


    Move remaining value refs


Author: O01eg <o01eg@yandex.ru>


    Remove unneded fields from techs grammar


Author: O01eg <o01eg@yandex.ru>


    Move sources/targets/candidates and enums to separate files


Author: O01eg <o01eg@yandex.ru>


    Move value refs to separate file


Author: O01eg <o01eg@yandex.ru>


    Move conditions to separate file


Author: O01eg <o01eg@yandex.ru>


    Move some effects parser stuff to separate common file


Author: geoffthemedio <geoffthemedio@gmail.com>


    add effect to Outposts tech so outpost influence moves towards target influence. outposts otherwise won't get this effect due to lack of a species to get it from.


Author: geoffthemedio <geoffthemedio@gmail.com>


    add restrictions to Bureaucracy focus change effect, so that it only affects planets of the same empire that have populations. this should hopefully fix an issue where other empires' outposts were getting influence penalties each turn when another empire adopted Bureaucracy.





    Add SR_FLUX_LANCE weapon part
    Add hull SH_SPACE_FLUX_COMPOSITE
    Make SPACE_FLUX_BUBBLE cheaper and more fragile; Refactor SPATIAL_FLUX_STEALTH_TECH_BONUS
    Split spatial flux hulls into own hull line (was in robotic)













Author: Grummel7 <muzz@albatross.pond.sub.org>


    Balance policy Metropoles
    Halfed production and research bonus.
    Require stability of 12.
    No more than 1 in 4 of an empires populated planets can become a metropole.


Merge: 87a9817f1 6f5bdf9dc
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3556 from Grummel7/colonizeAfterConquer
    
    Colonize after conquer


Author: geoffthemedio <geoffthemedio@gmail.com>


    -default destructor in header
    -move default constructor to protected section


Author: geoffthemedio <geoffthemedio@gmail.com>


    reorder members


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove empty and seemingly unnecessary to define destructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    add planet baseline stability rule


Author: geoffthemedio <geoffthemedio@gmail.com>


    store and use ScriptingContext rather than visibility maps in VisibleToEmpireSimpleMatch


Author: geoffthemedio <geoffthemedio@gmail.com>


    add Visibility getter helper to ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add current_turn parameters to some sitrep generators
    -add current_turn and Universe parameters to some Empire unlock / add / apply functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding and emplace


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe to PredefinedShipDesignManager::AddShipDesignsToUniverse


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap to SpeciesManager::UpdatePopulationCounter


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe to Empire::UpdateOwnedObjectCounters


Author: geoffthemedio <geoffthemedio@gmail.com>


    -do prefix lookups by function call rather than call-site operator[]
    -direct initialize prefix maps
    -store and pass prefixes as std::string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    just get building type name once before looping


Author: geoffthemedio <geoffthemedio@gmail.com>


    make static const


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variable


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use context diplo status
    -fix unused variable warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    use a static const MovingFleetVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    make move constructors noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    reorder members


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    use AppEmpireID() to decide what ObjectMap to use


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add EmpireID getter to AppInterface and derived classes
    -add AppEmpireID global getter


Author: geoffthemedio <geoffthemedio@gmail.com>





    Add support for Python's asyncio
    Embedded Python need to manually calls event loop so coroutines and
    callbacks could be executed.
    It uses approach described in https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.loop.run_forever
    to call olny ready callbacks and then return back to application.




    Return false from auth.py result to mark unallowed player names





    Improve AI systems_connected performance (#3559)
    * Optimize AI systems_connected performance
    Instead of running a BFS for each pair of system ids, cache the set of systems connected to the capital in a single depth-first-search and check if queried system_ids are within that set. Since most of the visible systems will be connected to the capital, this will cover most cases. Only if both systems are not connected to the capital, we will have to run another BFS. However, the search space will be significantly smaller since -again- most systems will be connected to the capital and thus won't be part of the search.



    Fix star based colonization value calculation
    The larger boni should apply if the AI does not yet have a star of that type. The defect was introduced in #3484



Author: Andrey <Cjkjvfnby@gmail.com>
    Cache shortest distance and get neighboars (#3553)

Author: Andrey <Cjkjvfnby@gmail.com>
    Round values to avoid saving too many digist after point to savestring (JSON) (#3551)

Author: Andrey <Cjkjvfnby@gmail.com>
    [AI] Use caches to speedup invasion calculations (#3548)









Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed more policy-check Statistic If FOCS expressions


Author: geoffthemedio <geoffthemedio@gmail.com>


    tpyo


Author: geoffthemedio <geoffthemedio@gmail.com>


    handle case when stringtable is missing with a hard-coded simpler message


Author: geoffthemedio <geoffthemedio@gmail.com>


    Add some hopefully-helpful explanation text to the output of freeorion -h


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract public module variables from ColonizationAI (#3538)


Author: Andrey <Cjkjvfnby@gmail.com>


    Add black formatter (#3531)
    
    Reformat support files with black
    
    * Add black uncompromised formatter
    * Make flake8 compatible with black
    * Update configs
    * Update CI checks
    * Improve isort messaging


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed some cost adjustment macros that were checking if any object was owned by an empire that had adopted a policy, rather than if an object owned by the empire doing the production is owned by an empire that has adopted a policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't evaluate ValueRef if not necessary


Author: geoffthemedio <geoffthemedio@gmail.com>


    location condition tweaks


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweaked some location condition:
    -add or move earlier OwnedBy empire = Source.Owner
    -add explicit Planet conditions


Author: geoffthemedio <geoffthemedio@gmail.com>


    only consider ships and planets when searching for any object owned by an empire, so that systems don't get returned


Author: geoffthemedio <geoffthemedio@gmail.com>


    store a reference to CurrentValueVariant rather than a separate value in ScriptingContext and default initialize with a reference to a const static empty CurrentValueVariant when none is passed in


Author: geoffthemedio <geoffthemedio@gmail.com>


    only get supply range from planets, not all objects. this avoids seemingly costly calls to System::Owner


Author: geoffthemedio <geoffthemedio@gmail.com>


    move pointers


Author: geoffthemedio <geoffthemedio@gmail.com>


    only evaluate empire_id if needed for applicable test


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't need to evaluate the high constraint if the low constraint fails


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove empty MSVC project file filter


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove as-yet-unused InfluenceQueue from Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Black Market policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made Trith species on the capital unlock Racial Purity policy
    -made Racial Purity policy not require adoption of Checkpoints


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added increased rate of growth or decay of influence to Capital Markets
    -increased influence boost from Capital Markets exported luxuries to 2


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Charge policy


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix calculation for conquered planets (#3543)
    
    Of course I forgot to handle planets that were conquered
    before indoctrination was adopted.


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Aug 8, 2021 - f2ebb02)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Defined build and enqueue location for translator (#3542)


Merge: 2fbb8f017 f2ebb0254
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3541 from Grummel7/TurnsSinceLastConquered
    
    Added TurnsSinceLastConquered, used in for Indoctrination


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Some minor documentation improvements


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Added TurnsSinceLastConquered, used in for Indoctrination


Author: geoffthemedio <geoffthemedio@gmail.com>


    -clarify Metropoles description re: minimum population
    -fix copy-paste error in Metropoles description, to clarify that stockpile receives a penalty


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Trans-Organic Sentience boost the growth/decay rate of influence meters


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove meaningless but potentially misleading building description text


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Necessity policy that boosts research at low stability planets


Author: geoffthemedio <geoffthemedio@gmail.com>


    rewrote Martial Law description


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made Conformance research penalty not depend on stability
    -added flat stability boost to Conformance
    -rewrote stringtable description of Conformance


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Border Checkpoint unlock, rather than be a prerequisite for, Martial Law


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove happiness limit from Martial Law


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove Confederation prerequisite from Feudalism


Author: geoffthemedio <geoffthemedio@gmail.com>


    add ObjectMap parameter to SupplyManager::Dump


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -Marine Recruitment increases troop growth rates on planets
    -unlock Marine Recruitment by adopting Propaganda


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store EmpireManager reference rather than EmpireManager::const_container_type reference in CombatInfo
    -thereby reduce use of global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    removing global getter calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    -removed unused Empire::SourceID()
    -pass ObjectMap to AddExploredSystem


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added more ScriptingContext parameters to various functions to avoid calling global getters
    -removed some default values for ObjectMap parameter to various functions
    -prep for further passing of ScriptingContext by explicitly calling the global getters
    -added some checks when passing a ScriptingContext to a Universe member function that the passed-in ScriptingContext contains the same ObjectMap and Universe as the called-upon Universe



Merge: 4dca2ec76 0e7b9eb04
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3505 from o01eg/fix-drop-empire-link
    
    Didn't kick out current player connection


Author: Oberlus <sicofonte@gmail.com>


    Fix sign switch on xenophobic self malus (#3537)


Author: geoffthemedio <geoffthemedio@gmail.com>


    relax requirements for artistic species same-system bonus


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove industry effect from Nanite Swarm
    -divide Nanite Swarm repair effect over affected ships
    -make Nanite Swarm and Meteor Blizzard size shrink when ships are in them


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add Liberty and Conformance scaling to species like/dislike effects for policies
    -clarify stringtable descriptions


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduce Translator influence bonus


Author: geoffthemedio <geoffthemedio@gmail.com>


    make Indoctrination influence bonus flat and restrict to the capital and regional admin planets with influence focus


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing or preparation for passing gamestate into functions rather than using global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    -moved translator influence effect to [[TARGET_AFTER_2ND_SCALING_PRIORITY]] priority, similar to Automated History Analyzer
    -reduced size of effect to depend on the square root of the number of species


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unnecessary And and []


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Metropoles policy that boosts a small number of high-population planets, while penalizing others' stability


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Add turn type (#3535)


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe reference into Clone and Copy functions of UniverseObject


Author: geoffthemedio <geoffthemedio@gmail.com>



    -nodiscard


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass in ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass in ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: Oberlus <sicofonte@gmail.com>


    - Add macros for #ships, #planets and #population (#3529)
    
    - Make policy adoption costs based on #planets or #population use square root
    - Change base costs in a few policies


Merge: 6f2b5649b 176f4b56c
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3530 from agrrr3/20210722_use_unexpanded_snapcraft_yaml
    
    Use unexpanded snapcraft.yaml


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 21, 2021 - 94e5dee)


Author: Andrey <Cjkjvfnby@gmail.com>


    Update code owners (#3518)


Author: Axel Groß <axel.gross@iaeste.at>


    Remove unexpanded snapcraft.yaml from local dir (not needed anymore)


Author: Axel Gross <axel.gross@iaeste.at>


    Use unexpanded snapcraft.yaml


Author: agrrr3 <axel.gross@iaeste.at>


    Flanking multi starlane attack bonus (aka pincer attack)  (#3525)
    
    * FLANKING multi starlane attack bonus (aka pincer attack) via CountUnique PreviousToFinalDestinationID
    
    Give flanking damage bonus to ships which were coming in from different starlanes on the previous turn
    * effect is not given on direct jump
    * Only works for end destinations (which is fine fluffwise, military needs to carefully plan the pincer attack)
    
    === Add PreviousToFinalDestinationID fleet property (also as valueref) ===
    
    This returns the starlane/system a ship will arrive from when it reaches its destination.
    
    Returns the second last system in the flight plan.
    On the last jump it returns the previous system.
    Returns invalid object if fleet is stationary.


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 12, 2021 - 64ea315)


Author: geoffthemedio <geoffthemedio@gmail.com>


, destructor defaulting


Author: geoffthemedio <geoffthemedio@gmail.com>


    unlock Divine Authority (also) at Xenoarchaeology


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweaked Divine Authority prereqs and exclusions
    -indentation


Author: geoffthemedio <geoffthemedio@gmail.com>


, destructor defaulting


Author: geoffthemedio <geoffthemedio@gmail.com>


, destructor defaulting


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Feudalism policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed missing scale factor


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Colonialism policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Vassalization policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix neutral / unowned forces being labelled "Unknown" in combat initial stealth event descriptions


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ScriptingContext rather than ObjectMao and Empire<anager separately



Author: geoffthemedio <geoffthemedio@gmail.com>


    pass EmpireManager into CombatEvent log and description functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    implemented ClientUI::ZoomToField


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 6, 2021 - 82b2143)


Author: Andrey <Cjkjvfnby@gmail.com>


    Add st-tool linting to CI (#3521)


Author: Andrey <Cjkjvfnby@gmail.com>


    Use f string instead of format (#3522)


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract claimed stars operations to a separate file


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove unused variables


Author: Andrey <Cjkjvfnby@gmail.com>


    Add stringtables check to pre-commit (#3519)


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix broken references in ru stringtables


Author: Andrey <Cjkjvfnby@gmail.com>


    Add st tool reference check


Author: Andrey <Cjkjvfnby@gmail.com>


    Cleanup 2 (#3515)
    
    * Update annotation usage
    * Remove reference to statprof


Author: Andrey <Cjkjvfnby@gmail.com>


    Cleanup (#3485)
    
    * Remove unused variable
    * Cleanup table printing a bit


Author: agrrr3 <axel.gross@iaeste.at>


    Ignore freshly established colonies for evacuation building effects (#3514)
    
    Ignore freshly established colonies for evacuation building effects


Author: oleg <o01eg@yandex.ru>


    is_connected already used by Godot


Author: oleg <o01eg@yandex.ru>


    Add universe fleet and system access


Author: oleg <o01eg@yandex.ru>


    Add methods to connect to remote server


Merge: 2ab39e4fd 355adc95a
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3508 from o01eg/godot-auth
    
    Add auth password window and galaxy map scene


Author: geoffthemedio <geoffthemedio@gmail.com>


    made a few operators and a function constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


 / tweak


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Flanking policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed effects acting on non-existing-weapon meters


Author: geoffthemedio <geoffthemedio@gmail.com>


    missed file adds from recent commits


Merge: c7298ee18 18deaafc9
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3356 from agrrr3/20210311_combatDamageEstimation
    
    Add totalFighterDamage and totalShipDamage calculations


Merge: c9575c6b8 5ad3e70a4
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3511 from Grummel7/minStabilityFinal
    
    Two more min stability case and a fix


Author: Axel Groß <axel.gross@iaeste.at>


    DAMAGE_STRUCTURE_PER_BATTLE and DESTROY_FIGHTERS_PER_BATTLE values for ObjectListWindow


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Another error in en.txt


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Two more min stability case and a fix
    
    I've changed divine authotity as discussed.
    Ancient ruins now use 12 as a minimum instead of 10 or 15.
    Depleted is the natural state of ancient ruins, they get depleted
    as soon as an owner has Xenoarchaeology. Of course with the common
    definitions its now easier to change, too.
    One more missing brace in en.txt, argh :-(


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    Added The Hunt policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    redundant comment


    fix Technocracy copy-paste error

    Add auth password window and galaxy map scene

    Didn't kick out current player connection


    reduced Meteor Blizzard total research generation to depend on sqrt(#ships) within it

    Nymnmn attract some fields

    added Field Repellor building

    (temporarily) track ships that an empire has destroyed, so that they can't be double-counted if multiple ships attack it the same combat round

    Military Command provides a 2nd slot after killing 5 ships



    -fixed probably long-standing (8 years?) bug with ContainedBy::Match that returned the opposite of what it should have. This probably didn't affect gameplay much, since most or all uses of ContainedBy have subconditions that are OK to evaluate once for checking all candidates, rather than the per-candidate evaluation case that actually calls Match

    lowered stability requirements of solar orbital generation effects

    disallow newlines in pedia search edit, which prevents weirdness when pasting in multi-line text


    -Fix issues with calculation of research bonus in Distributed Thought Computing
    -Replaced some * with • in various strings



    Base MILITARY_STRENGTH statistic on putting all ships in a single fleet
    This estimates the power of all your ships now put in a single fleet
    instead of estimating the power of each ship flying solo and adding that up.


    Elaborate labels for damage/destruction by fleet (review-01)

    Include fighters in fleet damage/destruction totals (UI)

    Calculate combat total structural damage/destroyed fighters for carriers



    TotalFighterShots ValueRef - Calculates the maximum number of shots the fighters of a single carrier shoot in a combat. For use in hangar part damage estimation.
    * So a striker with a launch bay has 3 fighters and 2 launch capacity so for four combat bouts - TotalFighterShots is 8 (0+2+3+3)
    ** for that structural damage estimation would be TotalFighterShots*HangarDamage and destroyed fighter estimation would be TotalFighterShots
    * not sure how to parse it. how to pass the ship id. if the the result should really be int. what the name for the condition should be
      Source.TotalFighterShots countIf = (CombatBout == 2)
             TotalFighterShots shootIf =                   id = Source.ID
             TotalFighterShots condition =
    * not sure we really want this
    * in principle targeting could support the time a fighter is already flying/the bout it was launched
    ** but in the damage estimation one would really have to instantiate/check fighter objects per bout
    *** so that would mean more calculations, which scales quadratic with the number of combat bouts (OTOH combat is way more expensive)
        number of tests for 10 bouts w/o  launchBout: 10 (0+1+1+1+1+1+1+1+1+1+1)  n
        number of tests for 10 bouts with launchBout: 55 (0+1+2+3+4+5+6+7+8+9+10) n/2*(n+1)
    ** if we had a maximum flight time (e.g. missiles fly a bout without doing damage) we would need some something like that anyway
    *** not sure how that interacts with stealth though
    ***** if missiles should always be launched or only if there is a visible target - I prefer this, but needs to use combatTargets on launch time
    ***** and if the missile should keep on flying if there is no visible target - if no: could reduce real damage (wont matter for estimation though)
    * one could also model in max/min amount of damage (min amount: fighters get shot down immediatly, max amount: fighters do not get shot down)
    
    TotalFighterShots valueref should use the context with bout info and decrease fighters in hangars for each launch
    
    * was using the original context instead of the mutable one
    * did not decrease the number of fighters available


Author: Axel Groß <axel.gross@iaeste.at>


    Damage estimation: Use Shield from ship in context, check fighter in context vs combatTargets
    
    * uses shield meter from target in default estimation of structural damage
    * can use Value(Target.Shield) in FOCS
    
    * use combatTargets condition of fighters for default estimation of structural damage or fighter destruction


Author: Axel Groß <axel.gross@iaeste.at>


    fixup - string lint


Author: Axel Groß <axel.gross@iaeste.at>


    Show number of fighters shot instead of number direct weapon hits in pedia


Author: Axel Groß <axel.gross@iaeste.at>


    Use combatTargets condition in fighter details popup in ship view


Author: Axel Groß <axel.gross@iaeste.at>


    GUI shows split damage/destroy estimation
    
    damage - refers to the amount of damage against ships
    destroy - refers to the number of shots against fighters
    
    Unified view in ShipDamageMeterWnd
    Split icons in FleetWnd
    
    TODO
    * add a target to context for shield evaluation
    * cleanup
    * decide when to include fighters in destroy tally


Author: Axel Groß <axel.gross@iaeste.at>


    A part has to inflict more than 0 damage to destroy a fighter


Author: Axel Groß <axel.gross@iaeste.at>


    Change damage estimation, split Ships/Fighters, full combat damage
    
    In the UI, only ShipDamage is shown
    
    Example content
    * SR_WEAPON_0_1 - no damage against ships
    * SR_WEAPON_1_1 - no damage against fighters
    * SR_JAWS       - Only half the damage against ships (shoots only 2 out of 4 bouts)
    
    * combat damage gets calculated per combat not per bout
    * also checks for shields (target-dependent ShipDamage)
    
    TODO
    * some valuerefs (attack) can trigger a endless recursion







    Use secondary stat to display hangar part damage (bugfix)


    Add happines species trait plus some rebalance (#3493)

    cast to int to avoid sign/unsigned comparison warning

    don't treat a visibility entry of VIS_NO_VISIBILITY as having visibility of an object when creating combat object damaged sitreps

    -renamed GiveEmpireTech to GiveEmpireContent and added an UnlockableItemType parameter


    Refactored Fleet Aggression Handling (#3447)
    Default aggression was used inconsistantly. When a fleet was
    split, depending on the splitting method split-off battle ships
    became aggressive or just obstrusive.
    I defined alias values for default aggression of armed
    and unarmed ships and used the new values where appropriate.
    Also did some further cleanup in those methods.





    Improve table printer (#3471)
    * add placeholder
    * remove Python 2 artifacts
    * split code into separate files
    * add type annotation
    * add placeholder field
    * rename Float to Number
    * add support for long prints



    hopefully fixed issue with gifting where it was order-dependent for swapping all objects between two empires at a location




    use ValidExecutableBinary test when setting server binary executable file on Windows



    added Nearly-Universal Translator building




    

    -moved Cyborgs tech effects into a policy unlocked by Nanotech Cybernetics
    -added a population growth modifier, dependent on planet infrastructure as well




Author: geoffthemedio <geoffthemedio@gmail.com>


    made Propaganda Broadcasts have a small negative effect on enemy capitals and a small positive effect on allied capitals, rather than a full strength effect on all capitals


Merge: 532b5b1b2 150efea57
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3445 from o01eg/test-checksum
    
    Test and log warning if checksum mismatched


Merge: 6575f2635 f0b9ad279
Author: Andrey <Cjkjvfnby@gmail.com>


    Merge pull request #3451 from Cjkjvfnby/add-unused-references-check
    
    Add unused references check


Author: Axel Groß <axel.gross@iaeste.at>





    Adjust damage output on maintenance ship (nerf)


    Weaken arc disruptor on maintenance ship (5x1 damage instead of 3x2)
    mass driver damage                       72 == 1x3x4 x6
                                            120 == 5x1x4 x 6
    arc disruptor damage                    144 == 3x2x4 x 6
    medium hull ship with  no basic armour:  80 == 10    x 8
    medium hull ship with one basic armour: 128 == 16    x 8
    medium hull ship with two basic armour: 176 == 22    x 8


    Remove one arc disruptor from maintenance ship





    render fleets that are (somehow?) not in systems and not moving



    update all object meters when showing system, not just system contents, since there is apparently a difference in the results, with some effects not applying when updating only some object IDs




    Remove transitive dependency in Techs (#3439)
    We have two tech paths to LRN_GATEWAY_VOID from LRN_NDIM_SUBSPACE
    1) LRN_NDIM_SUBSPACE opens LRN_GATEWAY_VOID
    2) LRN_NDIM_SUBSPACE opens LRN_SPATIAL_DISTORT_GEN opens CON_STARGATE opens LRN_GATEWAY_VOID
    





    fixed some DEF_GARRISON tech effect value references


    Make AI aware of self-sustaining restrictions
    Make AI aware of some restrictions for guards

    Let AI not colonize in unexplored systems
    Unexplored systems may often contain space monsters. Note that it is possible to detect planets in unexplored systems due to e.g. some species effects in current content.

    Add function to request emergency exploration
    An emergency exploration may be requested by another part of the AI to prioritize the scouting of a particular system.




    Print internal enums as names (#3393)
    Python 3.9 and Python 3.6 have different implementations of the __str__.
    - 3.9 __str__ calls __repr__
    - 3.6 __str__ does not call __repr__
    So we need to implement both of them.



    Fix multiplayer issues
    Correctly get revious player id. Before could get same player just
    connected.
    Fix crash if connection to the game could cause switch to lobby.


    Add option to allow human player to take over any AI (#3357)
    * Add option to allow human player to take over any AI
    * Assign empire to new human player


    Kick out other players controls same empire (#3353)
    Additionally kills AI process if other player was AI.


    Kill AI process of eliminated empire
    Stores AI process indexed by AI name.


    Allowed AI to delegate player
    Allows locally launched AI to skip authentication.
    Allows player or AI to delegate someone without lobby if they have single empire to play.
 

   








### Key Changes

- Added a government policies system
    - Policies have various positive or negative effects on an empire, some of which were moved from techs to policies
    - Policies represent various social, economic, and military ideas and ideals
    - Empires have limited slots in which policies can be adopted
    - Slots are unlocked by techs, buildings, other policies, ships, species or other content
- Gave species likes and dislikes
    - Buildings, policies, or specials nearby or in an empire affect their planet stability
- Made planet stability have more consequences
    - Various planet effects depend on stability levels, including resource output growth rates and stable values
    - Low planet stability causes rebel troops to appear
    - Rebel troops can cause a planet to leave an empire
- Added influence resource
    - Spent to adopt policies
    - Consumed by colonies and outposts and various content
    - Generated by various content and associated planet focus setting
    - Going into debt will reduce planet stability
- Extensive content reworking and balance adjustments for buildings, techs, policies, species, ship hulls and parts
- Combats default to 4 bouts, with ship structure and damage adjusted accordingly
- Added additional fleet aggression settings for finer control of blockading, hiding, and combat initiation


### Detailed Changelog


#### Graphics / Interface

- Fixed UI button mouse rollover sound not playing
- Added another star forming nebula appearance
- Set minimum window sizes on design screen
- Improved pedia search performance and noted time to search at end of results
- Show + or - instead of brackets around second number (change) in StatisticIcon
- Don't show planet type wheel for asteriods and gas giant pedia pages
- Fixed extraneous precision in graph axis labels
- Allow galaxy setup panel of multiplayer lobby to scale with window size
- Fixed message color in chat history
- Made tab bar button size flexible with font size
- Disabled queue popup commands while order issuing is disabled
- Fixed hang when the production list is refreshed while a popup menu is open
- Added display of config and log directory on options directories tab
- Added a list of issued orders on the player's empire's pedia page
- Don't hide meter icons when the output is negative
- Fixed issue with multiplayer empire lists with eliminated empires when loading games
- Fixed fleets window scroll resetting when changing fleet aggression
- Added Unicode glyph U+22C4 "Diamond Operator" to Roboto regular font to use as a neutral bullet point marker
- Added options to control for tooltip colours
- Made big fleet icons bigger
- Added an option to lock map zoom and panning
- Show script-derived floating point numbers in UI with only 3 digits


#### Content and Balance

- Government
    - Added numerous policies that empires can unlock and adopt

- Ships
    - Ship structure and damage adjusted for 4 bout combats
    - Added the Flux Lance weapon that is "short range", attacking from bout 3 (or 2 if the Charge policy is adopted)
    - Added the Graviton Pulsar weapon that has 12 attacks that do 1 damage and targets anything, useful against fighters
    - Rebalanced fighter techs and pilot trait effects
    - Applied ship weapon damage rule scaling rule to species and monster weapon bonuses and 
    - Applied ship structure scaling to tree regeneration
    - Made blockade checks test that a fleet is set to Obstructive not Aggressive
    - Reworked Organic hull to be cheaper with more fuel and less slots
    - Added a stealth stealth penalty to ships with large numbers of ships in the same system owned by the same empire
    - Made Laenfa fuel regrow and white or blue stars
    - Made Sly refuel and repair at planets with own species, without a supply network
    - Reworked various monster ship designs
    - Added or reworked several monster weapons to do bout-dependent damage
    - Redesigned various monster ship designs and gave some extra shots or damage to monster hulls for some weapons the designs use
    - Various cost rebalancings
    - Removed prerequisite dependence between fighter and other weapon techs

- Planets
    - Added some luxury resource specials that some species like and thus get stabilitly boosts from
    - Reduced spawn rates of some specials
    - Many building, species, and tech balance adjustments along with new government systems
    - Made various research and industry bonuses depend on stability
    - Add precognitive detection to Fulver, giving basic visibility to starlane connected planets
    - Asteroid processor and Asteroid Reformation processor now remove themselves if their planet is not an asteroid
    - Made planet max shields not depend on recent combats in system
    - Adjusted troop levels after invasion 
    - Reworked Stellar Tomography to give bonuses based on the number of research-focused planets in a system
    - Reworked Distributed Thought Computing to give bonuses based on distance to the furthest owned ship    
    - Made just-colonized planets start with 6 troops
    - Disabled garrison tech troop regen on just-conquered planets
    - Rebalanced troop bonuses from garrison and cyborg techs
    - Set infrastructure to 1 on just-conquered planets
    - Made self-sustaining metabolism only give population boosts on good planets
    - Rebalanced Trith: medium starting planet, bad supply and industry
    - Gave player planets at least 6 troops in beginner mode
    - Gave Sly and Laenfa distinct non-distance dependent stability effects
    - Added the Imperial Regional Administration building that acts like a capital for colony supply distance cost calculations
    - Made distance and supply connection to the imperial capital or regional admin affect planet stability, dependent on adopted policies
    - Restricted the imperial palace stability effect to work only if the palace is on an imperial capital planet
    - Removed Galactic Infrastructure tech's supply-range boost effect
    - Made Gravitic Architecture only boost supply range of Logistics focused planets
    - Removed InterSpecies academy location requirement dependence on default focus
    - Made some species effects not fire if a planet is unowned
    - Reduced Concentration Camp industry boost
    - Added an Abandon Outpost building, which removes an empire's outpost from the planet
    - Added a Colony Independence Decree building, which removes an empire's ownership from the planet but leaves the population as an independent colony
    - Renamed Evacuation System building to Evacuation
    - Made the influence focus bonus population-dependent
    - Disabled generation of Head on a Spike from Cultural Archives
    - Added more penalties to resource meters when focus switching to mitigate focus-toggling strategies
    - Rebalanced Force Energy Structures to give fixed 3/turn faster growth or decay of meters
    - Made protection focus increase troop regeneration rate (if not attacked on previous turn)
    - Made species stability bonus for liking focus not require empire control of planet    

- Fields
    - Made made star forming nebulae smaller, reduced speed and detection, increased stealth, limited number generated
    - Added Void rift
    - Added Nanite Swarm
    - Added Meteor Blizzard
    - Adjusted Molecular Cloud speed and size
    - Adjusted Ion Storm speed
    - Adjusted field spawning to be closer to the galaxy centre during universe generation
    - Made Nebulae not reduce ship speed below 5, so they don't get stuck in place

- Pedia
    - Replaced various hard-coded numbers with content script-derived calculated values
    - Fixed placement limit documenation for InterSpecies academy
    - Documented Planetary Starlane Drive
    - Documented supply network propagation mechanics
    - Additional entries for planetary focus game concept
    - Additional text added for Spatial Distortion, Industry, Logistics, Planet Drive, and Psychic Domination
    - Added an "All Species" list in the species article
    - Improved imperial stockpile distribution documentation
    - Added lists of native, playable, and all species
    - Removed out-of-universe UI-related motivation for the planet drive beacon

- Stringtables
    - Updated translations: French
    - Cleaned up some unused strings
    - Avoid referring to the player in the second person ("you", "your")

- Other
    - Adjusted info shared between allied and non-allied empires
    - Nerfed Telepathy bonus to Psionics cost
    - Removed the Galactic Infrastructure tech
    - Added more and rebalanced universe creation frequency options 
    - Fixed issues with Starlane Bore and Starlane Nexus not correctly avoiding existing starlanes when generating new ones

#### AI

- AI manages influence and adopts policies
- Devalued Gaia special as Sly
- Corrected colony pod turns_to_build when Lifecycle Manipulation is available
- Fixed issue with weapons that have 0 shots
- Made AI tech enqueue order more consistent between different machines



#### Other Features

- Added an option to save game after player issued orders
- Renamed Trade resource to Influence
- Treat empires without population and ships as eliminated
- Expanded fleet aggression settings to: initiate combat, obstruct passage (but don't initiate combat), defensive hide, and passive hide (don't fire even if attacked in combat)
- Introduced server-side auto turn advance option
- Added a game rule to make all objects visible
- Added a game rule that makes never-detected planets not (detectable regardless of stealth and detection strength) just by having an object in system
- Added a game rule that makes all systems at least basically visible to all empires
- Added a game rule that makes basic visibility systems reveal their name and star type
- Added a game rule that adjusts the tech victory difficulty
- Made ground combat allow allies to share forces
- Made planet focus reset when conquered by neutrals or rebels
- Made meter estimates count ground combat



#### Other Bug Fixes

- Crashes or Disconnects
    - Fixed server freeze when disconnecting a player
    - Fixed potential denial of service issue on server
    - Fixed crash when sorting UI lists
    - Fixed a crash if a fleet ended up with no previous or next system
    - Fixed crash during turn processing due to a failed check for whether a player connection is local

- Gameplay
    - Fixed bombardment not working if ships only have bombardment weapons
    - Fixed various issues with automatic turn advancing
    - Made simultaneous colonization fail instead of picking one empire based on ID

- Content
    - Fixed Gaia special planet type selection
    - Fixed Artificial Black Hole generating multiple sitreps
    - Fixed Distortion Focus planet proximity check
    - Removed some redundant tech prerequisites
    - Fixed multiple sitreps appearing if multiple nova bombs are simultaneously detonated
    - Removed pointless damage boost for piloting for Flak

- Fixed Python logging memory leak
- Fixed issue with Python text encoding on Windows systems
- Fixed issue with loading stringtables that have many successive lines with just # comments on them



#### Technical / Internal

- Dependencies and Versions
    - Raised C++ language version to C++17
    - Moved to compiling with Visual Studio 2019 or 2022 on Windows, removed 2017 support
    - Python 3.7+ is now supported and required. 
    - Bumped minimum versions of various dependencies and versions included in the FreeOrion SDK

- Added named ValueRefs that can be defined in scripts and referenced elsewhere in scripts or in stringtable entries
- Added a NoOp condition for debugging
- Salt combat PRNG seeding with the galaxy seed


