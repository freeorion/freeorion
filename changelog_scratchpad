
    Make the BLD_LIGHTHOUSE effect more gradual and less effective for planets/buildings
    was -30, now between -20 to -30 for ships and -0 to -10 for all other objects


    Replaced graphics for colony base hull. Previous version renamed, adding "-old" to filename. (#4314)


    Tweak probability of Ancient Guardians (#4289)
    * Make ancient guardians less common
    * Tweak default RULE_MINIMUM_MONSTER_DISTANCE_CAPITAL value

    * Add details to luxury specials in pedia

    Fix pedia for robo shields (#4302)


    Fix alliance victory if diplomacy is forbidden
    If diplomacy is forbidden the empires in peace cannot do anything with
    it and have to wait for tech victory, experimenters victory or
    concede of other.



    Make it possible to hide the kraken nests from turn 1 and 2 (#4226)
    monster nests are supposed to have a chance to go hidden under cloud spawns
    this does not work correctly for krakens (because those nests can also be created in turns 1 and 2)
    discussion https://www.freeorion.org/forum/viewtopic.php?p=114618#p114618
    this fixes this extending the possible turns and at the same time restricting to the turn after the nest was added


    Tweak stealth and distance to empire of kraken in the ice special (#4248)


    Fix species modifier for Troop Techs (#4221)


    Add stealth bonus info about colonies in SPY_PLANET_STEALTH_MOD_DESC
    Add extra sources of detection to METER_DETECTION_VALUE_DESC


    Rework Replicon (#4096)


    Rework Xenophobic species trait and Racial Purity policy 
    - Xenophobic penalty only to stability, based on number of planets and jump distance, affecting and being affected by other empires and unowned worlds. At distance 0, penalty is -2.5, decreasing by 0.5 by each jump away.
    - Trith Bad->Great Influence, Great->Bad Stability and don't dislike Influence.
     - Eaxaw Great->Average Stability.
    - Temptative AI code to evaluate stability with xenophobia and racial purity


    Add SetOriginalType, use with Philosopher Planet (#4142)
    Simplified cost reduction of stealth techs
    Fix planet stealth tech cost


    Add missing macros to Lambala'Lam (#4130)
    Save on exit in hostless mode even if save on turn disabled
    Tweak small robot RP cost in-line with commit 4085 (#4095)

    Add Small Robotic Hull

    Destroy building on creation of special (#4041)

    Give xenophobes (Trith and Eaxaw) great stability (#4086)


    Give Krakens extra stealth on Gas Giants

    Add Solar Concentrators to snowflakes


    add limits to RenameOrder for length of name and what characters can be used

    Fix researchability of tech Planetary Cloaking Device

    Reduce bonus and malus from influence species trait (#4067)


    [AI] Do not consider Exobot immediately (#4065)

    Nullify influence when evacuating a planet (#4044)


    -fix probable bug with Condition::Type::GetDefaultInitialCandidateObjects, where if a complicated expression was used for the type, it looked like nothing would be returned


    [AI] Do not invade allies (#4037)
    
    * AI function to query diplomatic status
    * Do not consider friendly planets as invasion targets
    * Use playerIsAI to identify the human player
    * Do not consider allies as threats


    Make Asteroid Coating Special Rarer (#4032)


    Stop auto-advance turn on error


    [AI] Fix role detection for orbital defense (#4023)
    [AI] Do not calculate colonization values twice (#4020)
    [AI] Use multipage layout for charts(#3978)
    [AI] Fix check for available slots (#4013)
    Fix description of great/ult. shields (#4012)
    [AI] Adapt for no longer parallel colony buildings (#4002)
    [AI] annotations (#4003)



    Block enqueuing more than one of any colony building on a planet (#3994)


    Apply SPATIAL_FLUX_STEALTH_TECH_BONUS boost for all tech upgrades (#3990)
    * fixes bug found by Oberlus
      https://freeorion.org/forum/viewtopic.php?p=112255&sid=6279f996d237f31db727cac11366812b#p112255
      Only SPY_STEALTH_PART_1 was multiplied by SPATIAL_FLUX_STEALTH_TECH_BONUS.
      Now also the others are multiplied



    Species Ship Shield Trait scaled by shield part (#3979)


    [AI] Limit supply penalty for independant species (#3980)


    [AI] Fix evaluation of capital species (#3982)


    Make changes in MaxPopulation affect growth without delay (#3817)


    Small pedia fixes (#3969)
    * Update Interstellar logistics, it no longer increases speed without a policy
    * Update Organic Hull description
    * Add page for sneaky species
    * Document that Psychogenic Domination cannot take over domesticated space monsters Fixes #2840


    Updated tech short descriptions (#3946)


    Give white krakens a tentacle attack (#3968)


    [AI] Remove duplicated dependency and improvments (#3963)


    [AI] Use forgotten supply factor (#3966)


    [AI] Some fixes and a rough adaption of the invasion rating (#3964)


    [AI] Rework species tags (#3952)


    [AI] Break dependency of buildings on empire (#3949)


    [AI] Planet rating (#3916)



    Increase growth by 25% (#3621)
    Before introducing growth policy in 5c9b5023f00e047f1b33e260677a13f21d4f6c2b,
        base growth factor was 0.01
        Then it was 0.005, but one could improve it by 50% using the policy
     The new formula introduced in  6a9b32fec516bc2fa0a37f2d079e204948456a17 (#3703)
        divided growth by target population and had base growth factor 0.08
        i.e. it is the same as 0.005 for the previous formula, if the planet has a max population of 16
        for smaller planets it is faster and for bigger planets it is even slower.
     This commit increases base growth by 25% (this might be still a little bit low)




    [Fix] Avoid division by zero (#3944)


    [AI] calculate research and stability, tech_soon_available (#3939)


    Message compression
    Add compression for large messages. Disable compression for localhost clients. Based on #3870.


    [AI] Add policies to charting (#3914)


    Make Mu Ursh more playable (#3915)


    [AI] calculate_production.py (#3934)


    [AI] Added world tree and ast. coating to empire resources. (#3919)


    [AI] Refactor shipyards using BuildingType (#3857)
    * Refactor shipyard using BuildingType
    * Do some dislike checks for shipyards and
    fixed character.may_build_building
    * First round of review changes
    * Fix ShipYardInfo usage


    [AI] avoid division by zero exception (#3861)


    AI military policies (#3851)
    * Fixed type BuildingName
    * Added military command and fixed planet selection
    * Added function to query number of ships
    * First version with military policies
    * Review updates and slightly change _rate_costs
    * Removed obsolete technology



    Add server flag that merges quickstart and load options (#3848)






    consider both, not just one, fleet in a fleet transfer order, that has arrival starlane -1 to have arrival starlane equal to its current system, to avoid first turn issue with being unable to merge fleets



    Popular Terraform using NextBestPlanetType valueref




    Use ASTEROID_COATING_STACK stackinggroup to ensure the effect is applied only once (#3824)



    Fix crash due not initialized password window (#3823)



    Add option to allow any player to be an observer



    make NewFleetOrder and FleetTransferOrder consider fleets with no set arrival starlane as arriving from their current systems. this should fix issues with merging fleets.



    Sneaky species have easy planetary stealth tech (#1620)
    * Laenfa are sneaky
    * All research cost for planet stealth is halved for sneaky species





    Add Popular Terraforming (terraform to best environment)
    * for ease when you dont know the best environment
    * for mass-terraforming from the object window (where the best environment can be mixed for different species)
    * micro-management safe by being cheaper than the steps (actually dont know, with the steps you get results earlier)
    * also added the capability to use %planettype% in sitreps (taking a planet ID or a stringtable key)



    Mostly FreeBSD build fix. (#3812)
    - boost stacktrace using backtrace api instead of unwind due to unsupported field.
    - various initialisation constructors reordering warning fixes/unused var.

    [AI] Building refactoring (#3808)
    - Scanning Facility: Don't build it where it is disliked
    - Gas Giant Generator: Completely new logic




    Fix Thenian die-off to affect only Thenian planets (#3806)




    troop pods must also use OFFENSE_TROOPS instead of ATTACKTROOPS (#3802)






    Fix priorities of species scaling effects for Industry, Research and Influence (#3773)

    
    Aligned species tags with effects and provided a checking tool


    [AI] Fix _get_queued_base_troopers (#3791)
    [AI] Fixes for drop invasion (#3783)



    Fix population reducing effect of planetary drive



    Move survey_universe to empire module and call it earlier (#3762)
    * Move survey_universe to empire module and call it earlier
    * Removed second survey_universe_lock
    
    This should fix #3760 for good.
    It also makes sense as a refactoring, since survey_universe mostly sets values in the empire module and was completely independent from the rest of ColonisationAI.
    It does also set some value in the colonization module (nice mix of spelling ;-) which should probably be protected by locks as well, but this can be done with a later PR, this one is big enough and is needed as a fix.




    Improve AI invasion handling (#3754)
    This should fix the three points described in #3745. It should conquer more successfully and waste fewer troopers now.
    The AI still builds too many troopers (priority calculation sometimes produces strange results) and may ignore good planets (planetary rating also needs work), but these are for another PR.



    [AI] Ensure colony_buildes are initialized before usage (#3744)



    Fix reconnection attempts sometimes persisting throughout timeout.
    On expiry of m_deadline_timer, the m_reconnect_timer is canceled. However, if both timers expire in a short enough timeframe, the m_reconnect_timer callback may already have been scheduled and thus can no longer be canceled. To prevent this, let m_deadline_timer set a flag upon expiry and check that flag before attempting to reconnect.



    When loading SP game, assign AIs by name to respective empires (#3738)




    Fix timeout being sometimes ignored in ClientNetworking::Impl::ConnectToServer() (#3620)
    Previous to this patch, small timeout values are effectively ignored. This happens because boost::asio::io_context::run() is a blocking call and the attempt to async_connect() may time out after e.g. 2 seconds on my machine. This means any shorter timeout parameters will effectively be ignored and any longer timeout still only has a resolution of, e.g., 2 seconds.
    The fix here is to introduce an asynchronous timer which will cancel pending operations once timeout occurs.


    remove (no star) label from starless system names


    -display real system name on map and sidepanel for empty systems
    -label as unexplored system or region after name

    
    Native/Special Defense Tweaks

    Sometimes stealth monster nests

    Replace 20% of ancient guardians with stealthed planet

    Add some exclusions to High Tech Natives

    Stop Lembalalam from being both moderate and high tech natives

    Add occasional defenses to natives


    Fixed some AI exceptions (#3719)
    This should fix the exceptions mentioned in #3718


    Guard Biege Goo and Fiftyseven







    Hack to allow multi-line commands in debug chat (#3708)


    Add species lists to traits pedia pages


    fix arrows (remove cut off glow) (#3699)


    Expand Pedia Quick Start Guide (#3659)


    Fix scanning facility pedia entry


    Flux bubble should decrease colony building time (#3690)
    * Flux bubble should decrease colony building time
    * Fix pedia cateogorization of spatial flux hulls


    
    add native species Nightsiders, Sleepers, Khakturian, Celestephyte


    - quick fix: reducing probability for natives on roids and GGs by factor five

    - generic fieldtype pedia pages now list map-clickable known occurances of each field type

    - adding system special of derelict small troop ships crewed by khakturian, to be randomly stumbled upon players just like the other derelicts




    - fixing population dieoff effect for species Thenian and the according sitrep message
    - improved sitrep-message 'new dyson forest growing' with pedia link to dyson forest (for the noobs)
    - noted some todo's related to pedia with possible future improvements
    - fixed some fixme's - they work best when followed by a colon, this will highlight them similar to todo's in modern ide's
    - make list of homeworlds commaseparated in the pedia-homeworlds-page




    - ending every automatically created pedia page with an extra empty line, just in case the previously last bit of text was ment to be a clickable pedia link, which would not have been clickable if the very last thing on the page. this should not hinder the player's reading experience in any way but improve it slightly, wherever pedia pages ended with pedia links before. one example in this pr is the void rift fieldtype page which lists as species that dislike the Celestephyte which is now clickable with this fix here.



    - streamlining the pedia text generating code a little by introducing versatile helper methods to replace some massively redundant code and prettify the player visible output at the same time, admittedly at the expense of a tiny little bit of extra computations every time the player clicks on a pedia link but that is negligible and not really noticeable



    - fluffing out sly description some more to account for stealthiness and possible other gaseous beings

    - the Thenian are not only well defended, but now have good planetary stealth too and can not colonize anyway



    - during universe creation, allow new native species to be placed who have no good habitat but only adequate or poor

    - adding species #4 the Celestephyte, to be continued ...
    - adding new native species #1 Nightsiders, #2 Sleepers and #3 Khakturian
    - changed condition for availability of FOCUS_PROTECTION so that some native species with that same preferred focus can now do that while not yet conquored





    


    -move warning disabling into warnings.props in MSVC2019 project files
    -remove disabling of most warnings in MSVC2019 project files





    Species likes/dislikes tweaks (#3670)
    * Trith like research, isolation, divine authority
    * Add "PLC_BUREAUCRACY" to species likes/dislikes
    * Start Fulver with Confederation unlocked
    * Give Replicon some policy preferences




    -make snowflake bodies have good instead of excellent vision (#3668)
    -make detection techs increment range in steps of 25 instead of 25 or 50
    -use value reference for tech detection ranges in pedia
    -reduce living hull detection boost from 50 to 40
    -reduce scanning facility range boost from 75 to 50



    fix rendering number with 1 digit of precision rather than to 1 fractional decimal digit of precision



    -made fleet unstealthiness work in steps of 5 and be a much larger effect, but also with a threshold of 10 ships to start happening
    -added some ship stealth bonuses and penalties dependent on star type



    boosts and penalties to planet and ship detection dependent on star type


    adding number of settled worlds to census report (#3648)
    * - adding a column and labels to the census report to show number of settled worlds per species / per trait / total
    - always display one decimal digit in census population counts
    - another label to distinguish current from target population


    Unown outposts with Chaos Wave bombardement weapon


    Added the Asteroid coating special. (#3649)


    -make GetEmpiresPositionDetectionRanges exclude destroyed objects
    -add GetEmpiresPositionDetectionRanges overload that excludes destroyed objects and objects in a separate set of ids



    ===> check if this obsoletes the already-noted change about not showing stale info?
    Use GetEmpiresPositionDetectionRanges rather than MapWnd internal equivalent calculations. This removes some checks for stale or destroyed objects, so might lead to weirdness in some cases, which will need to be fixed if they are actually issues.



    Make Trith have average environments (RADIATED_STANDARD) (#3623)
    having some options for adequate environments is a preparation path for terraforming.
    before restricting self-sustained to good planets this was basically a no-go, now its possible



    [AI] Consider researching space flux hulls if you dont research organics


    AI entries for FLUX techs, hulls, and lance; not really used by AI though


    -add some missing options DB description strings for colours


    spatial flux rework


    Add SR_FLUX_LANCE weapon part
    Add hull SH_SPACE_FLUX_COMPOSITE
    Make SPACE_FLUX_BUBBLE cheaper and more fragile; Refactor SPATIAL_FLUX_STEALTH_TECH_BONUS
    Split spatial flux hulls into own hull line (was in robotic)


    Add support for Python's asyncio
    Embedded Python need to manually calls event loop so coroutines and
    callbacks could be executed.
    It uses approach described in https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.loop.run_forever
    to call olny ready callbacks and then return back to application.



    Improve AI systems_connected performance (#3559)
    * Optimize AI systems_connected performance
    Instead of running a BFS for each pair of system ids, cache the set of systems connected to the capital in a single depth-first-search and check if queried system_ids are within that set. Since most of the visible systems will be connected to the capital, this will cover most cases. Only if both systems are not connected to the capital, we will have to run another BFS. However, the search space will be significantly smaller since -again- most systems will be connected to the capital and thus won't be part of the search.



    [AI] Fix star based colonization value calculation
    The larger boni should apply if the AI does not yet have a star of that type. The defect was introduced in #3484
    


    
    Didn't kick out current player connection


    Fix sign switch on xenophobic self malus (#3537)


    fix neutral / unowned forces being labelled "Unknown" in combat initial stealth event descriptions

    
    Didn't kick out current player connection

    
    -fixed probably long-standing (8 years?) bug with ContainedBy::Match that returned the opposite of what it should have. This probably didn't affect gameplay much, since most or all uses of ContainedBy have subconditions that are OK to evaluate once for checking all candidates, rather than the per-candidate evaluation case that actually calls Match


    -Fix issues with calculation of research bonus in Distributed Thought Computing


    Base MILITARY_STRENGTH statistic on putting all ships in a single fleet
    This estimates the power of all your ships now put in a single fleet
    instead of estimating the power of each ship flying solo and adding that up.


    Elaborate labels for damage/destruction by fleet (review-01)

    Include fighters in fleet damage/destruction totals (UI)

    Calculate combat total structural damage/destroyed fighters for carriers



    TotalFighterShots ValueRef - Calculates the maximum number of shots the fighters of a single carrier shoot in a combat. For use in hangar part damage estimation.
    * So a striker with a launch bay has 3 fighters and 2 launch capacity so for four combat bouts - TotalFighterShots is 8 (0+2+3+3)
    ** for that structural damage estimation would be TotalFighterShots*HangarDamage and destroyed fighter estimation would be TotalFighterShots
    * not sure how to parse it. how to pass the ship id. if the the result should really be int. what the name for the condition should be
      Source.TotalFighterShots countIf = (CombatBout == 2)
             TotalFighterShots shootIf =                   id = Source.ID
             TotalFighterShots condition =
    * not sure we really want this
    * in principle targeting could support the time a fighter is already flying/the bout it was launched
    ** but in the damage estimation one would really have to instantiate/check fighter objects per bout
    *** so that would mean more calculations, which scales quadratic with the number of combat bouts (OTOH combat is way more expensive)
        number of tests for 10 bouts w/o  launchBout: 10 (0+1+1+1+1+1+1+1+1+1+1)  n
        number of tests for 10 bouts with launchBout: 55 (0+1+2+3+4+5+6+7+8+9+10) n/2*(n+1)
    ** if we had a maximum flight time (e.g. missiles fly a bout without doing damage) we would need some something like that anyway
    *** not sure how that interacts with stealth though
    ***** if missiles should always be launched or only if there is a visible target - I prefer this, but needs to use combatTargets on launch time
    ***** and if the missile should keep on flying if there is no visible target - if no: could reduce real damage (wont matter for estimation though)
    * one could also model in max/min amount of damage (min amount: fighters get shot down immediatly, max amount: fighters do not get shot down)
    TotalFighterShots valueref should use the context with bout info and decrease fighters in hangars for each launch
    * was using the original context instead of the mutable one
    * did not decrease the number of fighters available


    Damage estimation: Use Shield from ship in context, check fighter in context vs combatTargets
    * uses shield meter from target in default estimation of structural damage
    * can use Value(Target.Shield) in FOCS
    * use combatTargets condition of fighters for default estimation of structural damage or fighter destruction


    Show number of fighters shot instead of number direct weapon hits in pedia


    Use combatTargets condition in fighter details popup in ship view


    GUI shows split damage/destroy estimation
    damage - refers to the amount of damage against ships
    destroy - refers to the number of shots against fighters
    Unified view in ShipDamageMeterWnd
    Split icons in FleetWnd


    Change damage estimation, split Ships/Fighters, full combat damage
    In the UI, only ShipDamage is shown
    Example content
    * SR_WEAPON_0_1 - no damage against ships
    * SR_WEAPON_1_1 - no damage against fighters
    * SR_JAWS       - Only half the damage against ships (shoots only 2 out of 4 bouts)
    * combat damage gets calculated per combat not per bout
    * also checks for shields (target-dependent ShipDamage)


    Use secondary stat to display hangar part damage (bugfix)


    Add happines species trait plus some rebalance (#3493)


    Refactored Fleet Aggression Handling (#3447)
    Default aggression was used inconsistantly. When a fleet was
    split, depending on the splitting method split-off battle ships
    became aggressive or just obstrusive.
    I defined alias values for default aggression of armed
    and unarmed ships and used the new values where appropriate.
    Also did some further cleanup in those methods.


    use ValidExecutableBinary test when setting server binary executable file on Windows



    Fix multiplayer issues
    Correctly get revious player id. Before could get same player just connected.
    Fix crash if connection to the game could cause switch to lobby.



    Kick out other players controls same empire (#3353)
    Additionally kills AI process if other player was AI.


    Kill AI process of eliminated empire
    Stores AI process indexed by AI name.


    Allowed AI to delegate player
    Allows locally launched AI to skip authentication.
    Allows player or AI to delegate someone without lobby if they have single empire to play.
 






### Key Changes

- Added a government policies system
    - Policies have various positive or negative effects on an empire, some of which were moved from techs to policies
    - Policies represent various social, economic, and military ideas and ideals
    - Empires have limited slots in which policies can be adopted
    - Slots are unlocked by techs, buildings, other policies, ships, species or other content
- Gave species likes and dislikes
    - Buildings, policies, or specials nearby or in an empire affect their planet stability
- Made planet stability have more consequences
    - Various planet effects depend on stability levels, including resource output growth rates and stable values
    - Low planet stability causes rebel troops to appear
    - Rebel troops can cause a planet to leave an empire
- Added influence resource
    - Spent to adopt policies
    - Consumed by colonies and outposts and various content
    - Generated by various content and associated planet focus setting
    - Going into debt will reduce planet stability
- Extensive content reworking and balance adjustments for buildings, techs, policies, species, ship hulls and parts
- Combats default to 4 bouts, with ship structure and damage adjusted accordingly
- Added additional fleet aggression settings for finer control of blockading, hiding, and combat initiation


### Detailed Changelog


#### Graphics / Interface

- Fixed UI button mouse rollover sound not playing
- Added another star forming nebula appearance
- Set minimum window sizes on design screen
- Improved pedia search performance and noted time to search at end of results
- Show + or - instead of brackets around second number (change) in StatisticIcon
- Don't show planet type wheel for asteriods and gas giant pedia pages
- Fixed extraneous precision in graph axis labels
- Allow galaxy setup panel of multiplayer lobby to scale with window size
- Fixed message color in chat history
- Made tab bar button size flexible with font size
- Disabled queue popup commands while order issuing is disabled
- Fixed hang when the production list is refreshed while a popup menu is open
- Added display of config and log directory on options directories tab
- Added a list of issued orders on the player's empire's pedia page
- Don't hide meter icons when the output is negative
- Fixed issue with multiplayer empire lists with eliminated empires when loading games
- Fixed fleets window scroll resetting when changing fleet aggression
- Added Unicode glyphs U+22C4 "Diamond Operator" and U+22C5 "Dot Operator" to Roboto regular font to use as a bullet point markers
- Added options to control for tooltip colours
- Made big fleet icons bigger
- Added an option to lock map zoom and panning
- Show script-derived floating point numbers in UI with only 3 digits
- Split Attack column on Objects List into Total Structure Damage per Battle and Number of Destroyed Fighters per Battle
- Replaced field mouseover image
- Excluded stale objects from within-MapWnd determination of detector ranges
- Added (optional) rendering of future turn's predicted detection range circles for the selected fleet
- Switched to updating all object meters when showing system in the sidepanel, not just system contents, due to different results
- Started rendering fleets that are (somehow?) not in systems and not moving
- Added some hopefully-helpful explanation text to the output of "freeorion -h" on the command line
- Disallowed newlines in pedia search edit to prevents weirdness when pasting multi-line text
- Added a link to the configuration file directory in the Configuration pedia article
- Accounted for SI postfixes in text representations of numbers when sorting object list columns
- Added distance to the selected system or fleet to objects list columns


#### Content and Balance

- Government
    - Added numerous policies that empires can unlock and adopt

- Ships
    - Ship structure and damage adjusted for 4 bout combats
    - Added the Flux Lance weapon that is "short range", attacking starting from bout 3 (or 2 if the Charge policy is adopted)
    - Added the Graviton Pulsar weapon that has 12 attacks that do 1 damage and targets anything, useful against fighters
    - Rebalanced fighter techs and pilot trait effects
    - Applied ship weapon damage rule scaling rule to species and monster weapon bonuses and 
    - Applied ship structure scaling to tree regeneration
    - Made blockade checks test that a fleet is set to Obstructive not Aggressive
    - Reworked Organic hull to be cheaper with more fuel and less slots
    - Added a stealth stealth penalty to ships with large numbers of ships in the same system owned by the same empire
    - Made Laenfa fuel regrow and white or blue stars
    - Made Sly refuel and repair at planets with own species, without a supply network
    - Reworked various monster ship designs
    - Added or reworked several monster weapons to do bout-dependent damage
    - Redesigned various monster ship designs and gave some extra shots or damage to monster hulls for some weapons the designs use
    - Various cost rebalancings
    - Removed prerequisite dependence between fighter and other weapon techs
    - Required a part to do more than 0 damage to destroy a figher

- Planets
    - Added some luxury resource specials that some species like and thus get stabilitly boosts from
    - Reduced spawn rates of some specials
    - Made various research and industry bonuses depend on stability
    - Add precognitive detection to Fulver, giving basic visibility to starlane connected planets
    - Asteroid processor and Asteroid Reformation processor now remove themselves if their planet is not an asteroid
    - Made planet max shields not depend on recent combats in system
    - Adjusted troop levels after invasion 
    - Reworked Stellar Tomography to give bonuses based on the number of research-focused planets in a system
    - Reworked Distributed Thought Computing to give bonuses based on distance to the furthest owned ship    
    - Made just-colonized planets start with 6 troops
    - Disabled garrison tech troop regen on just-conquered planets
    - Rebalanced troop bonuses from garrison techs
    - Set infrastructure to 1 on just-conquered planets
    - Made self-sustaining metabolism only give population boosts on good planets
    - Rebalanced Trith species: medium starting planet, bad supply and industry
    - Gave player planets at least 6 troops in beginner mode
    - Gave Sly and Laenfa distinct non-distance dependent stability effects
    - Added the Imperial Regional Administration building that acts like a capital for colony supply distance cost calculations
    - Made distance and supply connection to the imperial capital or regional admin affect planet stability, dependent on adopted policies
    - Restricted the imperial palace stability effect to work only if the palace is on an imperial capital planet
    - Removed Galactic Infrastructure tech's supply-range boost effect
    - Made Gravitic Architecture only boost supply range of Logistics focused planets
    - Removed InterSpecies academy location requirement dependence on default focus
    - Made some species effects not fire if a planet is unowned
    - Reduced Concentration Camp industry boost
    - Added an Abandon Outpost building, which removes an empire's outpost from the planet
    - Added a Colony Independence Decree building, which removes an empire's ownership from the planet but leaves the population as an independent colony
    - Added the Nearly-Universal Translator building, which boosts influence focus influence resource output and grants a policy slot
    - Renamed Evacuation System building to Evacuation
    - Made the influence focus bonus population-dependent
    - Disabled generation of Head on a Spike from Cultural Archives
    - Added more penalties to resource meters when focus switching to mitigate focus-toggling strategies
    - Rebalanced Force Energy Structures to give fixed 3/turn faster growth or decay of meters
    - Made protection focus increase troop regeneration rate (if not attacked on previous turn)
    - Made species stability bonus for liking focus not require empire control of planet    
    - Replaced Terraforming (reversion) with targeted Terraforming, allowing Exobots to do Terraforming, but disabling multiple steps in parallel
    - Made Trans-Organic Sentience tech boost the growth/decay rate of influence meters    
    - Reworked the population growth formula so bigger planets don't fill up faster than smaller planets
    - Added guard monsters to resource specials
    - Added an effect to Outposts so their influence moves towards target influence, which otherwise wouldn't happen.



- Fields
    - Made made star forming nebulae smaller, reduced speed and detection, increased stealth, limited number generated
    - Added Void rift
    - Added Nanite Swarm
    - Added Meteor Blizzard
    - Adjusted Molecular Cloud speed and size
    - Adjusted Ion Storm speed
    - Adjusted field spawning to be closer to the galaxy centre during universe generation
    - Made Nebulae not reduce ship speed below 5, so they don't get stuck in place
    - Added Field Repellor building
    - Made Nymnmn species attract some fields


- Pedia
    - Replaced various hard-coded numbers with content script-derived calculated values
    - Fixed placement limit documenation for InterSpecies academy
    - Documented Planetary Starlane Drive
    
    
    - Documented supply network propagation mechanics
    - Additional entries for planetary focus game concept
    - Additional text added for Spatial Distortion, Industry, Logistics, Planet Drive, and Psychic Domination
    - Added an "All Species" list in the species article
    - Improved imperial stockpile distribution documentation
    - Added lists of native, playable, and all species
    - Removed out-of-universe UI-related motivation for the planet drive beacon

- Stringtables
    - Updated translations: French, German, Spanish
    - Cleaned up some unused strings
    - Avoid referring to the player in the second person ("you", "your")
    - Added additional custom accounting labels for various effects
    - Renamed '%SPECIES% Colony' to 'Colony of %SPECIES%'

- Other
    - Many building, species, and tech balance adjustments along with new government systems and influence-constrained growth
    - Adjusted info shared between allied and non-allied empires
    - Reworked how allied and not-mutual-allied supply network sharing and merging handles various situations
    - Nerfed Telepathy bonus to Psionics cost
    - Removed the Galactic Infrastructure tech
    - Added more and rebalanced universe creation frequency options 
    - Fixed issues with Starlane Bore and Starlane Nexus not correctly avoiding existing starlanes when generating new ones
    - Removed Cyborgs tech
    - Removed redundant prerequisite of N-Dimensional Subspace tech


#### AI

- AI adopts policies
- AI Manages influence and stability
- AI builds Regional Administrations and Nearly Universal Translators
- Improved invasion handling
- AI no longer uses protection focus for military purposes
- Many refactorings and adaptations for changed rules and content
- Devalued Gaia special as Sly
- Corrected colony pod turns_to_build when Lifecycle Manipulation is available
- Fixed issue with weapons that have 0 shots
- Made AI tech enqueue order more consistent between different machines
- Stopped AI from attempting to colonize unexplored systems (which may contain unobserved monsters)
- Added an option allowing human players in multiplayer games to take over playing AI empires
- Made AI aware of self-sustaining species population mechanics
- Made AI aware of distance restrictions of guard monsters



#### Other Features

- Added an option to save game after player issued orders
- Renamed Trade resource to Influence
- Treat empires without population and ships as eliminated
- Expanded fleet aggression settings to: initiate combat, obstruct passage (but don't initiate combat), defensive hide, and passive hide (don't fire even if attacked in combat)
- Introduced server-side auto turn advance option
- Added a game rule to make all objects visible
- Added a game rule that makes never-detected planets not (detectable regardless of stealth and detection strength) just by having an object in system
- Added a game rule that makes all systems at least basically visible to all empires
- Added a game rule that makes basic visibility systems reveal their name and star type
- Added a game rule that adjusts the tech victory difficulty
- Added a game rule that sets the minimum monster starting distance
- Added a game rule for whether extrasolar ships give detection, defaulting to off
- Added a game rule to enable repeating species during universe generation
- Added a game rule to adjust planet baseline stability
- Made ground combat allow allies to share forces
- Made planet focus reset when conquered by neutrals or rebels
- Made meter estimates count ground combat
- Ignored freshly established colonies for evacuation building effects
- Made maturing monsters keep their names
- Added some sanitization of user-input text to reject some formatting characters
- Made combat object damaged sitreps require partial (direct via detection) visibility of an object to receive

#### Other Bug Fixes

- Crashes or Disconnects
    - Fixed server freeze when disconnecting a player
    - Fixed potential denial of service issue on server
    - Fixed crash when sorting UI lists
    - Fixed a crash if a fleet ended up with no previous or next system
    - Fixed crash during turn processing due to a failed check for whether a player connection is local
    - Fixed a crash with big combat logs

- Gameplay
    - Fixed bombardment not working if ships only have bombardment weapons
    - Fixed various issues with automatic turn advancing
    - Made simultaneous colonization fail instead of picking one empire based on ID
    - Fixed issue where two empires gifting eachother everything in a system would have order-dependence problems
    - Disallowed mixing arrival starlanes in a new fleet or in a ship-fleet transfer
    - Made non-empire forces work like an empire for visibility within combat

- Content
    - Fixed Gaia special planet type selection
    - Fixed Artificial Black Hole generating multiple sitreps
    - Fixed Distortion Focus planet proximity check
    - Removed some redundant tech prerequisites
    - Fixed multiple sitreps appearing if multiple nova bombs are simultaneously detonated
    - Removed pointless damage boost for piloting for Flak

- Fixed Python logging memory leak
- Fixed issue with Python text encoding on Windows systems
- Fixed issue with loading stringtables that have many successive lines with just # comments on them
- Fixed issue where AI clients weren't informed of modified game rules


#### Technical / Internal

- Dependencies and Versions
    - Raised C++ language version to C++17
    - Moved to compiling with Visual Studio 2019 or 2022 on Windows, removed 2017 support
    - Python 3.7+ is now supported and required. 
    - Bumped minimum versions of various dependencies and versions included in the FreeOrion SDK

- Added named ValueRefs that can be defined in scripts and referenced elsewhere in scripts or in stringtable entries
- Added a NoOp condition for debugging
- Salt combat PRNG seeding with the galaxy seed
- Partially implemented an alternative client in Godot with Android support
- Partially migrated scripted content from custom FreeOrion Content Script to Python scripts

