
Author: O01eg <o01eg@yandex.ru>


    Restore parallel species parsing


Author: Vezzra <vezzra@gmx.net>


    Disable Super-Testers by default


Author: Vezzra <vezzra@gmx.net>


    Update version number to 0.5


Author: Axel Groß <axel.gross@iaeste.at>


    Make the BLD_LIGHTHOUSE effect more gradual and less effective for planets/buildings
    
    was -30, now between -20 to -30 for ships and -0 to -10 for all other objects


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix AI handling of computronium and honeycomb


Author: Andrey <Cjkjvfnby@gmail.com>


    Use pyupgrade (#4315)
    
    * Commit pre-commit
    
    * Add pyupgrade changes


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Do not call base class implementation


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove free GetPathfinder()


Author: geoffthemedio <geoffthemedio@gmail.com>


    -inline some getters



Author: geoffthemedio <geoffthemedio@gmail.com>


    -mark some functions const and noexcept
    -prefer getRaw over get for UniverseObject lookup
    -avoid free GetSpecies



Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid using free GetSpecies


Author: geoffthemedio <geoffthemedio@gmail.com>


 / TODO


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass current turn to UpdateEmpireLatestKnownObjectsAndVisibilityTurns


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ScriptingContext to Special::InitialCapacity



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    look up Species name in stringtable instead of just putting into generated VarText


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass GalaxySetupData when generating filename


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace lexical_cast with ToInt or MeterTypeFromString


Author: geoffthemedio <geoffthemedio@gmail.com>


    TODOs


Author: geoffthemedio <geoffthemedio@gmail.com>


    -avoid call to free GetPathfinder()



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass AvailabilityManager by const reference
    -refactor BaseSelector::ToggleAvailability
    -use compile-time constant to test for all availabilities being false in BasesListBox::Populate


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix issue with string_view binding to temporary strings


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ScriptingContext to ShipDesign::ProductionCost, PerTurnCost, and ProductionTime
    -pass ScriptingContext to DefaultLocationForEmpire in pedia code
    -use context for species instead of free GetSpeciesManager



Author: geoffthemedio <geoffthemedio@gmail.com>


, avoid EmpireKnownObjects that might be a free function call
    -remove unneded GetEmpire call


Author: geoffthemedio <geoffthemedio@gmail.com>


    -avoid free EmpireKnownObjects function, use Universe member function instead



Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak captures to hopefully fix compile error


Author: geoffthemedio <geoffthemedio@gmail.com>


    use SupplyManager from context


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass supplyManager to Empire::InitResourcePools


Author: geoffthemedio <geoffthemedio@gmail.com>


    getter inlining


Author: geoffthemedio <geoffthemedio@gmail.com>


    groom ShipDesign::MaybeInvalidDesign


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed in context in ShipDesign::ProductionLocation


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ScriptingContext to ShipDesign::ProductionLocation



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    pass SpeciesManager to SetSpecies


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove old serialization compatability code from ~2 years ago


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass current turn to System::Insert
    -make orbit specification non-optional


Author: geoffthemedio <geoffthemedio@gmail.com>


    raw loops -> count_if


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix availableFoci in AI interface (#4318)


Author: Captain-HM <holger.motz@gmx.de>


    Replaced graphics for colony base hull. Previous version renamed, adding "-old" to filename. (#4314)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Remove wrong brace (#4317)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Create fr.txt
    
    - On par with latest en.txt (Nov 2, 2022 - ca5c946)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Improved rating of propaganda and algo_research (#4300)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] ResourceAI (#4275)
    
    Re-wrote most of the AI Focus handling


Author: Andrey <Cjkjvfnby@gmail.com>


    Use single flake8 configuration (#4298)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Tweak probability of Ancient Guardians (#4289)
    
    * Make ancient guardians less common
    * Tweak default RULE_MINIMUM_MONSTER_DISTANCE_CAPITAL value


Author: O01eg <o01eg@yandex.ru>


    Cache NSIS installer to not download it each time


Author: geoffthemedio <geoffthemedio@gmail.com>


    reserve space and use append to concatenate string bits


Author: geoffthemedio <geoffthemedio@gmail.com>


    -enable Check call in ChangeFocusOrder::Execute
    -tweak Check error messages


Author: geoffthemedio <geoffthemedio@gmail.com>


    set context source object to the empire's default source object when executing orders


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass focus name to FocusIcon as string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    when checking planet focus availability, set the planet as the source object


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    for loop -> transform


Author: geoffthemedio <geoffthemedio@gmail.com>


    add Planet::FocusAvailable that doesn't need to make copies of all the focus names like AvailableFoci


Author: geoffthemedio <geoffthemedio@gmail.com>


    specify planet as source when Refreshing PlanetPanel during construction


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass strings with move
    -pass shared_ptr by const reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    boost::bind to lambda


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext to Planet::FocusIcon


Author: geoffthemedio <geoffthemedio@gmail.com>


    dynamic -> static pointer casts


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move getters into header and make noexcept
    -pass Pt by value


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unneeded include(s)


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext to Planet::EnvironmentForSpecies, NextBestPlanetTypeForSpecies, and NextBetterPlanetTypeForSpecies


Author: geoffthemedio <geoffthemedio@gmail.com>


    use pointers by value not reference


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: O01eg <o01eg@yandex.ru>


    Fix initial players list reading from Python API


Author: O01eg <o01eg@yandex.ru>


    Fix crash on remote_enpoint


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Small fixes (#4306)
    
    * Fix: use setdefault instead of get to fill dict
    
    * Diversity bonus does is not multiplied with population


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Tweak Pedia (#4303)
    
    * Add details to luxury specials in pedia
    
    * Minor Pedia Fixes


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix pedia for robo shields (#4302)


Author: geoffthemedio <geoffthemedio@gmail.com>


    safety check, should fix crash when scrapping ship outside of a system


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move SitRepEntry filtering functions into .cpp
    -avoid copying SitRepEntry unnecessarily
, noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    -get species from context
    -dynamic_cast -> static_cast
    -avoid redundant checks if pointer is null after static_cast



Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace GetSpecies call with specialized SpeciesString VarText substitution
    -EnvironmentForSpecies takes string_view
    -use context.species instead of free GetSpecies
    -switch a few get to getRaw


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -add turn parameter to CreateNewAutosaveFilePath
    -use client's turn member variable instead of calling CurrentTurn()



Author: geoffthemedio <geoffthemedio@gmail.com>


    -add turn parameter to Resupply, SetSpecies, Depopulate, PopCenterPopGrowthProductionResearchPhase
    -use context species instead of free GetSpecies
    -switch some get to getRaw



Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass context to AvailableFoci, Conquer, SetFocus, HandleInvasion
    -pass current turn to ClearFocus
    -use context.species rather than free GetSpecies function
    -noexcept and inlining getters
    -some get -> getRaw
    -other grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -const Pt& to Pt



Author: geoffthemedio <geoffthemedio@gmail.com>


    -const Pt& to Pt
    -noexcept getters in header


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -noexcept
    -getters in headers


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused function


Author: geoffthemedio <geoffthemedio@gmail.com>


 and moving getters into headers


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace meter_begin and meter_end with GetMeters


Author: geoffthemedio <geoffthemedio@gmail.com>


    -noexcept
    -put getters in header


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -noexcept
    -auto


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move optionals
    -noexcept



Author: geoffthemedio <geoffthemedio@gmail.com>


    remove default context arguments


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass context to EnqueuableItem and ProducibleItem


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused member


Author: geoffthemedio <geoffthemedio@gmail.com>


    use weak_from_this


Author: geoffthemedio <geoffthemedio@gmail.com>


    -noexcept
    -moved trivial getters into header
    -factor out some repeated code getting SubTextures
    -take and return string_view instead of strings with WindowNameFromOption
    -pass GG::Pt by value



Author: geoffthemedio <geoffthemedio@gmail.com>


    store Species and BuildingType effects with unique_ptr instead of shared_ptr


Author: geoffthemedio <geoffthemedio@gmail.com>


    make some const into static constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -move getters into header
    -noexept


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -further templatize DispatchEffectsGroupScopeEvaluations
    -tweak captures for logging lambda


Author: geoffthemedio <geoffthemedio@gmail.com>


    comments, move function


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    -noexcept
    -added default move constructor to EffectsGroup
    -added Dump(vector<unique_ptr<EffectsGroup>>) overload


Author: geoffthemedio <geoffthemedio@gmail.com>


    add missing Flux line article stringtable entries


Author: geoffthemedio <geoffthemedio@gmail.com>


    -noexcept



Author: Grummel7 <muzz@albatross.pond.sub.org>


    Add missing default_focus definitions (#4286)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Oct 28, 2022 - 475c683)


Author: O01eg <o01eg@yandex.ru>


    Fix alliance victory if diplomacy is forbidden
    
    If diplomacy is forbidden the empires in peace cannot do anything with
    it and have to wait for tech victory, experimenters victory or
    concede of other.


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    tweak exobot production stringtable entry (#4290)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Don't add collection classes to python skeletons (#4269)


Author: agrrr3 <axel.gross@iaeste.at>


    Fix independent colony population special (#4285)
    
    population growth happens happens much earlier than the other target meters,
    so the override needs to be the one for population
    
    currently, lembalam and uninhabitable effects also happen at this priority,
    but it is impossible to mix with independence, so that priority works


Author: geoffthemedio <geoffthemedio@gmail.com>


    -noexcept
    -inlining


Author: geoffthemedio <geoffthemedio@gmail.com>


    -noexcept
    -remove Empire::SitRepBegin and SitRepEnd


Author: geoffthemedio <geoffthemedio@gmail.com>


 and inlining getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    -noexcept



Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid unnecessary copies


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove Universe::beginShipDesigns, endShipDesigns, and NumShipDesigns


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add Universe::ShipDesigns getter
    -use ShipDesigns instead of beginShipDesigns and endShipDesigns
    -make some getters noexcept
    -


Author: geoffthemedio <geoffthemedio@gmail.com>


    change GetVisibleObjectName to take UniverseObject&


Author: geoffthemedio <geoffthemedio@gmail.com>


    use transform to extract keys from map


Author: geoffthemedio <geoffthemedio@gmail.com>


    copy Empire::AvailablePolicies return value into a std::set<std::string> before returning to Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    list -> vector


Author: geoffthemedio <geoffthemedio@gmail.com>


    refactor filtering sitreps by turn and visibility for display


Author: geoffthemedio <geoffthemedio@gmail.com>


    correct / tweak hint about exobots


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add Empire::SitReps getter
    -move SitRepBegin and SitRepEnd into header, make noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -move ConditionalConnection definition into Hotkeys.h
    -list -> vector
    -for -> transform
    -replace some string copies and creations with string_view manipulations
    -use GG::KeyFromString instead of operator >>
    -use to_string(GG::Key) instead of operator <<
    -use for_each and erase(remove_if instead of raw loop


Author: geoffthemedio <geoffthemedio@gmail.com>


    -GG::EnumMap::FromString that takes an optional not_found_result parameter and reimplement operator[] using it
    -add [EnumName]FromString (eg. KeyFromString) function to GG_ENUM macro that uses EnumMap::FromString
    -make some GG::EnumMap member functions noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    -list -> vector
    -push_back -> emplace_back with move



Author: geoffthemedio <geoffthemedio@gmail.com>


    list -> vector


Author: geoffthemedio <geoffthemedio@gmail.com>


    logger grooming


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    make_shared


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment out some not very useful but slow NamedValueRef TraceLogger calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    store flag in Condition to track if initial candidates will all match


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak InitialCandidatesAllMatch of Or and And


Author: geoffthemedio <geoffthemedio@gmail.com>


    list -> vector


Author: geoffthemedio <geoffthemedio@gmail.com>


    list -> vector


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move ZList::Pick simplification
    -make ZList::m_list non-mutable


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Pt by value


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ZList::Pick ignores as vector&


Author: geoffthemedio <geoffthemedio@gmail.com>


    further simplify ZList code


Author: geoffthemedio <geoffthemedio@gmail.com>


    simplify ZList code


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove RenderOrderIterable and just return the underlying vector


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix focus_stability_effects (#4281)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix policy evaluation of AI charts (#4274)


Author: O01eg <o01eg@yandex.ru>


    Set diplomatic status from Python API (#4273)


Author: agrrr3 <axel.gross@iaeste.at>


    Add supply traversals for borders for common allies of both suppliers (#4264)
    
    Add supply traversals for borders for common allies of both suppliers - fix transitive use of allied supply


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Oct 23, 2022 - fbcb3fd)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Do not add more evacuees than sending planet's population (#4261)


Author: agrrr3 <axel.gross@iaeste.at>


    Fix stringtables: PLC_CHECKPOINTS does not change supply anymore (also fix typo) (#4263)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Remove fuel rounding hacks since meters use fixed point arithmetics (#4268)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Remove rating of continuous scanning, since it has been nerfed (#4267)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Update skeletons to recent changes (#4266)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Add More Named values for pedia (#4255)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Tweak Hyperspatial Dam (#4222)


Author: agrrr3 <axel.gross@iaeste.at>


    Make it possible to hide the kraken nests from turn 1 and 2 (#4226)
    
    monster nests are supposed to have a chance to go hidden under cloud spawns
    
    this does not work correctly for krakens (because those nests can also be created in turns 1 and 2)
    
    discussion https://www.freeorion.org/forum/viewtopic.php?p=114618#p114618
    
    this fixes this extending the possible turns and at the same time restricting to the turn after the nest was added


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Tweak stealth and distance to empire of kraken in the ice special (#4248)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Fix scattered hull pedia entry (#4254)


Author: Andrey <Cjkjvfnby@gmail.com>


    Update tests to be compatiable with Python3.10 on Ubuntu
    
    fixes #4256


Author: O01eg <o01eg@yandex.ru>


    Add support for string Statistic and ** operator


Author: Axel Groß <axel.gross@iaeste.at>


    PLC_CHECKPOINTS +20 det.str -> -20 in-supply stealth malus ; -1 supply -> +0
    
    PLC_CHECKPOINTS revamp 0.5 poll
    https://freeorion.org/forum/viewtopic.php?f=15&t=12618
    
    Changing PLC_CHECKPOINTS
    https://freeorion.org/forum/viewtopic.php?f=15&t=12593
    
    * decreases stealth of (neutral|war|peace) ships
    * works in systems with own supply (allied supply does not suffice)
    * works in own starlanes (allied supply lanes do not suffice)
    * removed supply malus
    
    * still has an influence malus per planet


Author: Axel Groß <axel.gross@iaeste.at>


    PLC_CONTINUOUS_SCANNING detection strength +20 -> +10, range +5 -> +10
    
    relevant discussion part :
    https://freeorion.org/forum/viewtopic.php?p=114378#p114378


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Clarify some policy bonuses in pedia (#4099)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Fix species modifier for Troop Techs (#4221)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Oct 13, 2022 - 7deb6f3)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Minor fixes (#4245)
    
    * Fix wrongly used constant
    * Fix comment format


Author: O01eg <o01eg@yandex.ru>


    Add SetPlanetSize, NoEffect effects, None as None condition, operation != for int


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move getters to header
    -noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    -noexcept
    -pass Pt by value


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass pair<bool, bool> by value
    -pass rather than discarding force scroll flags to check_adjust_scroll_size_change



Author: geoffthemedio <geoffthemedio@gmail.com>


    -rework / groom some trace logger lambdas
    -for to transform


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    put resource and pop centers into corresponding vectors when inserting into ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    comments and static_asserts


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass strings and Clr by value
    -pass strings and paths and Wnd pointers with std::move
    -bind to lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove undesired functions from SetWrapper


Author: geoffthemedio <geoffthemedio@gmail.com>


    rename Python API types


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    take Python list instead of vector<string> to Python API's validShipDesign


Author: geoffthemedio <geoffthemedio@gmail.com>


    -convert HotKey *Condition classes to store condition functions or Wnd pointers in std::array instead of std::list
    -uses template parameter packs to constructor and deduction guide to determine size of array from the parameter pack size
    -use std algorithms in HotKey *Condition operator() functions


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    replace list with vector for Fleet move paths


Author: O01eg <o01eg@yandex.ru>


    Add test species dump and unlock item effect


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Remove excluded policies from social options (#4238)


Author: O01eg <o01eg@yandex.ru>


    Move FocusType to use in imports and implement EmpireStockpile in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Rename Building condition to IsBuilding in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Rename EmpireStockpile condition to HasEmpireStockpile in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Remove coping globals from parsed python files


Author: O01eg <o01eg@yandex.ru>


    Remove flatten_list from species Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Remove flatten_list from Star condition's field type in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Remove flatten_list from Builing condition's field name in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Remove flatten_list from Focus condition's field type in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Remove flatten_list from HasSpecies condition's field names in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Remove flatten_list from Homeworld condition's field names in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Remove flatten_list from Planet condition's field environment in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Remove flatten_list from Planet condition's field size in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Remove flatten_list from Planet condition's field type in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Remove flatten_list from Conditional effect's fields in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Remove flatten_list from tech's field effectsgroup in parser


Author: O01eg <o01eg@yandex.ru>


    Remove flatten_list from tech's field prerequisites in parser


Author: O01eg <o01eg@yandex.ru>


    Remove deprecated set-output command from actions


Author: O01eg <o01eg@yandex.ru>


    Update actions/cache versions


Author: agrrr3 <axel.gross@iaeste.at>


    stringtable review changes
    
    Co-authored-by: Geoff <geoffthemedio@users.noreply.github.com>


Author: Axel Groß <axel.gross@iaeste.at>


    Add stealth bonus info about colonies in SPY_PLANET_STEALTH_MOD_DESC


Author: Axel Groß <axel.gross@iaeste.at>


    Support NamedInteger* in ValueRefPythonParser


Author: Axel Groß <axel.gross@iaeste.at>


    Disambiguate "round" -> "combat round" in PC_STEALTH_DESC
    
    be explicit about


Author: Axel Groß <axel.gross@iaeste.at>


    Add extra sources of detection to METER_DETECTION_VALUE_DESC


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Enable complexity check for the Python code. (#4186)


Author: O01eg <o01eg@yandex.ru>


    Add operand 'float' + 'ValueRefInt'


Author: O01eg <o01eg@yandex.ru>


    Refactor comparison operators in Python FOCS parser


Author: Andrey <Cjkjvfnby@gmail.com>


    Update Set and Vec type hints (#4234)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Refactor code generation in the skeleton generator (#4233)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Update skeleton genration to set proper rtype for Mapping  (#4227)
    
    * Add support for underscore in names
    * Fix skeleton types for mapping


Author: O01eg <o01eg@yandex.ru>


    Add SpeciesLikes and SpeciesDislikes conditions and more operations


Author: agrrr3 <axel.gross@iaeste.at>


    Add supply war info to METER_SUPPLY_VALUE_DESC (#4195)
    
    Add supply war info to METER_SUPPLY_VALUE_DESC


Author: O01eg <o01eg@yandex.ru>


    Implement remaining fields in species Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Deploy weekly test Windows installer to SourceForge


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Oct 9, 2022 - 5e36cc8)


Author: O01eg <o01eg@yandex.ru>


    Move effects checks to last at species parser test


Author: O01eg <o01eg@yandex.ru>


    Generate NSIS installer for Windows


Author: O01eg <o01eg@yandex.ru>


    Fix timeout when generate Godot API file


Author: Andrey <Cjkjvfnby@gmail.com>


    Improve return type fo AI skeletons (#4216)


Author: O01eg <o01eg@yandex.ru>


    Use separate job to generate godot API for Android CI


Author: O01eg <o01eg@yandex.ru>


    Run Godot unit tests on Manjaro with Xvfb


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix placement of solar concentrator in snowflake monster designs


Author: geoffthemedio <geoffthemedio@gmail.com>


    -further tweak allied supply merging to not give allies of allies access to networks if they aren't themselves allies, but to allow mutual allies to connect across several other allies networks
    -additional trace supply logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    boost::bind to lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store Wnd children in vector instead of list
    -replace functors with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace compile-error-causing using with lambda


Author: geoffthemedio <geoffthemedio@gmail.com>


    add rounding tests for meter


Author: geoffthemedio <geoffthemedio@gmail.com>


    -change requirement for adding supply connections to allied systems when an empire's supply propagation into the allied system is obstructed to be that the ally should have propagated supply there, rather than that there be obstructed traversals between systems in both directions.
    -iterate merging allied supply networked repeatedly
    -add more trace supply logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    additional trace logging in supply updates


Author: geoffthemedio <geoffthemedio@gmail.com>


    use std::queue for queues


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


 / moved getters / setters into header


Author: geoffthemedio <geoffthemedio@gmail.com>


    use std::queue for a queue


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace class template specialization with if constexpr



Author: geoffthemedio <geoffthemedio@gmail.com>


    check types before any_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    tpyo


Author: geoffthemedio <geoffthemedio@gmail.com>


    set game rules in AI client after extracting from game start message. hopefully addresses #4124


Author: geoffthemedio <geoffthemedio@gmail.com>


    require partial visibility to generate an object damage in combat sitrep. might address issue #3536


Author: geoffthemedio <geoffthemedio@gmail.com>


    tooltip warning about possible rule issue


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Fix upload artefact name (#4210)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Update skeleton generator doc parser (#4209)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Fix LGTM warnings (#4204)


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Add windows artefact building on master branch (#4203)


Author: O01eg <o01eg@yandex.ru>


    Add more checks for Godot unit tests


Author: agrrr3 <axel.gross@iaeste.at>


    Fix doc in EffectParser1 (#4192)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix meter rounding issues (#4206)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Add option to use conformance (#4137)
    
    * Add option to use conformance
    
    * Review update


Author: O01eg <o01eg@yandex.ru>


    Run godot unit tests in dockerized CI


Author: O01eg <o01eg@yandex.ru>


    Remove use of std::function in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Strip android libraries before packaging


Author: O01eg <o01eg@yandex.ru>


    Detect godot executable in Dockerized CI


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract tech queue header check (#4174)


Author: O01eg <o01eg@yandex.ru>


    Test build of godot client in docker CI


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Extract cmake build to action (#4180)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Text cleanup and code folding removal (#4197)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Reduce error to warning as agreed in dev meeting (#4196)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Move unused code to special function (#4185)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Pedia tweaks (#4183)
    
    * Tweak Fuel Page
    
    * Tweak Detection Strength Page
    
    * Add Stealth/Detection Modifiers for star type to Pedia
    
    * Add fleet unstealthiness penalty to pedia


Author: O01eg <o01eg@yandex.ru>


    Add Object condition, MoveTowards effect and non equal operation


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace boost::bind with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    move getter into header


Author: geoffthemedio <geoffthemedio@gmail.com>


    disable warning arising from Boost code


Author: geoffthemedio <geoffthemedio@gmail.com>


    make GG::Clr constructor from hex colour string more flexible


Author: geoffthemedio <geoffthemedio@gmail.com>


    refactor converting hex colours to array of uint8_t in EmpireManager


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store state changed signal in scoped connection
    -render BuildingIndicator scanline with a ScanlineControl so that they actually appear
    -removed redundant GetMeter


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't need separate const-lvalue-reference and rvalue-ref overloads for InstallEventFilter when the pointer is always copied



Author: geoffthemedio <geoffthemedio@gmail.com>


    -add default position and size parameter values to ScanlineControl constructor
    -reorder members
    -reposition comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    -boost::bind to lambdas
    -store connection in scoped connection
    -move BuildingsPanel ScanlineRenderer to file scope



Author: geoffthemedio <geoffthemedio@gmail.com>


    -boost::bind to lambdas
    -store connection in a scoped connection to prevent dangling reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    logging tweaks


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -reorder members to hopefully reduce padding bytes
    -move trivial getters into header and make noexcept



Author: geoffthemedio <geoffthemedio@gmail.com>


    reorder members to reduce padding bytes


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace boost::bind with lambda
    -pass string with move
    -pass and store function by const reference or with move as appropriate



Author: geoffthemedio <geoffthemedio@gmail.com>


    replace boost::bind with lambda


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some boost::bind with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some boost::bind with lambdas


Author: O01eg <o01eg@yandex.ru>


    Add WithinDistance condition to Python FOCS parser


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Oct 1, 2022 - 065f16d)


Author: O01eg <o01eg@yandex.ru>


    Implement MoveTo effect in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Autodeploy MacOS installer to SorceForge


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix inconsistant tags (#4178)


Author: O01eg <o01eg@yandex.ru>


    Add WithinStarlaneJumps condition and value ref operators


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Add skip for isort to speed it up (#4179)


Author: Andrey <Cjkjvfnby@gmail.com>


    Add cross-reference READMEs to string tables and st-tool (#4170)
    
    * Move string tables docs
    
    * Add cross-reference to the st-tool
    
    * Fix formatting


Author: Andrey <Cjkjvfnby@gmail.com>


    Bum actions and restricts some build runs (#4177)


Author: Andrey <Cjkjvfnby@gmail.com>


    [CI] Use actions for linting (#4176)


Author: O01eg <o01eg@yandex.ru>


    Change operator < to return value test instead of condition


Author: O01eg <o01eg@yandex.ru>


    Add SetStarType effect and ValueRefDouble/float operator


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI][Charting] Fix imports to avoid crashes when collecting tests (#4171)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Bump development tools versions (#4172)
    
    * Bump tools version
    * Bump pre-commit tools versions
    * Reformat make_versioncpp.py with black


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI]  Played with patch and mock to add some more tests (#4165)
    
    * Played with patch and mock to add some more tests
    
    * Review changes
    
    * More simplifications


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Rework Replicon (#4096)


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused signals


Author: geoffthemedio <geoffthemedio@gmail.com>


    store option change signals by value not shared pointer


Author: geoffthemedio <geoffthemedio@gmail.com>


    make OptionChangedSignal taking string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace ConditionalConnectOption with a lambda. should fix crash when toggling auto repositioning windows option.


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary #includes


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    logging and error-handing in GameRules::Get


Author: geoffthemedio <geoffthemedio@gmail.com>


    missing FOCS #includes for SHIP_STRUCTURE_FACTOR macro


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add operator std::string() to GG::Clr
    -move operator<<(..., Clr) into header


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak type check


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid bad any cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass some parameters by value to Orders
    -remove some [[nodiscard]] from Order Check functions
    -add Check* functions to ShipDesignOrder
    -reorder some members to hopefully improve memory layout / reduce padding



Author: geoffthemedio <geoffthemedio@gmail.com>


    reject formatting chars in names in orders


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store CUIEdit disallowed chars as string_view
    -disallow (more) formatting chars from seed, empire, and player names


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    probably fix potential bug when adopting policy without a specified slot


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    auto replacement


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: O01eg <o01eg@yandex.ru>


    Test script changes in CI


Author: O01eg <o01eg@yandex.ru>


    Start to return ValueRef::Operation instead of Condition::ValueTest


Author: O01eg <o01eg@yandex.ru>


    Accept constants in SetMeter effects


Author: O01eg <o01eg@yandex.ru>


    Implement ResourceSupplyConnected and ~Source conditions in Python FOCS parser


Merge: afcc91f47 eacd83afc
Author: Grummel7 <muzz@albatross.pond.sub.org>


    Merge pull request #4116 from Oberlus/FadingStabilityPenaltyAfterRacialPurity
    
    Rework Xenophobic species and Racial Purity, with fading effect at de-adoption


Author: O01eg <o01eg@yandex.ru>


    Parse effectsgroups field in Python species FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Add name argument to HasSpecies condition in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Parse environments field in Python species FOCS parser
    
    Also adds hash and equality operators to enum wrappers to use them as
    dict key.


Author: O01eg <o01eg@yandex.ru>


    Rename Human condition to IsHuman in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Try to package MacOS build


Author: O01eg <o01eg@yandex.ru>


    Add comparison ValueRefDouble < float
    
    Fixes TypeError: '<' not supported between instances of 'ValueRefDouble'
    and 'float'.


Author: O01eg <o01eg@yandex.ru>


    Add comparison float < ValueRefDouble
    
    Fixes TypeError: '<' not supported between instances of 'float' and 'ValueRefDouble'


Author: O01eg <o01eg@yandex.ru>


    Parse defaultfocus field in Python species FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Test build with MacOS 12


Author: O01eg <o01eg@yandex.ru>


    Add conditions Homeworld and HasSpecial


Author: Oberlus <sicofonte@gmail.com>


    Rework Xenophobic species trait and Racial Purity policy
    
    - Xenophobic penalty only to stability, based on number of planets and jump distance, affecting and being affected by other empires and unowned worlds. At distance 0, penalty is -2.5, decreasing by 0.5 by each jump away.
    
    - Racial Purity
     -- removes the penalties of harassment and frenzy between owned planets;
     -- gives +5 stability to capital species and -10 to other, slowly;
     -- gives +1 influence to influence-focused capital species;
     -- gives -1 influence to other species;
     -- gives +0.05*pop PP to industry-focused, other species;
     -- disables influence and research foci from other species;
     -- de-adopting the policy applies -10 stability penalty to owned planets, fading by -0.5 per turn.
    
    - Trith Bad->Great Influence, Great->Bad Stability and don't dislike Influence.
    
    - Eaxaw Great->Average Stability.
    
    - Temptative AI code to evaluate stability with xenophobia and racial purity


Author: Oberlus <sicofonte@gmail.com>


    Fix comments in Imperial Palace


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move Substring functions into header, make noexcept and [[nodiscard]]
    -reimplement RgbaTag with a custom ToChars function


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>



    -use unordered_map with custom hasher for GG::Clr


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    add operator uint32_t to Clr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make GetCheckSum return uint32_t
 and noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    no [[nodiscard]] void


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant glPushClientAttrib


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak tessellation levels of circles


Author: geoffthemedio <geoffthemedio@gmail.com>


    render system circles and scanlines with single GL calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use function local instead of static / file scope to store colour and depth write masks in BeginStencilClipping



Author: geoffthemedio <geoffthemedio@gmail.com>


    -quiet warning / grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    quiet warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary re-creation of offset Pt


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove single-line RenderMovementLine function
    -make buffers members of MapWnd
    -make BufferAddMoveLineVertices const
    -make BufferAddMoveLineVertices only modify passed in buffers, not (also now removed) file-scope buffers


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move HSVClr code into header
    -use constructor and conversion operator instead of Convert functions to Clr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added or tweak static with constexpr



Author: geoffthemedio <geoffthemedio@gmail.com>


    -make some GG::Clr functions constexpr, not explicitly inline, and/or noexcept
    =make HexClr a constexpr Clr constructor
    -pass Clr by value not reference
    -store star light colours in directly initialized static const container of array instead of vector



Author: geoffthemedio <geoffthemedio@gmail.com>


    make some constexpr locals static


Author: geoffthemedio <geoffthemedio@gmail.com>


    move line rendering optimization


Author: geoffthemedio <geoffthemedio@gmail.com>


    render most fleet move lines / dots with a single call instead of separate calls per line


Author: geoffthemedio <geoffthemedio@gmail.com>


    -constexpr
    -getRaw instead of get



Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass flags to ExpensiveParseFromTextToTextElements by value



Author: geoffthemedio <geoffthemedio@gmail.com>


    -only enable GLClientAndServerBufferBase::store for appropriate values per item buffers
    -avoid unnecessary division


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    init texture coords buffer once


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -templatize size of GLClientAndServerBufferBase
    -move some template implementations into header


Author: geoffthemedio <geoffthemedio@gmail.com>


    get empire colour from lookup table


Author: geoffthemedio <geoffthemedio@gmail.com>


    -preinitialize empire colony count container and reuse
    -cache empire colours


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant glLineWidth call


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass some GG::Pt by value instead of by reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    use CircleArcSegments in MapWnd rendering


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add CircleArcSegments that renders alternating segments of a full circle with fewer GL calls than repeatedly calling CircleArc with incremented angles



Merge: 8140ea641 813f2c082
Author: Grummel7 <muzz@albatross.pond.sub.org>


    Merge pull request #4143 from Grummel7/terraforming_influence
    
    Reduce influence produced by terraforming policy


Author: O01eg <o01eg@yandex.ru>


    Parse focus types for species in Python FOCS parser


Author: O01eg <o01eg@yandex.ru>


    Fix crash in processing turn due failed check for local connection


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Add SetOriginalType, use with Philosopher Planet (#4142)


Author: O01eg <o01eg@yandex.ru>


    Add FocuType to available for Python FOCS parser types


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Sep 18, 2022 - cf12a31)


Merge: fb6b608da e3b5a88cf
Author: Grummel7 <muzz@albatross.pond.sub.org>


    Merge pull request #4141 from Grummel7/halved_and_pedia
    
    Simplify stealth tech cost reduction, update pedia


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Reduce influence produced by terraforming policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    switch some declarations from char/short to (u)int8_t/(u)int16_t


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Simplified cost reduction of stealth techs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Some documentation updates


Merge: 9728d4753 75d3b5f31
Author: Grummel7 <muzz@albatross.pond.sub.org>


    Merge pull request #4138 from Grummel7/nut
    
    Give translator a fixed cost


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store DiscreteValidator values in a vector



Author: geoffthemedio <geoffthemedio@gmail.com>


    use string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    bind -> lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make Logger to/from LogLevel and name functions constexpr
    -use default_log_level_threshold as the default in a couple places
    -make LogLevel enum a uint8_t underlying type


Author: O01eg <o01eg@yandex.ru>


    Fix planet stealth tech cost


Author: O01eg <o01eg@yandex.ru>


    Parse species name and descriptions


Author: O01eg <o01eg@yandex.ru>


    Start to add species parser


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Give translator a fixed cost


Author: O01eg <o01eg@yandex.ru>


    Rename condition Species to HasSpecies


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/species/SpeciesCensusOrdering.focs


Author: O01eg <o01eg@yandex.ru>


    Add precompile headers to parsers project in CMake


Author: O01eg <o01eg@yandex.ru>


    Use same StdAfx files for MSVC 2019 and 2022 Parsers projects


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Stabilitypage (#4104)
    
    -Add independent stability trait page
    -Redo Stability Pedia Page


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove seemingly unnecessary includes


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid diagnostic warning in MSVC2019 about <bit> header


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid copies


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use MultiByteToWideChar and WideCharToMultiByte to handle command line arguments



Author: geoffthemedio <geoffthemedio@gmail.com>


    switch from deprecated codecvt to MultiByteToWideChar and WideCharToMultiByte on Windows


Author: Oberlus <sicofonte@gmail.com>


    Fix #1571: now simultaneous colonization fails (#4131)


Author: O01eg <o01eg@yandex.ru>


    Provide python parser to species parser and make it synchronous


Author: O01eg <o01eg@yandex.ru>


    Start to test species effects equality


Author: O01eg <o01eg@yandex.ru>


    Construct focus vector


Author: O01eg <o01eg@yandex.ru>


    Start to add focuses to test species


Author: O01eg <o01eg@yandex.ru>


    Add automatic deploy of Windows binaries archive


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove [[nodiscard]] from some void functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    make DumpIndent take a uint8_t


Author: geoffthemedio <geoffthemedio@gmail.com>


    -short -> int16_t
    -unsigned short -> uint16_t


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    fix OneBits missing a bit and use std::popcount if available


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework ignored warnings


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Add missing macros to Lambala'Lam (#4130)


Author: O01eg <o01eg@yandex.ru>


    Generate CMake file with version info


Author: O01eg <o01eg@yandex.ru>


    Generate CPack file names


Author: Andy Bylicki <andymenderunix@gmail.com>


    Use constexpr array for PlanetType to name matching (#4098)


Author: O01eg <o01eg@yandex.ru>


    Return Manjaro Linux to CI


Author: geoffthemedio <geoffthemedio@gmail.com>


    add /utf-8 switch to MSVC2022 x64 project file configuration


Author: O01eg <o01eg@yandex.ru>


    Add constructor taking all parameters by rvalue reference to FocusType


Author: O01eg <o01eg@yandex.ru>


    Equality test for species parser


Author: O01eg <o01eg@yandex.ru>


    Finish testing species parser with public methods


Author: O01eg <o01eg@yandex.ru>


    Add compare operations to Species


Author: geoffthemedio <geoffthemedio@gmail.com>


    add pre-filtered PediaTags to Tech


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unused Tech constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    pre-filter pedia tags


Author: geoffthemedio <geoffthemedio@gmail.com>


    return vector<int> from Empire::AvailableShipDesigns


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]] and noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]] and noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]] and noexcept


Author: O01eg <o01eg@yandex.ru>


    Build Android native libraries


Author: O01eg <o01eg@yandex.ru>


    Add Android build to CI


Author: O01eg <o01eg@yandex.ru>


    Disable manjaro until it will be fixed


Author: O01eg <o01eg@yandex.ru>


    Enforce GCC compiler


Author: O01eg <o01eg@yandex.ru>


    Fix Manjaro CI


Merge: 29a11faab 79eb92ceb
Author: Grummel7 <muzz@albatross.pond.sub.org>


    Merge pull request #4112 from Grummel7/remove_old_planet_rating
    
    [AI] Remove old planet rating code


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Removed old planet rating code


Merge: 000f16b0a 42292bc1f
Author: Grummel7 <muzz@albatross.pond.sub.org>


    Merge pull request #4106 from Grummel7/minor_stuff
    
    [AI] Minor stuff


Author: O01eg <o01eg@yandex.ru>


    Save on exit in hostless mode even if save on turn disabled


Merge: b2823821a 3a163e505
Author: Grummel7 <muzz@albatross.pond.sub.org>


    Merge pull request #4101 from Grummel7/economic_policies
    
    [AI] More work on economic policies


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Call cached functions from interface


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Also evaluate diversity and capital markets


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Review and fixes


Author: Grummel7 <muzz@albatross.pond.sub.org>


    More work on economic policies


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Improved handling of old save files (#4097)
    
    * Improved handling of old save files


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Tweak small robot RP cost in-line with commit 4085 (#4095)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Added ExpansionPlans module (#4092)


Author: Andy Bylicki <andymenderunix@gmail.com>


    Refactor Meter to Map code in ValueRefs.cpp (#4079)
    
    * Convert GetMeterNameMap to constexpr vector of pairs
    * Refactor NameToMeter and MeterToName


Author: geoffthemedio <geoffthemedio@gmail.com>


    missing #include


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Aug 22, 2022 - 20211b1)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Basic encyclopedia page for opening policy slots (#4091)


Author: MichaelCourtney <wobbly@fredvisions.com>


    Adjust tech size in python parser


Author: MichaelCourtney <wobbly@fredvisions.com>


    Update checksums


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add Small Robotic Hull


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Destroy building on creation of special (#4041)
    
    Remove Building Stability Macro from Artificial Moon


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Give xenophobes (Trith and Eaxaw) great stability (#4086)


Author: Oberlus <sicofonte@gmail.com>


    Set default tech cost to 1.0


Author: Oberlus <sicofonte@gmail.com>


    Rebalance tech costs to account for influence-constrained growth


Author: Oberlus <sicofonte@gmail.com>


    Make research cost 1 for techs unlocked at start


Author: MichaelCourtney <wobbly@fredvisions.com>


    Give Krakens extra stealth on Gas Giants


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add Solar Concentrators to snowflakes


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add missing [[SHIP_WEAPON_DAMAGE_FACTOR]] to solar concentrators


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Ignore ghost building in enqueuelocation (#4053)


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove old TODO


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass full ScriptingContext to UpdateStatRecords


Author: geoffthemedio <geoffthemedio@gmail.com>


    try to fix possible pointer to temporary issue


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass MeterType when zooming to MeterType article
    -use charconv or lexical_cast for string to int conversion


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove outdated ship hull Python starlaneSpeed property


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some unsigned char with uint8_t


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass objects rather than IDs into CreateCombatDamagedObjectSitRep and CreateCombatDestroyedObjectSitRep
    -replace dynamic cast with object type check and static cast
    -forward current turn to CreateCombatSitRep


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid temporary string construction


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    use find_if to avoid constructing a temporary string


Author: geoffthemedio <geoffthemedio@gmail.com>


    use allExisting to get a source object for an empire


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass current turn to AgeInTurns
    -use context.current_turn in place of CurrentTurn calls
    -noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass current turn instead of calling free CurrentTurn() function
 / noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    -get SpeciesManager and SupplyManager from context, client, or server rather than free functions

    -TODO comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass EmpireManager to InitEmpires


Author: geoffthemedio <geoffthemedio@gmail.com>


    access empires, universe, etc. explicitly through server or client objects


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -make AddSpecial and SetSpecialCapacity non-virtual and take a turn number parameter
    -move strings


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    add more validation to RenameOrder


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add limits to RenameOrder for length of name and what characters can be used
    -moving simple getters into header



Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    #include tweaks


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    switch Dump parameter to uint8_t


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some unsigned char with uint8_t in GG::Clr


Author: geoffthemedio <geoffthemedio@gmail.com>


    size_t -> std::size_t


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move some getters into header
    -make some getters noexcept and [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    actually return IP address


Author: geoffthemedio <geoffthemedio@gmail.com>


    use getRaw


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused linear_distance parameter from ShortestPathImpl


Author: geoffthemedio <geoffthemedio@gmail.com>


    reserve


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    make trivial functions noexcept and move into header


Author: O01eg <o01eg@yandex.ru>


    Add more checks to species parser test


Author: O01eg <o01eg@yandex.ru>


    Start to test species in separate test folder
    
    Named value ref lookups was changed to their values and absolute include
    path was changed to relative so changes in real scripts don't break
    test.


Author: O01eg <o01eg@yandex.ru>


    Fix researchability of tech Planetary Cloaking Device


Author: geoffthemedio <geoffthemedio@gmail.com>


    MSVC2022 x64 project file tweaks


Author: O01eg <o01eg@yandex.ru>


    Remove unused tokens


Author: O01eg <o01eg@yandex.ru>


    Remove unused macroses


Author: O01eg <o01eg@yandex.ru>


    Remove old FOCS tech parser


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Add functions to read game rules and use stability rules (#4078)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Update Shield/Structure/Damage numbers in pedia (#4038)


Author: Oberlus <sicofonte@gmail.com>


    Reduce bonus and malus from influence species trait (#4067)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Reduce ARTISANS_INFLUENCE_FLAT_FOCUS to 2 (#4076)


Author: Oberlus <sicofonte@gmail.com>


    Remove Narrow tolerance description from Trith (#4069)


Author: O01eg <o01eg@yandex.ru>


    Start to test species parser
    
    Also adds named values parser to speed up parse.


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix reordering of objects when moving between sets that lead to corresponding mask values of those objects getting out of sync with the objects. instead use separate iterator to track where to put the next object that is kept in the source set.


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove NoOp condition


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix reordering of objects when moving between sets that lead to corresponding property values of those objects getting out of sync with the objects. instead use separate iterator to track where to put the next object that is kept in the source set.


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unneeded forward declaration and #include


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace visitors with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace visitors with lambdas
    -remove unneded #includes


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused struct


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace visitor with lambda


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace visitors with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace MovingFleetVisitor with lambdas
    -replace NotInSetVisitor and NotInSetsVisitor with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unused empire_id parameter and add destroyed flag to ObjectMap::insert and insertCore
    -use that flag instead of looking up whether an empire knows if an object has been destroyed
    -determine what to pass for that flag at the call site


Author: geoffthemedio <geoffthemedio@gmail.com>


    store damaged and destroyed object IDs and knowers in unordered_set


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused CombatInfo get info to serialize functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused serialize for CombatInfo


Author: geoffthemedio <geoffthemedio@gmail.com>


    append strings instead of a mix of += and +


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused struct definition


Author: geoffthemedio <geoffthemedio@gmail.com>


    dynamic_cast -> static_cast after already checking object type


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove double-adding of fighters to combat objects from 62e6edc17f2
    -refactor AddAllObjectsSet to AddObjects that takes a set of object ids to exclude
    -pass destroyed object IDs as objects to exclude
    -add some trace logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't try to access mutable EmpireManager from ScriptingContext that doesn't have one


Author: geoffthemedio <geoffthemedio@gmail.com>


    use allExistingRaw() for initializing Condition target sets


Author: geoffthemedio <geoffthemedio@gmail.com>


    store vector<const UniverseObject*> in ObjectMap, accessible via allExistingRaw()


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Aug 14, 2022 - d4a2a03)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Replace hardcoded value with named_reals (#4077)


Author: O01eg <o01eg@yandex.ru>


    Add brackets around ValueRef::Operation


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add Game Rules for Planet Size


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add Game Rule Environment Stability Modifiers


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add Game Rule for Imperial Palace Influence Generation


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add Game Rule for Protection Focus Stability


Author: MichaelCourtney <wobbly@fredvisions.com>


    Split Balance Game Rules into Multiple Option Tabs
    Change Game Rule Baseline Stability to type=int


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Disable chat reaction while debug chat is used (#4074)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Minor stuff (#4073)
    
    * Fix debug chat help message
    * Replaced hardcode value duplicate
    * Do not overrate early research


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/ROOT_DECEPTION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/STEALTH_PART_3.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/STEALTH_PART_2.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/STEALTH_PART_1.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/STEALTH_4.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/STEALTH_3.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/STEALTH_2.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/STEALTH_1.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Do not consider Exobot immediately (#4065)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/PLANET_STEALTH_MOD.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/FORCE_ENERGY_CAMO.focs


Author: Andy Bylicki <andymenderunix@gmail.com>


    Fix minor code smells (#4046)
    
    * Make sure tags are unique
    * Change 'count' to unsigned int
    * Simplify tags filtering in ShipDesign


Author: geoffthemedio <geoffthemedio@gmail.com>


    also check for root candidate invariance if no root candidate is defined


Author: geoffthemedio <geoffthemedio@gmail.com>


    DebugLogger -> TraceLogger


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/LIGHTHOUSE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/DISTORT_MODU.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/DETECT_5.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/DETECT_4.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/DETECT_3.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/DETECT_2.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/DETECT_1.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/spy/CUSTOM_ADVISORIES.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    move capital ids when moving EmpireManager


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix safety checks for inconsistent ValueTest comparison type and 3rd reference


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/specials/COL_MISIORLA.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/specials/COL_KILANDOW.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/specials/COL_BANFORO.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/SHP_ROOT_AGGRESSION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/SHP_NOVA_BOMB.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/SHP_KRILL_SPAWN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_4_4.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_4_3.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_4_2.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_4_1.focs


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    On par with latest en.txt (Aug 6, 2022 - c08e7d4)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_3_4.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_3_3.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_3_2.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_3_1.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_2_4.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Also nullify influence when evacuating a planet (#4044)


Author: O01eg <o01eg@yandex.ru>


    Remove Py_Finalize() according to boost.python notes (#4024)
    
    See https://www.boost.org/doc/libs/1_69_0/libs/python/doc/html/tutorial/tutorial/embedding.html


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Fluff Trenchers (#4039)


Author: geoffthemedio <geoffthemedio@gmail.com>


    set System m_system_id to object's own ID when loading


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fix probable bug with Condition::Type::GetDefaultInitialCandidateObjects, where if a complicated expression was used for the type, it looked like nothing would be returned
    -rework Capital::GetDefaultInitialCandidateObjects


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store vector of empire capital IDs in EmpireManager
    -replace CapitalSimpleMatch with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store empire ids as vector<int> in EmpireManager to avoid having to regenerate it upon request
    -move some simple getter implementations into header and make noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    improve Racial Purity description


Author: geoffthemedio <geoffthemedio@gmail.com>


    quiet warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    quiet warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add SpeciesLikes and SpeciesDislikes conditions that should be a bit faster than the previously-used ValueTest equivalent
    -add early abort in SpeciesOpinion if there is just one candidate
    -use GetSpeciesUnchecked


Author: geoffthemedio <geoffthemedio@gmail.com>


    add unchecked getter to SpeciesManager


Author: geoffthemedio <geoffthemedio@gmail.com>


    quiet unused variable warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass names to HomeworldSimpleMatch by const reference
    -use std::any_of instead of for loops


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move ObjectMap::size definition to at declaration
    -mark ObjectMap::Map as noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace boost::algorithm::all_of with std::all_of


Author: geoffthemedio <geoffthemedio@gmail.com>


    -noexcept and move getters into header
    -rework how System sets its system ID to its own ID, making UniverseObject::SystemID not virtual, but making UniverseObject::SetID virtual


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused typedefs


Author: geoffthemedio <geoffthemedio@gmail.com>


    move ObjectMap::empty() into header and make noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    forwarding parameter


Author: geoffthemedio <geoffthemedio@gmail.com>


    return reference to self from operator+= and operator-=


Author: geoffthemedio <geoffthemedio@gmail.com>


    add some noexcept and [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    lazy updating ResearchWnd


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework ValueTest::Eval to avoid repeated evaluations of valuerefs when not necessary


Author: O01eg <o01eg@yandex.ru>


    Try to fix parser error with python 3.11.


Author: O01eg <o01eg@yandex.ru>


    Add CI test for Fedora Rawhide with recent 3.11 python


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Do not invade allies (#4037)
    
    * AI function to query diplomatic status
    * Do not consider friendly planets as invasion targets
    * Use playerIsAI to identify the human player
    * Do not consider allies as threats


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_2_3.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_2_2.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_2_1.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_1_4.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_1_3.focs


Author: O01eg <o01eg@yandex.ru>


    Add CI test for Manjaro with fresh 1.79 boost


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_WEAPON_1_2.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_SPINAL_ANTIMATTER.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_SPACE_FLUX_BASICS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_SOLAR_CONNECTION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_ORGANIC_WAR_ADAPTION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/short_range/SHP_ARC_DISRUPTOR.focs


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Make Asteroid Coating Special Rarer (#4032)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fixed bad index when ganging up (#4029)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/fighters/SHP_FIGHTERS_4.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/fighters/SHP_FIGHTERS_3.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/fighters/SHP_FIGHTERS_2.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Allow AIs to gang up on a configured turn (#4028)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/fighters/SHP_FIGHTERS_1.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_VOID_SHADOW.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_SONIC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_GRV.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_EMP.focs


Author: O01eg <o01eg@yandex.ru>


    Stop auto-advance turn on error


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix role detection for orbital defense (#4023)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace Visitor with lambda
    -replace for loops with transform
    -use sorted / uniqued vector instead of set


Author: geoffthemedio <geoffthemedio@gmail.com>


    move #include into .cpp


Author: geoffthemedio <geoffthemedio@gmail.com>


    templatize ObjectMap::findRaw


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace visitor with lambda in ProductionQueue::StockpileCapacity


Author: geoffthemedio <geoffthemedio@gmail.com>


    -extend ObjectMap::CheckTypes to identify int ID ranges
    -templatize ObjectMap::find
    -make ObjectMap::find return types based on decay_t
    -replace some remove_const_t with decay_t


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace visitors with lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    make ObjectMap::findIDs accept either a visitor or predicate


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move checking predicate type in ObjectMap into a separate function
    -make ObjectMap::count accept either a visitor or predicate


Author: geoffthemedio <geoffthemedio@gmail.com>


    make ObjectMap::check_if_any accept either a visitor or predicate


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment out or remove some TraceLogger calls in Condition::Eval functions that substantially impede performance with the threaded logger


Author: geoffthemedio <geoffthemedio@gmail.com>


    store destroyed and stale object ids in unordered_set instead of set


Author: geoffthemedio <geoffthemedio@gmail.com>


    templatize NotInSetsVisitor and add single-set NotInSetVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    add ObjectMap::allWithIDs functions that provide direct access to the object IDs in the map keys, which are useful when filtering ranges based on object ID without need to look it up via the object pointer


Author: geoffthemedio <geoffthemedio@gmail.com>


    iterate over all systems on server when updating monster travel restrictions. checking for / excluding destroyed objects should be redundant in this case.


Author: geoffthemedio <geoffthemedio@gmail.com>


    use raw pointers


Author: geoffthemedio <geoffthemedio@gmail.com>


    -consolidate ObjectMap::Existing* functions into a single templated allExisting function
    -rename ExistingObject to getExisting


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove ObjectMap::SwapMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment about not-helpful attempted optimization


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace MatchHelper with lambda


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_EMO.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_DEATH_SPORE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_DARK_RAY.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_CHAOS_WAVE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_BOMBARD.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_weapons/bombard/SHP_BIOTERM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/speed/SHP_SINGULATIRY_ENGINE_CORE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/speed/SHP_N_DIMENSIONAL_ENGINE_MATRIX.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/speed/SHP_IMPROVED_ENGINE_COUPLINGS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/shield/SHP_PLASMA_SHIELD.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Do not calculate colonization values twice (#4020)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Use multipage layout for charts(#3978)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix check for available slots (#4013)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix description of great/ult. shields (#4012)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/shield/SHP_MULTISPEC_SHIELD.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/shield/SHP_DEFLECTOR_SHIELD.focs


Author: O01eg <o01eg@yandex.ru>


    default/scripting/techs/ship_parts/shield/SHP_BLACKSHIELD.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/fuel/SHP_ZERO_POINT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/fuel/SHP_DEUTERIUM_TANK.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/fuel/SHP_ANTIMATTER_TANK.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Rename building type base class and use it for annotation (#4014)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/damage_control/SHP_REINFORCED_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/damage_control/SHP_FLEET_REPAIR.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/damage_control/SHP_BASIC_DAM_CONT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/damage_control/SHP_ADV_DAM_CONT.focs


Author: O01eg <o01eg@yandex.ru>


    Raise MacOS version in CI to 11


Author: O01eg <o01eg@yandex.ru>


    Test Ubuntu Kinetic build with gcc-12


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/armor/SHP_ZORTRIUM_PLATE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/armor/SHP_XENTRONIUM_PLATE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/armor/SHP_ROOT_ARMOR.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_parts/armor/SHP_DIAMOND_PLATE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/spatial_flux/SHP_SPACE_FLUX_DRIVE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/spatial_flux/SHP_SPACE_FLUX_COMPOSITION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/spatial_flux/SHP_SPACE_FLUX_BUBBLE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/robotic/SHP_TRANSSPACE_DRIVE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/robotic/SHP_NANOROBO_MAINT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/robotic/SHP_MIL_ROBO_CONT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/robotic/SHP_MIDCOMB_LOG.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/robotic/SHP_MASSPROP_SPEC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/robotic/SHP_CONTGRAV_MAINT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_SENT_HULL.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Adapt for no longer parallel colony buildings (#4002)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] annotations (#4003)


Author: O01eg <o01eg@yandex.ru>


    Change test ubuntu version to 22.10


Author: O01eg <o01eg@yandex.ru>


    Use other brackets for *Cast type information
    
    With angle brackets it's treats as tags by GG parser and breaks
    encyclopedia pages.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] adaption for new species shield traits (#3999)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_ORG_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_MULTICELL_CAST.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_MONOCELL_EXP.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_ENDOCRINE_SYSTEMS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_ENDOCRINE_SYSTEMS.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Block enqueuing more than one of any colony building on a planet (#3994)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    comment and simplified gaia transformation


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix exclusions for gaia and terraforming building


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 25, 2022 - 4b2297a)


Author: Geoff <geoffthemedio@users.noreply.github.com>


    remove unused string that was removed from en.txt (#3997)


Author: agrrr3 <axel.gross@iaeste.at>


    Add NamedString and NamedStringLookup for FOCS (#3987)
    
    * NamedString declaration can be used in named_values.focs.txt
    * NamedString can be used in any FOCS file (named in the middle)
    * NamedStringLookup can be used in any FOCS file


Author: Axel Gross <axel.gross@iaeste.at>


    Remove reference in log to invariants in case of failing named ValueRef lookup
    
    There was a reference to github issue (#3225 / indeterministic initialisation of UniverseObject invariants) when logging an error for failed named ValueRef lookup
    "This should not happen if looking in the right registry once \"#3225 Refactor initialisation of invariants in value refs to happen after parsing\" is implemented"
    
    Initialisation of invariants does not affect the registration (currently) - so even if it is done suboptimally/undeterministic (or if it gets changed in a later pass
    in order to make it optimal/deterministic) its unrelated.
    Only if we made registration of named values lazy (until the invariant is known) there might be connection.
    So meanwhile we remove this.


Author: Axel Groß <axel.gross@iaeste.at>


    Log to debug (instead warn) if named ValueRef lookup fails if it is possible lookup happens in the wrong registry.


Author: agrrr3 <axel.gross@iaeste.at>


    Rename fighter tech label to numeric (instead of Laser, Plasma, DR.. Fighters) (#3989)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Add Game rule for minimum monster starting distance (#3988)


Author: agrrr3 <axel.gross@iaeste.at>


    Apply SPATIAL_FLUX_STEALTH_TECH_BONUS boost for all tech upgrades (#3990)
    
    * fixes bug found by Oberlus
      https://freeorion.org/forum/viewtopic.php?p=112255&sid=6279f996d237f31db727cac11366812b#p112255
      Only SPY_STEALTH_PART_1 was multiplied by SPATIAL_FLUX_STEALTH_TECH_BONUS.
      Now also the others are multiplied


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Species Ship Shield Trait scaled by shield part (#3979)


Author: geoffthemedio <geoffthemedio@gmail.com>


    make CompareTypeString constexpr and return string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    -templatize ValueTest Comparison helper function
    -move testing of subsets of refs into a lambda


Author: geoffthemedio <geoffthemedio@gmail.com>


    add additional cases for ValueTest simple evaluation


Author: geoffthemedio <geoffthemedio@gmail.com>


    make pedia search dir strings constexpr and move near use and remove redundant loop


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove default parameter value comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweak returned types of ObjectMap::all and ObjectMap::allRaw
    -add some static_assert tests for those types
    -move ObjectMap::Map implementations into header
    -move ObjectMap::SwapMap implementation into header


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove Condition::Eval code path using reinterpret_cast when matching a TargetSet and instead copy to a ObjectSet and back
    -refactor Condition::Eval overloads that matched into an input/output parameter to instead return an ObjectSet or TargetSet of matches
    -fix probable bug in ContainedBy::Match where an ObjectSet of candidates to match was being passed in, but ignored and replaced with any matches of the subcondition
    -remove Statistic::GetConditionMatches as a separate function



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    skip redundant copy-init since the ObjectSet will be cleared in subsequent Eval call anyway


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 14, 2022 - f327265)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_CONT_SYMB.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_CONT_BIOADAPT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/organic/SHP_BIOADAPTIVE_SPEC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_SOLAR_CONT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_QUANT_ENRG_MAG.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_FRC_ENRG_COMP.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_ENRG_FRIGATE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/energy/SHP_ENRG_BOUND_MAN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_SCAT_AST_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_MONOMOLEC_LATTIC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_MINIAST_SWARM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_HEAVY_AST_HULL.focs.py


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_CAMO_AST_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_ASTEROID_REFORM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/asteroid/SHP_ASTEROID_HULLS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/SHP_XENTRONIUM_HULL.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/SHP_GAL_EXPLO.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    add Elapsed getters to ScopedTimer


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Limit supply penalty for independant species (#3980)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix evaluation of capital species (#3982)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Make changes in MaxPopulation affect growth without delay (#3817)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] cleanup production 3 (#3975)
    
    * Remove redundant try-except
    * Remove type check introduced 10 years ago
    * Extract building queue names to separate function


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Small pedia fixes (#3969)
    
    * Update Interstellar logistics, it no longer increases speed without a policy
    * Update Organic Hull description
    * Add page for sneaky species
    * Document that Psychogenic Domination cannot take over domesticated space monsters Fixes #2840


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Updated tech short descriptions (#3946)


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant std::move for raw pointers


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replacing std::copy and std::move with insert
    -remove redundant std::move calls for raw pointers
    -use vector<uint8_t> instead of vector<bool>


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    replace shared_ptr with raw pointers in various ScriptingContext, Condition, Effect, etc. code


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak some UTF8 micro/mu tests


Author: Andrey <Cjkjvfnby@gmail.com>


    Split loop to get capital building and get allocations (#3972)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Simplify production orders (#3971)
    
    Inline variables that could be accessed from any line of code, will greatly simplify the extraction of code parts to functions.


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Give white krakens a tentacle attack (#3968)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Remove duplicated dependency and improvments (#3963)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unnecessary temporary
    -use lambda instead of boost::bind


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add safety check in Fleet::SetRoute for an empty route before attempting to access its contents
    -output error messages rather than throwing
    -remove seemingly pointless UnknownRoute() check in Fleet::SetRoute


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Use forgotten supply factor (#3966)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/ROBOTIC_PROD.focs


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix artifact name for github build  (#3951)


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix return type for skeleton (#3965)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Some fixes and a rough adaption of the invasion rating (#3964)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Rework species tags (#3952)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/ship_hulls/SHP_DOMESTIC_MONSTER.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/ZERO_GEN.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework meter XML serialization to use a single string rather than structured boost serialization format


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add ToChars and FromChars to Meter
    -use ToChars and FromChars for Meter::serialize


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store Meter internally as int
    -add specialized Meter::serializae specializations for XML archives


Author: hifron <ondrej.riha@outlook.com>


    adding cmake build directory to .gitignore on Windows(VS Code) (#3954)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/VOID_PREDICTION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/TRANS_DESIGN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/SOLAR_ORB_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/SINGULAR_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/SENTIENT_AUTOMATION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/PREDICTIVE_STOCKPILING.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/ORBITAL_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/NEUTRONIUM_EXTRACTION.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/N_DIM_ASSEM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/NANOTECH_PROD.focs


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Break dependency of buildings on empire (#3949)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Planet rating (#3916)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    * split getNamedValue to getNamedReal/Int in the Python API, which return 0 when no such named reference exists rather than a Python none object (#3879)
    
    * in Python get_named_int and get_named_real wrappers, check that the requested reference exists before evaluating, and return 1 if it doesn't
    * Allow AI to enqueue a building that cannot be produced at yet


Author: Andrey <Cjkjvfnby@gmail.com>


    Add unique name for binary artefact (#3950)


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix checked type


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Fix building iteration (#3948)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Refactor building enums (#3908)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -try-catch around more message Extract calls
    -call UserStringNop instead of UserString when creating ErrorMessage
    -pass and put ModeratorAction into unique_ptr rather than relying on calling code to delete


Author: geoffthemedio <geoffthemedio@gmail.com>


    wrap message Extract functions in try-catch blocks


Author: geoffthemedio <geoffthemedio@gmail.com>


    save message type before potentially modifying while reacting to it


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    reinitialize system graph after moderator actions that could have modified it, preventing a crash when adding systems with a moderator action


Author: geoffthemedio <geoffthemedio@gmail.com>


    indenting


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment out do-nothing pedia text generation for species empire opinions


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use findRaw and getRaw to store raw pointers instead of shared_ptr
    -other grooming


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    add findRaw functions to ObjectMap


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Removed some unused interface functions (#3945)


Author: agrrr3 <axel.gross@iaeste.at>


    Increase growth by 25% (#3621)
    
    Before introducing growth policy in 5c9b5023f00e047f1b33e260677a13f21d4f6c2b,
        base growth factor was 0.01
        Then it was 0.005, but one could improve it by 50% using the policy
    
     The new formula introduced in  6a9b32fec516bc2fa0a37f2d079e204948456a17 (#3703)
        divided growth by target population and had base growth factor 0.08
        i.e. it is the same as 0.005 for the previous formula, if the planet has a max population of 16
        for smaller planets it is faster and for bigger planets it is even slower.
    
     This commit increases base growth by 25% (this might be still a little bit low)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 1, 2022 - c27a4f3)


Author: Andrey <Cjkjvfnby@gmail.com>


    Update skeleton generator (#3943)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [Fix] Avoid division by zero (#3944)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Refactor bonus calculation, fix check (#3942)
    
    * Move bonus calculation to the separate class
    * Fix logic
    * Update usages


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] calculate research and stability, tech_soon_available (#3939)


Author: aschuch247 <aschuch247@gmail.com>


    Fix typo of 'content'. (#3941)


Author: O01eg <o01eg@yandex.ru>


    Add dependencies data to HOST_* messages (#3887)
    
    Make it same as JOIN_GAME message


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Impove chart view (#3940)
    
    - Add interactive zoom/scrolling.
    - Allow selecting empire line.
    - Fix log span for charting.


Author: geoffthemedio <geoffthemedio@gmail.com>


    condense setting up stream compression


Author: Matthew Lam <sudfiwe@gmail.com>


    Message compression
    
    Add compression for large messages. Disable compression for localhost clients. Based on #3870.


Author: O01eg <o01eg@yandex.ru>


    Force to reset after finish message


Author: O01eg <o01eg@yandex.ru>


    Add compression level parameter


Author: O01eg <o01eg@yandex.ru>


    Compress GAME_START message


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Add policies to charting (#3914)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make locales thread_local
    -return by reference to avoid copy
    -make "en_US.UTF-8" the default


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add GG::Font::Substring::operator!=
    -make some string constants contexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass string_view rather than const references
    -return vector instead of set
    -simplify ExtractWords, without seemingly redundant checks for empty words
    -add FindWordsStringViews that avoids need to separately construct the views
    -replace for loops with transform calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace lexical_cast with ToInt


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't determine a default location or append production / cost info to article text for BuildingType when requested to output description only


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    add constexpr locale-independent string-to-int converter that is independent of the charconv C++ library functions that aren't universally available


Author: geoffthemedio <geoffthemedio@gmail.com>


    -in pedia code, add ToInt and ToChars functions that use std::to_chars or std::from_chars if available
    -use ToInt or ToChars in some places


Author: geoffthemedio <geoffthemedio@gmail.com>


    -limit number of missing string stack to 3 instead of 10
 in RomanNumber


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>



    -comment tweak


Author: geoffthemedio <geoffthemedio@gmail.com>


    -revert to storing the results of GetSortedPediaDirEntires in strings instead of partly in string_view since all parts are in some cases generated dynamically within the function, and thus can't be pointed to after it returns
 / comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    only list orders of client empire on client empire's pedia page, not all empires' pages


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't move from string that was passed as a view to an async call
    -use a mutex-guarded map to hold strings returned as views / references
    -rewrite UTF8 character as an escape code
    -add safety checks / error logging if getting an invalid UTF8 string when processing pedia entries during search


Author: geoffthemedio <geoffthemedio@gmail.com>


    wrap regex / utf8_wchar_iterator use in try-catch block in FindWordsStringIndices


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add CustomToLower function that does case conversion for case-insensitive text searches much faster (but somewhat limited compared to) the Boost to_lower function
    -use boost::locale::to_lower if not all the characters in a string are handled by CustomToLower
    -use boost::locale::to_lower instead of boost::algorithm::to_lower, as the latter fails for some characters


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    MSVC compatible C++ version check in utf8 code


Author: geoffthemedio <geoffthemedio@gmail.com>


    -updated to utf8 library 3.2.1
    -added additional template type to utf8::iterator in order to replace the GG-custom wchar_iterator that GUI.cpp uses


Author: Oberlus <sicofonte@gmail.com>


    Add NamedValues to Nebula, Ion Storm and Molecular Cloud for Pedia (#3931)
    
    NamedValues for Nebula, Ion Storm and Molecular Cloud for Pedia


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update README.md
    
    minor text tweaks


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Make Mu Ursh more playable (#3915)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Load python code after rule parsing is done (#3936)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/MICRO_MANUF.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix documentation of technocracy (#3935)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] calculate_production.py (#3934)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/INTERSTELLAR_ENTANGLEMENT_FACTORY.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/INDUSTRY_CENTER_III.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/INDUSTRY_CENTER_II.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/INDUSTRY_CENTER_I.focs


Author: Geoff <geoffthemedio@users.noreply.github.com>


    bump CodeQL version to v2 due to deprecation of v1 (#3933)


Author: Morlic-fo <Morlic@gmx.de>


    Fix Linter


Author: Morlic-fo <Morlic@gmx.de>


    Move AI Aggression handling from C++ to python code


Author: Morlic-fo <Morlic@gmx.de>


    Set special save_state_string to allow handling special cases.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Added within_n_jumps plus annotation (#3923)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix success check of _adopt, plus annotation (#3930)


Author: geoffthemedio <geoffthemedio@gmail.com>


    set /utf-8 flags for MSVC builds


Author: O01eg <o01eg@yandex.ru>


    Set python version to 3.7 in format checks


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/GENERIC_SUPPLIES.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/FUSION_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/EXOBOTS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/production/ADAPTIVE_AUTOMATION.focs


Author: O01eg <o01eg@yandex.ru>


    Add comment to dump about use of StaticCast and StringCast


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jun 13, 2022 - 7dd1d6e)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Added helper functions for names values and stability modifier (#3918)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    More buildings and one more function, (#3924)


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix log file detection for charting (#3917)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Added helper functions to query supply groups (#3921)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Added world tree and ast. coating to empire resources. (#3919)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    New AI interface function to query supply groups (#3920)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/TRANSCEND.focs


Author: shikoba-hn <106869459+shikoba-hn@users.noreply.github.com>


    Add missing include


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/XENO_ARCH.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/UNIFIED_CONC.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/TRANSLING_THOUGHT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/TEMPORAL_MECH.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    update include to silence deprecation warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    update include to silence deprecation warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    disable warning arising from Boost includes for python parser file


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move workarounds for Boost 1.79 include error into Parsers StdAfx.h
    -restore MSVC2022 Parsers project to C++20 standard


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix potentially returning reference to temporary


Author: Vezzra <vezzra@gmx.net>


    Add boost_atomic DLL to Windows installer package


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Generate skeletons compatiable with black (#3903)


Author: O01eg <o01eg@yandex.ru>


    Lower used language standart


Author: O01eg <o01eg@yandex.ru>


    Add MS VS 2022 project test to Github Actions CI


Author: O01eg <o01eg@yandex.ru>


    Use SDK v13 and Python 3.7


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/STELLAR_TOMOGRAPHY.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/SPATIAL_DISTORT_GEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/QUANT_NET.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Changed Bureaucracy after forum discussion. (#3844)
    
    * Changed Bureaucracy after forum discussion https://www.freeorion.org/forum/viewtopic.php?f=28&t=12420&sid=ccc146868760118459489fbe4702cf9a.
    * Also removed strings from fr.txt
    * Fix order between bureaucracy and dream recursion
    * Unlock Reg Admin by Bureaucracy, not Centralization


Author: Andrey <Cjkjvfnby@gmail.com>


    Do not exclude snap on snap changes


Author: Andrey <Cjkjvfnby@gmail.com>


    Do not run workflow if no C++ files changed


Author: geoffthemedio <geoffthemedio@gmail.com>


    -LeastJumpsPath returns a vector<int> instead of list<int>
    -replaced some typedefs with auto
    -just use input system ID instead of reverse looking up the system 1 index


Author: geoffthemedio <geoffthemedio@gmail.com>


    expose Fleet route to Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    -return vector<int> from ShortestPath
    -store and pass Fleet travel route as vector<int>


Author: geoffthemedio <geoffthemedio@gmail.com>


    use boost::circular_buffer to build shortest path


Author: geoffthemedio <geoffthemedio@gmail.com>


    implement single-candidate WithinJumps


Author: geoffthemedio <geoffthemedio@gmail.com>


    simpler vector init


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fix WithinJumps, which seemed to be always returning just the source system
    -return vector<int> instead of unordered_set<int>
    -add not-yet-implemented single-search system overload for WithinJumps


Author: geoffthemedio <geoffthemedio@gmail.com>


    -ImmediateNeighbors returns vector instead of multimap. unsorted result should be OK as it wasn't used except by AI API, which doesn't appear to care if the result is sorted.
    -default initialize the PathFinder graph pointer and remove the defined constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    make UniverseObject::Type non-virtual


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Rename log dumper to statistic (#3896)


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Remove duplicate getTechCategories from Python API (#3897)


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/PSY_DOM.focs


Author: Andrey <Cjkjvfnby@gmail.com>


    Update log dumper (#3895)
    
    - drop python compatibility with previous logs
    - drop custom deserialization for specific kyes, and make it more general
    - fix colors for empire plots
    - move the player name to the sidebar


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/DISTRIB_THOUGHT.focs


Author: O01eg <o01eg@yandex.ru>


    Rename If to Conditional in python parser


Author: O01eg <o01eg@yandex.ru>


    Rename Min, Max operations to MinOf, MaxOf in python parser
    
    This change allows to not conflict with statistic type enums.


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid lexical_cast for enum MeterType


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    store specials in SpecialManager in vectors


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    make UniverseObject::m_specials a flat_map


Author: geoffthemedio <geoffthemedio@gmail.com>


, structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    use std::transform


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    use HasSpecial


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix not-updated copy-paste error


Author: geoffthemedio <geoffthemedio@gmail.com>


    use derived rather than explicit char type


Author: geoffthemedio <geoffthemedio@gmail.com>


    -take string_view
    -move trivial getter definitions into header


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/PSIONICS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/PHYSICAL_BRAIN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/N_DIM_SUBSPACE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/NASCENT_AI.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/MIND_VOID.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/GRAVITONICS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/GATEWAY_VOID.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/FORCE_FIELD.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/EVERYTHING.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/ENCLAVE_VOID.focs


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update BUILD.md
    
    typo


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update BUILD.md
    
    clarify applicability of these instructions


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update BUILD.md
    
    -fix link to SDK v12
    -add note about MSVC platform configuration


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/COLLAPSER.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/learning/ART_BLACK_HOLE.focs


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update BUILD.md
    
    requires Boost 1.69


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/TRANSORG_SENT.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    always return same retval to hopefully improve return value optimization


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplement StringCast::Eval to handle various cases / handle them without lexical_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    use transform


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use FO_ENUM for Networking::ClientType
    -remove operator<< for Networking::ClientType
    -use to_string for NetWorking::ClientType instead of lexical_cast
    -cast to size_t instead of int for bitset size and index


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    explicit copy to string and return the result of glGetString(GL_VERSION)


Author: geoffthemedio <geoffthemedio@gmail.com>


    add (EnumType)FromString functions to FO_ENUM that convert a string_view to an enum value. Also takes an optional fallback enum value to return if the passed-in string_view isn't found in the enum's string representations.


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/XENO_HYBRIDS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/XENO_GENETICS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/TERRAFORM.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/SYMBIOTIC_BIO.focs


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jun 5, 2022 - c0a9b2a)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    AI: minor tweaks and fixes (#3882)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Added policy population (#3883)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -rework caching of planet environment (type) pedia banner filenames, including resetting when the resource directory changes
    -don't cast pedia history string to int if the history type doesn't match in EncyclopediaDetailPanel::SetPlanet


Author: geoffthemedio <geoffthemedio@gmail.com>


    -rename BLOCK_FACTORY_MAP to BlockFactoryMap



Author: geoffthemedio <geoffthemedio@gmail.com>


    ClientUI icon getters take string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string by value and move


Author: O01eg <o01eg@yandex.ru>


    Try to fix LGTM error


Author: O01eg <o01eg@yandex.ru>


    Add runtime dependencies


Author: O01eg <o01eg@yandex.ru>


    Pack freeorion windows binary


Author: geoffthemedio <geoffthemedio@gmail.com>


    indenting


Author: geoffthemedio <geoffthemedio@gmail.com>


    document which generation tech costs are affected by Industrialism


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Add log dumper (#3855)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Rename queue_at to align function naming (#3880)


Author: geoffthemedio <geoffthemedio@gmail.com>


    adapt vector<string_view> to vector<string> for Python API


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -store species likes and dislikes in the same concatenated string as tags
    -SpeciesThatLike and SpeciesThatDislike take string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak LinkList functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid dynamic casts


Author: geoffthemedio <geoffthemedio@gmail.com>


    SpeciesThatLike and SpeciesThatDislike take string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    timer section label for serialization of universe to xml


Author: geoffthemedio <geoffthemedio@gmail.com>


    use simpler decompression stream for loading


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/PLANETARY_ECOLOGY.focs


Author: O01eg <o01eg@yandex.ru>


    Don't use important resources of Travis CI


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Refactor shipyards using BuildingType (#3857)
    
    * Refactor shipyard using BuildingType
    * Do some dislike checks for shipyards and
    fixed character.may_build_building
    * First round of review changes
    * Fix ShipYardInfo usage


Author: Andrey <Cjkjvfnby@gmail.com>


    Skip codeql job if not files changed (#3876)


Author: geoffthemedio <geoffthemedio@gmail.com>


    append


Author: O01eg <o01eg@yandex.ru>


    Fix build with recent Boost 1.79


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/SUBTER_HAB.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/NANOTECH_MED.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/NANO_CYBERNET.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/MEGA_ECO.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/LIFECYCLE_MAN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/GENETIC_MED.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/GENETIC_ENG.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/GAIA_TRANS.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix dummy parser build error due to encyclopedia parser return value change


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/ENERGY_META.focs


Author: Andrey <Cjkjvfnby@gmail.com>


    Set me a scodeowner to simplify review requests (#3866)


Author: Andrey <Cjkjvfnby@gmail.com>


    Do not compile on not C++ changes (#3865)


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    make GetArticleByCategoryAndKey take parameters as string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant to_upper


Author: geoffthemedio <geoffthemedio@gmail.com>


    make TextureManager::Textures() return map indexed by string_view


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    StatisticDescription takes string_view instead of string reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    sort pedia articles with less<>


Author: O01eg <o01eg@yandex.ru>


    Clean up tokens not used even in parser sources


Author: O01eg <o01eg@yandex.ru>


    Refactor integer variables


Author: O01eg <o01eg@yandex.ru>


    Refactor python parser of ValueRef::Variable


Author: O01eg <o01eg@yandex.ru>


    Refactor python parser for single-parameter math functions


Author: O01eg <o01eg@yandex.ru>


    Revert "Remove unused BuildingTypesOwned token and refactor python parser"
    
    This reverts commit 0c2420c9a81732e878601940cef2e96c8e17cc27.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] avoid division by zero exception (#3861)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make const strings constexpr string_view
    -pass string by value
    -stack and static constexpr storage for XML tags to check


Author: geoffthemedio <geoffthemedio@gmail.com>



    -[[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework HasXShips to avoid shared_ptr copies and logging in inner loop


Author: geoffthemedio <geoffthemedio@gmail.com>


    store tags as a concatenated string and a separate vector of string_view


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 29, 2022 - 337d22a)


Author: O01eg <o01eg@yandex.ru>


    Remove unused BuildingTypesOwned token and refactor python parser


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/BIOTERROR.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/growth/ADV_ECOMAN.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    AI military policies (#3851)
    
    * Fixed type BuildingName
    * Added military command and fixed planet selection
    * Added function to query number of ships
    * First version with military policies
    * Review updates and slightly change _rate_costs
    * Removed obsolete technology


Author: O01eg <o01eg@yandex.ru>


    Remove checks and code for boost older 1.69


Author: O01eg <o01eg@yandex.ru>


    Add options to choose non-standard AI log directory


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/defense/Network.focs


Author: O01eg <o01eg@yandex.ru>


    Convert default/scripting/techs/defense/Garrison.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    make object list filter condition strings constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store tags in vector instead of set
    -rework HasTag and Tags functions for UniverseObject and various content classes



Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused function


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak HasCustomCategory


Author: O01eg <o01eg@yandex.ru>


    Add server flag that merges quickstart and load options (#3848)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] diversity and artisans (#3837)
    
    * Improved artisan workshop documentation
    * AI support for diversity and artisan workshops
    * Rebalance liberty after forum discussion
    also fixed text for artisan stability bonus


Author: O01eg <o01eg@yandex.ru>


    Raise black version (#3846)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 20, 2022 - 6744e80)


Author: geoffthemedio <geoffthemedio@gmail.com>


    Workaround for error when building with Boost 1.79


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix dummy parsers


Author: geoffthemedio <geoffthemedio@gmail.com>


    const std::string& to string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    use from_chars instead of lexical_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass string by value and move


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass string_view instead of const string&
    -use any_of


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -store Empire::m_techs with std::less<> comparator to allow heterogenous search with find
    -handle map<string, int> with or without std::less<> comparator in ComplexVariable<int>::Eval
    -store Empire::m_meters in vector
    -serialization updates



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    store substitution map in an array instead of map


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make various content getters take string_view instead of const std::string&
    -make various UI functions take string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid dynamic cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    GetShipPart overload taking string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    add overload of GetShipHull taking a string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add CategoryColor overload taking string_view
    -add GetTech and GetTechCategory overloads taking string_view
    -make CategoryNames, TechNames, and TechNames return vector of string_view


Author: Oberlus <sicofonte@gmail.com>


    Add common/opinion.macros for liberty/conformance dislike scaling effect, fixes duplicated key (#3841)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Rebalance liberty after forum discussion (#3842)
    
    * Rebalance liberty after forum discussion
    also fixed text for artisan stability bonus


Author: Oberlus <sicofonte@gmail.com>


    Remove unused AVERAGE_OFFENSE_TROOPS macro (#3843)


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework some effect accounting-related constructors and use piecewise_construct with them


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some size_t with std::size_t


Author: geoffthemedio <geoffthemedio@gmail.com>


    update / fix MSVC2022 project files for x64 target


Author: geoffthemedio <geoffthemedio@gmail.com>


    Fix x64 platform settings in MSVC2019 project files to work with x64 SDK build


Author: Oberlus <sicofonte@gmail.com>


    Remove unused growth macro for ancient ruins depleted (#3840)


Merge: 86140c1ea 105aedaf1
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3839 from agrrr3/20220517_fix_system_ship_unstealthiness
    
    fix system ship unstealthiness


Author: Axel Groß <axel.gross@iaeste.at>


    Move FLEET_UNSTEALTHINESS from SPY_PLANET_STEALTH_MOD to ROOT_DECEPTION
    
    fleet stealth != planet stealth
    and the fleet stealth effects (e.g. empty system) were in ROOT_DECEPTION


Author: Axel Groß <axel.gross@iaeste.at>


    Stop FLEET_UNSTEALTHINESS removing stealth if the ship is on a starlane


Author: Axel Groß <axel.gross@iaeste.at>


    Multifix typo DECPTION -> DECEPTION


Author: geoffthemedio <geoffthemedio@gmail.com>


/warning reduction


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 9, 2022 - 3abfde4)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Make maturing monster keep their names (#3805)


Author: O01eg <o01eg@yandex.ru>


    Test FreeOrion with Fedora 32 in Docker


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Minor ai stuff (#3836)
    
    * Added dislike_multiplier
    * Refactored species tag handling


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix MSVC2022 build by using explicit constructor definitions rather than a universal reference


Author: agrrr3 <axel.gross@iaeste.at>


    fix set max capacity ship part meter (#3830) (#3834)
    
    * Pass ShipPartMeter as pointer, as NewMeterValue uses GetMeter instead of GetPartMeter
    * Pass Meter as pointer to NewMeterValue


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Use liberty policy (#3828)
    
    * First AI use of liberty
    * Improved documentation of protection focus
    * Some fixes and improvements to RessourceAI
    * Removed obsolete foci
    * Avoid a 'death-cycle' where all planets switch to protection
    while influence keeps dropping deeper and deeper.


Author: geoffthemedio <geoffthemedio@gmail.com>


    consider both, not just one, fleet in a fleet transfer order, that has arrival starlane -1 to have arrival starlane equal to its current system, to avoid first turn issue with being unable to merge fleets


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 9, 2022 - b10c300)


Author: O01eg <o01eg@yandex.ru>


    Add option to use pre-opened file descriptor to accept connections


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix (dis-)likes in same system (#3827)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Refactor building regional administration (#3819)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix get_extra_colony_builders (#3826)


Merge: 5c9b2de6c 156e03d06
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3704 from agrrr3/20220214_NextBestPlanetType
    
    Popular Terraform using NextBestPlanetType valueref


Author: agrrr3 <axel.gross@iaeste.at>


    Use ASTEROID_COATING_STACK stackinggroup to ensure the effect is applied only once (#3824)


Author: O01eg <o01eg@yandex.ru>


    Fix crash due not initialized password window (#3823)


Author: O01eg <o01eg@yandex.ru>


    Add option to allow any player to be an observer


Author: geoffthemedio <geoffthemedio@gmail.com>


    Statistic should be considered invariant to the (enclosing condition) local candidate, since its condition has its own local candidate and its contained ValueRef also uses Statistic's condition's local candidates.


Author: geoffthemedio <geoffthemedio@gmail.com>


    -templatize BuildingSimpleMatch for single or multiple building type names
    -use find instead of count to search list


Author: geoffthemedio <geoffthemedio@gmail.com>


    use crbegin instead of decrementing end iterator


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    make NewFleetOrder and FleetTransferOrder consider fleets with no set arrival starlane as arriving from their current systems. this should fix issues with merging fleets.


Author: geoffthemedio <geoffthemedio@gmail.com>


    make Wnd::SetName virtual and override in CUIWnd to set the text of the title label. now sure how or why this worked before or when it broke, but this should fix an issue where the sitrep window's title wasn't updating.


Author: agrrr3 <axel.gross@iaeste.at>


    Sneaky species have easy planetary stealth tech (#1620)
    
    * Laenfa are sneaky
    * All research cost for planet stealth is halved for sneaky species


Author: Grummel7 <muzz@albatross.pond.sub.org>


    removed Statistic If where it is not needed (#3816)


Author: agrrr3 <axel.gross@iaeste.at>


    use INCOMPLETE_DESIGN_ID instead of INVALID for the design view (#3813)
    
    Use INCOMPLETE_DESIGN_ID to signify the current design in the design view


Author: geoffthemedio <geoffthemedio@gmail.com>


    update context's current turn when incrementing the server's turn


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Apr 27, 2022 - 725f83f)


Author: O01eg <o01eg@yandex.ru>


    Test clang with godot


Author: O01eg <o01eg@yandex.ru>


    Update minimum required boost version to 1.69


Author: Axel Groß <axel.gross@iaeste.at>


    Rename sitrep tag %user_string% -> %userstring% for consistency


Author: Axel Groß <axel.gross@iaeste.at>


    Add Popular Terraforming (terraform to best environment)
    
    * for ease when you dont know the best environment
    * for mass-terraforming from the object window (where the best environment can be mixed for different species)
    * micro-management safe by being cheaper than the steps (actually dont know, with the steps you get results earlier)
    * also added the capability to use %planettype% in sitreps (taking a planet ID or a stringtable key)


Author: Axel Groß <axel.gross@iaeste.at>


    Fix parser tokens planettype -> PlanetType , added Environment


Author: Axel Groß <axel.gross@iaeste.at>


    Add NO_TERRAFORM tags to EXOBOTS


Author: Axel Groß <axel.gross@iaeste.at>


    Add NextBestPlanetType valueref


Author: geoffthemedio <geoffthemedio@gmail.com>


    make flag type definitions constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove FlagSpec::erase
    -remove permanent FlagSpec and FlagSpec::insert
    -store std::string_view instead of string in FlagSpec
    -store strings and flags in arrays instead of a set and a map
    -use same internal storage type in Flags as in GG_FLAG_TYPE macro
    -make FlagSpec interface [[noexcept]] constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove #ifdef


Author: geoffthemedio <geoffthemedio@gmail.com>


    use to_string and .append


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    store enum value and string pair data in vector instead of map


Author: geoffthemedio <geoffthemedio@gmail.com>


    put macro code that extracts the typename from a single value or pair into a separate macro #define


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    use manual loop instead of std::find to hopefully make actually constexpr OK


Author: geoffthemedio <geoffthemedio@gmail.com>



    -count empires with planets with vector instead of map


Author: geoffthemedio <geoffthemedio@gmail.com>


    store vertices in RotatingGraphic and update only when the rendered area changes


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    -reserve



Author: David CARLIER <devnexen@gmail.com>


    Mostly FreeBSD build fix. (#3812)
    
    - boost stacktrace using backtrace api instead of unwind due to unsupported field.
    - various initialisation constructors reordering warning fixes/unused var.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Building refactoring (#3808)
    
    - Scanning Facility: Don't build it where it is disliked
    - Gas Giant Generator: Completely new logic
    - Nearly Universal Translator: Build logic added


Author: Geoff <geoffthemedio@users.noreply.github.com>


    remove explicit inherit from object (#3811)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Improve influence priority calculation, fix _originally_adopted (#3810)


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -use a separate label control rather than temporary colour assignment to render Button text shadows
    -update test


Author: geoffthemedio <geoffthemedio@gmail.com>


    add a separate CUILabel Control for CUIWnd's title text, which should cache its render info rather than having to recalculate it each time


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove TextControl::PurgeCache and instead just call m_render_cache.reset()
    -groom TextControl::Render()


Author: geoffthemedio <geoffthemedio@gmail.com>


    add parameter to PreRenderWindow to indicate that it should run even if the window is not visible. using this, avoid showing and hiding the ListBox within DropDownList::RenderDisplayedRow.


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    fix initialization order warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -unused variable
    -fixed no return value path



Author: geoffthemedio <geoffthemedio@gmail.com>


    generalize not re-evaluating conditions on their default initial object sets when possible


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment out layout exception that don't seem to help but do cause crashed for big combat logs


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid making a copy of shared_ptr


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Consider artificial planets as beeing terraformed (#3801)
    
    for policy terraforming (plus minor cleanup)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Add BuildingType enum (#3803)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix Thenian die-off to affect only Thenian planets (#3806)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    troop pods must also use OFFENSE_TROOPS instead of ATTACKTROOPS (#3802)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -disallow mixing arrival starlanes in a new fleet or in a ship-fleet transfer
    -check for moving a ship into the fleet it's already in


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Apr 18, 2022 - cef7981)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass by value and move in
    -error message if saving with missing AI state info


Author: geoffthemedio <geoffthemedio@gmail.com>


    -structured binding
    -bind reference instead of by value in for loop
    -tweak logging of player save data to show UI data pointer and save state string size


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    remove seemingly redundant autosave


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    move logging of fighter / structure damage to trace level


Author: geoffthemedio <geoffthemedio@gmail.com>


    indicate prereqs and exclusions in policy tooltips


Author: geoffthemedio <geoffthemedio@gmail.com>


    add empire initial adopted policies getter


Author: geoffthemedio <geoffthemedio@gmail.com>


    move pointer


Author: geoffthemedio <geoffthemedio@gmail.com>


    base policy adoption prerequisite checks on initial policies at start of turn, rather than currently-adopted policies


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add revert policies changes order mode
    -repurpose policies window clear button to revert



Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in mod_keys


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use passed-in mod_keys



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    moved cheap-and-fast rules into TEST category


Author: geoffthemedio <geoffthemedio@gmail.com>


    -emplace -> push -emplace_back directly instead of construct and emplace_back the temporary


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> insert or push


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unused define -grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: Oberlus <sicofonte@gmail.com>


    Rework Liberty and Conformance (#3794)
    
    - Liberty doubles dislike effects and increases RP: +0-2*(stability-5)
    - Conformance halves dislike effects and increases stability (+2)
    - Removed RP malus and infrastructure&stockpiling bonus from Conformance, and stability malus from Liberty
    - Grooming: effectsgroups for content like/dislike only need to query SpeciesContentOpinion in scope, not in effects


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove seemingly unnecessary cleanup in ~ObjectListWnd


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use combat ObjectMap instead of general universe ObjectMap when checking the attacker of fighters, since fighters don't exist in the general ObjectMap
    -logging tweaks


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store EmpireManager in ScriptingContext instead of EmpireManager::(const_)container_type
    -store ObjectMap in CombatInfo by value
    -pass diplo statuses to CombatInfo


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Remove alternative research approach (#3793)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    ProductionAI preparations (#3796)
    
    * Collect information about all buildings in building_locations.py
    * Cache get_owned_planets_by_empire and removed argument
    * Added get_planet_opinion plus typing


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant disconnect of scoped_connection


Author: geoffthemedio <geoffthemedio@gmail.com>


    -safety check pointer
    -pass pointer by const reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    -getRaw instead of get(...).get()
    -pass pointer by const reference
    -structured binding
    -move action lambdas


Author: geoffthemedio <geoffthemedio@gmail.com>


    move parameter in


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use scoped_connection
    -pass connection and function with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    use scoped_connection


Author: geoffthemedio <geoffthemedio@gmail.com>


    store scoped connections for sidepanel subcontrol connections


Author: geoffthemedio <geoffthemedio@gmail.com>


    store scoped connections


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in context ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    use scoped_connection to store signal connection so that after a GUI class is destructed, signals connected to functions that use it won't fire


Author: geoffthemedio <geoffthemedio@gmail.com>


    safety checks / error logging in ResourcePanel


Author: geoffthemedio <geoffthemedio@gmail.com>


    -safety checks
    -structured binding


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Cleanup research (#3792)
    
    * Remove debug code
    * extract header printing to a separate function
    * Remove unused variable
    * Inline msg


Author: O01eg <o01eg@yandex.ru>


    Update python in Androdi SDK to 3.9


Author: Andrey <Cjkjvfnby@gmail.com>


    Run formatters before linters (#3795)


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't std::move a temporary that's already an rvalue


Author: geoffthemedio <geoffthemedio@gmail.com>


    send DependencyVersions with JoinGameMessage


Author: O01eg <o01eg@yandex.ru>


    Convert techs/defense/BarrierShield.focs


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Also remove ownership of buildings when abandoning an outpost (#3789)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    generated python interfaces, fixed AI logging (#3788)


Author: Oberlus <sicofonte@gmail.com>


    Fix priorities of species scaling effects for Industry, Research and Influence (#3773)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Aligned species tags with effects and provide a checking tool (#3725)
    
    Aligned species tags with effects and provided a checking tool


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix _get_queued_base_troopers (#3791)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fixes for drop invasion (#3783)


Author: geoffthemedio <geoffthemedio@gmail.com>


    expose getNamedValue to Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    expose Species likes, dislikes, and native status to Python API


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/TRANSCEND_ARCH.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/STARGATE.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    make website URL https


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/PLANET_DRIVE.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/OUTPOST.focs


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Apr 2, 2022 - 1421a8b)


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass in and use empires


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in empires


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass EmpireManager to CompileSaveGameEmpireData
    -in-place construct SaveGameEmpireData


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in context ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass empire object visibility map to VisibleContainedObjectIDs


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace or push -> insert


Author: geoffthemedio <geoffthemedio@gmail.com>


    use vector and minmax_element instead of set begin or rbegin


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> insert or push


Author: geoffthemedio <geoffthemedio@gmail.com>


    auto


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't move from pointer that may be used later


Author: geoffthemedio <geoffthemedio@gmail.com>


    -emplace -> push
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> push


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> push


Author: geoffthemedio <geoffthemedio@gmail.com>


    use piecewise_construct / forward_as_tuple


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    -forward arguments with piecewise_construct
    -rework MeterValueLabelAndString to return two string_view


Author: Grummel7 <muzz@albatross.pond.sub.org>


    remove obsolete policies right after loading a game (#3776)


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid capturing ScriptingContext in lambdas and instead create locally


Author: geoffthemedio <geoffthemedio@gmail.com>


    create ScriptingContext in lambda rather than capturing context that may be out of scope when the signal that executes the lambda occurs. this should fix a crash in the client when ordering invasion of planets.


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't try to cast to int design ID unless the type of thing in the pedia items list is a ship design


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix string_view issue breaking suitability window (#3778)
    
    revert most of 4e930bce474abc2d9400ff5713d01cdc623008cc and instead construct sting view from the Species object's name instead of the PopCenter's species name, which is modified in the following code.


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass current turn


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass current turn


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap and ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed in ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext to CreateFleetArrivedAtDestinationSitRep


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ScriptingContext to Colonize
    -pass ObjectMap to Planet::Reset


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass rather than create ScriptingContext in UI
    -pass just ObjectMap when a full ScriptingContext isn't needed
    -explicitly create and use ScriptingContext rather than calling global getters


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix population reducing effect of planetary drive (#3769)
    
    Fix population reducing effect of planetary drive


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move string
    -use piecewise_construct / forward_as_tuple


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix string_view issue breaking suitability window


Author: geoffthemedio <geoffthemedio@gmail.com>


    Use default WindowsTargetPlatformVersion


Author: Morlic-fo <Morlic@gmx.de>


    Use default WindowsTargetPlatformVersion


Author: Oberlus <sicofonte@gmail.com>


    Add game rule to allow repeated species (#3748)


Author: O01eg <o01eg@yandex.ru>


    Enable tests in Ubuntu 21.04 docker


Author: Andrey <Cjkjvfnby@gmail.com>


    Simplify generate orders (#3764)
    
    * Simplify generate orders
    * Reorder commands


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Move survey_universe to empire module and call it earlier (#3762)
    
    * Move survey_universe to empire module and call it earlier
    * Removed second survey_universe_lock
    
    
    
    This should fix #3760 for good.
    
    It also makes sense as a refactoring, since survey_universe mostly sets values in the empire module and was completely independent from the rest of ColonisationAI.
    
    It does also set some value in the colonization module (nice mix of spelling ;-) which should probably be protected by locks as well, but this can be done with a later PR, this one is big enough and is needed as a fix.


Author: geoffthemedio <geoffthemedio@gmail.com>


    update expected checksums


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix incompatibility with Python3.6 (#3761)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    [AI] Fix _adopt and _deadopt, reduce margin for centralization (#3756)
    
    Mostly cosmetic changes, but there were two real bugs that made the AI sometimes adopt and deadopt Centralization repeatedly.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Improve AI invasion handling (#3754)
    
    This should fix the three points described in #3745. It should conquer more successfully and waste fewer troopers now.
    The AI still builds too many troopers (priority calculation sometimes produces strange results) and may ignore good planets (planetary rating also needs work), but these are for another PR.


Author: Oberlus <sicofonte@gmail.com>


    Fix Propaganda effect on enemies (#3759)


Merge: ec969b7bb e2374e7b2
Author: Morlic-fo <Morlic@gmx.de>


    Merge pull request #3755 from Grummel7/twoFixes
    
    Two fixes


Author: Morlic-fo <Morlic@gmx.de>


    Fix ScriptingContext in Tech::ResearchCost (#3750)


Author: Andrey <Cjkjvfnby@gmail.com>


    Bump dev-tools versions (#3752)
    
    * Bump dev-tools versions
    * Fix new warnings


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fixed duplicate calls of bake_future_focus


Author: Grummel7 <muzz@albatross.pond.sub.org>


    unlock with set_colony_builders
    Unlocking after survey_universe is too late, since it uses
    get_colony_builders


Merge: 82560a62e 5328b927d
Author: Morlic-fo <Morlic@gmx.de>


    Merge pull request #3746 from Morlic-fo/DebugSP
    
    Fix #3743


Author: Morlic-fo <Morlic@gmx.de>


    Fix policy PROPAGANDA script


Author: O01eg <o01eg@yandex.ru>


    Fix char sign definition in enums


Merge: 87e2ed334 a0368836b
Author: Morlic-fo <Morlic@gmx.de>


    Merge pull request #3741 from Morlic-fo/RefactorSplitFleet
    
    Let split_ship_from_fleet return INVALID_ID on failure


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Ensure colony_buildes are initialized before usage (#3744)


Author: Morlic-fo <Morlic@gmx.de>


    Fix reconnection attempts sometimes persisting throughout timeout.
    
    On expiry of m_deadline_timer, the m_reconnect_timer is canceled. However, if both timers expire in a short enough timeframe, the m_reconnect_timer callback may already have been scheduled and thus can no longer be canceled. To prevent this, let m_deadline_timer set a flag upon expiry and check that flag before attempting to reconnect.


Author: Oberlus <sicofonte@gmail.com>


    Avoid repeating playable species (#3742)


Author: Morlic-fo <Morlic@gmx.de>


    Explicitly provide .count() to help some compilers...


Author: Morlic-fo <Morlic@gmx.de>


    Add some TraceLogging to debug #3743


Author: Morlic-fo <Morlic@gmx.de>


    When loading SP game, assign AIs by name to respective empires (#3738)


Author: Andrey <Cjkjvfnby@gmail.com>


    Minor fixes (#3740)
    
    - remove error log that is not a real error
    - change the way arguments are supplied to the log function
    - fix typo


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Mar 12, 2022 - 69075b3)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Readd a fixed version of the species check


Author: Morlic-fo <Morlic@gmx.de>


    Let AIWrapper for IssueNewFleetOrder return INVALID_ID on invalid order


Author: Morlic-fo <Morlic@gmx.de>


    Return INVALID_ID on split_ship_from_fleet failure


Merge: 32ea75d8d adc69386d
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3736 from Morlic-fo/GitIgnores
    
    Add some more files to gitignore


Author: Morlic-fo <Morlic@gmx.de>


    Fix timeout being sometimes ignored in ClientNetworking::Impl::ConnectToServer() (#3620)
    
    Previous to this patch, small timeout values are effectively ignored. This happens because boost::asio::io_context::run() is a blocking call and the attempt to async_connect() may time out after e.g. 2 seconds on my machine. This means any shorter timeout parameters will effectively be ignored and any longer timeout still only has a resolution of, e.g., 2 seconds.
    
    The fix here is to introduce an asynchronous timer which will cancel pending operations once timeout occurs.


Author: Morlic-fo <Morlic@gmx.de>


    Add libpython.py to gitignore


Author: Morlic-fo <Morlic@gmx.de>


    Add msvc default output directories to gitignore


Author: Morlic-fo <Morlic@gmx.de>


    Fix return type of ship.colonyCapacity in python API (#3735)


Author: Morlic-fo <Morlic@gmx.de>


    Fix potential array access out of bounds (#3734)


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoiding use of global GetEmpire() and Universe() getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing ScriptingContext to research and tech-related functions


Author: geoffthemedio <geoffthemedio@gmail.com>



    -reordering members


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass DiploStatusMap to SystemHasFleetSupply


Author: geoffthemedio <geoffthemedio@gmail.com>


, structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext to FleetSupplyableSystemIDs


Author: geoffthemedio <geoffthemedio@gmail.com>


    make some getters explicitly use the client interface


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing empires and IDs instead of using global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    add EmpireIDs() function to ScriptingContext and EmpireManager


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fixed troopCapacity return value (#3733)


Author: geoffthemedio <geoffthemedio@gmail.com>


    limit search range to size of EnumMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove MSVC 2017 project files


Author: geoffthemedio <geoffthemedio@gmail.com>


    bump AppVeyor to MSVC2019


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move EnumMap building into constructor
    -actually store names as string_view instead of string in EnumMap
    -construct EnumMap at compile time


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove default delimeter arguments
    -simplify loop over chars
    -fix range of chars to loop over for hex values


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment out static_assert some older compilers give error: non-constant condition for static assertion


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove default delimeter argument
    -implement constexpr string_view to EnumType via decimal or two-digit hex parsing


Author: geoffthemedio <geoffthemedio@gmail.com>


    refactor EnumMap building to tokenize and store string_view into the passed-in char*


Author: geoffthemedio <geoffthemedio@gmail.com>


    move BuildEnumMap into EnumMap as Build


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move EnumMap definitions into declaration
    -reimplement EnumMapInsert with string_view
    -WIP since the call in BuildEnumMap to Insert passes a temporary string


Author: geoffthemedio <geoffthemedio@gmail.com>


    use to_string(GG::Key)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add parameter to GG_ENUM and GG_CLASS_ENUM to specify the underlying type
    -make EnumMap store in two arrays instead of two maps, separately tracking its size to ensure not too much is inserted
    -make Flags store bits internally in an unsigned short instead of unsigned int



Author: geoffthemedio <geoffthemedio@gmail.com>


    -references instead of copies
    -explicit type to avoid warning about possibly unintended copy


Author: geoffthemedio <geoffthemedio@gmail.com>


    use FO_ENUM instead of GG_ENUM


Author: geoffthemedio <geoffthemedio@gmail.com>


    use smaller types for enum class definitions


Author: Grummel7 <muzz@albatross.pond.sub.org>


    First AI with policies plus minor adoptions (#3729)
    
    First AI with policies plus minor adoptions


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove (no star) label from starless system names


Author: st.pa <st-pa-fo@web.de>


    -display real system name on map and sidepanel for empty systems
    -label as unexplored system or region after name


Author: geoffthemedio <geoffthemedio@gmail.com>


    Revert "-don't wait for all parallel activation condition evaluations to finish before starting parallel scope condition evaluations"
    
    This reverts commit 94636c87b616dc64f9bc06dd1d3215f71a32a774.
    
    This commit seems to have broken numerous effects.


Merge: 1cb3f0794 0d04c82eb
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3722 from MichaelCourtney/hideandguard
    
    Native/Special Defense Tweaks


Author: Andrey <Cjkjvfnby@gmail.com>


    Update development docs (#3721)
    
    Update readme and development documentation


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Remove unused check (#3727)
    
    Discussed in the thread: https://www.freeorion.org/forum/viewtopic.php?p=110431#p110431


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix tag parsing (#3723)
    
    * Fix tag parser, added influence to species roster
    * Fix mis-handling of SystemID 0
    * Fix get_ai_tag_grade, added a test


Author: geoffthemedio <geoffthemedio@gmail.com>


    add default values and simplify Wnd constructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove default Empires() parameter and pass explicitly instead
    -use ServerApp's m_empires instead of calling Empries() (which resolves to the same thing)


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove default parameter Empires() global call


Author: geoffthemedio <geoffthemedio@gmail.com>


    GetTech overloads taking char* or string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't wait for all parallel activation condition evaluations to finish before starting parallel scope condition evaluations
    -avoid copying full set of input candidate source objects when no activation condition is specified, and instead just reference that input full set
    -avoid copying ObjectSets into container for already-dispatched scope evaluations
    -elaborate comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    only find in fleets when looking for moving fleets


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in current_turn


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Mar 5, 2022 - 68e44d2)


Author: MichaelCourtney <wobbly@fredvisions.com>


    Sometimes stealth monster nests


Author: MichaelCourtney <wobbly@fredvisions.com>


    Replace 20% of ancient guardians with stealthed planet


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add asteroid snails to guards


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add some exclusions to High Tech Natives


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add guards to resource specials


Author: MichaelCourtney <wobbly@fredvisions.com>


    Stop Lembalalam from being both moderate and high tech natives


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add occasional defenses to natives
     Please enter the commit message for your changes. Lines starting


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fixed some AI exceptions (#3719)
    
    This should fix the exceptions mentioned in #3718


Author: Oberlus <sicofonte@gmail.com>


    Fixes some unused variable warnings (#3728)


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in empire_id instead of passed-in produced_by_empire_id to determine the owner of a new Ship


Author: geoffthemedio <geoffthemedio@gmail.com>


    -InitializeSystemGraph overload that uses this->m_objects
    -IDAllocator::NewID takes a Universe parameter
    -GenerateStarlanes takes an EmpireManager parameter
    -GenerateStarlanes avoids global Objects() calls
    -EmpireTotalSupplyRange and DistanceBetweenObjects take ObjectMap parameters


Author: geoffthemedio <geoffthemedio@gmail.com>


    -avoid free Objects() calls, or make them more explicit



Author: geoffthemedio <geoffthemedio@gmail.com>


    passing and using context rather than free GetEmpire() and Objects()


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove GetSourceObjectForEmpire() that was redundant with a Empire::Source


Author: geoffthemedio <geoffthemedio@gmail.com>


    clean up some GetUniverse(), Empries(), and GetEmpire() calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove default parameter GetUniverse() call


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove ~Empire()
    -pass EmpireColor by value


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak member order to improve packing in memory


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove recently-added Universe parameters to UniverseObject constructors, so that UniverseObject are no constructed with a default StateChangedSignal with no combiner set
    -call SetSignalCombiner on moved-in objects in Universe::operator=


Author: Oberlus <sicofonte@gmail.com>


    Fix repeated NamedValue (#3724)


Author: st-pa-fo <37298400+st-pa-fo@users.noreply.github.com>


    - adding universe creation options for monster frequency below previous lowest and above previous highest settings: none, extremely low, very low, low, medium, high, very high, extremely high, random (#3685)
    
    - this is useful for very large map sizes, when even the lowest previous setting will result in a player experience that can not truthfully be described as low in monsters
    - refactoring GalaxySetupOption to GalaxySetupOptionGeneric and introducing GalaxySetupOptionMonsterFreq


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add assignable_blocking_combiner that can be modified after construction by assignment
    -add UniverseObject::SetSignalCombiner
    -set the StateChangedSignal combiner when deserializing or inserting objects into a Universe to use that Universe's signal inhibitor flag


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass Universe and current turn when constructing UniverseObject and derived classes rather than accessing global getters
    -default construct UniverseObject derived types in serialize functions
    -pass by value some copied-anyway parameters like std::string
    -safety check before using possibly null design pointer in Ship constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove undefined default constructor declaration


Author: geoffthemedio <geoffthemedio@gmail.com>


    default destructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove empty destructor


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Adapted basic growth formula. (#3703)
    
    The old formula grew quadratic with the planet size,
    i.e. big planet became full quite quickly, while small ones
    grew extremely slowly.


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Update python skeletons (#3716)


Author: MichaelCourtney <wobbly@fredvisions.com>


    Move the default native defenses to native_fortication.macros


Author: MichaelCourtney <wobbly@fredvisions.com>


    Guard Biege Goo and Fiftyseven


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -forwarding parameters
    -string_view instead of string
    -simplify OptionSection struct


Author: geoffthemedio <geoffthemedio@gmail.com>


    add rvalue overloads to Validator Clone functions


Author: geoffthemedio <geoffthemedio@gmail.com>


 / commenting


Author: geoffthemedio <geoffthemedio@gmail.com>


    -branchless sign determination
    -missing default case


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix warnings and avoid unnecessary repeat calculations


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make Meter functions noexcept
    -expose value instead of getter to Python
    -return array of char instead of string from Meter::Dump


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove five-year-old backwards compatibility code in Meter::serialize
    -shorten Meter member variable names


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]] and constexpr Meter


Author: geoffthemedio <geoffthemedio@gmail.com>


    use sprintf in buffer instead of cocatenating result of std::to_string, when std::to_chars is unavailable


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unnecessary use of stringstream for concatenation
    -default value for member variable


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Feb 25, 2022 - f2010df)


Merge: f2010df09 d7a76e471
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3720 from Oberlus/BalanceColonization
    
    Balance colonization and centralization


Author: Oberlus <sicofonte@gmail.com>


    Make CENTRALIZATION and COLONIZATION colony cost factor 1/3 instead of 1/2


Author: Oberlus <sicofonte@gmail.com>


    Make Exobot colony building cost 60 instead of 70


Author: Oberlus <sicofonte@gmail.com>


    Apply COLONIZATION and CENTRALIZATION colony cost factors to colony buildings and outpost ship parts


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Clean up Confederation Policy (#3696)


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    move calculation within if


Author: geoffthemedio <geoffthemedio@gmail.com>


    -constexpr
    -remove unused tag parameter from CreateFromTag functions



Author: geoffthemedio <geoffthemedio@gmail.com>


    use double-valued GG::Y_d to avoid warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused constant


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    disable warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -constexpr in GG_STRONG_INTEGRAL_TYPEDEF
    -default constructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    use is_constant_evaluated() instead of consteval


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix compile error in MSVC 2022


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary const from by-value return


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make some function scope constexpr stuff static constexpr
    -make some GG::Flags functions constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    make MapWnd zoom step size, min, and max constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    make some function-scope constexpr values static


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix typo in string tables. Fixes #3713 (#3714)
    
    Fix typos in string tables. Fixes #3713


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Feb 17, 2022 - 4b99b35)


Author: geoffthemedio <geoffthemedio@gmail.com>


    elaborate comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use NewMeterValue and pre-determining all values before setting them in SetEmpireMeter::Execute
    -separately handle TargetInvariant case when determining the empire id
    -refactor NewMeterValue and add overloads for whether or not a separate target object is specified from that in the context, rather than checking if they are the same
    -add some static_assert to NewMeterValue to constrain the passed-in types


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use NewMeterValue and pre-determining all values before setting them in SetShipPartMeter::Execute
    -separately handle TargetInvariant case when determining the part name


Author: geoffthemedio <geoffthemedio@gmail.com>


    -delete ScriptingContext destructors taking int, double, enums, string, or vector<string> to avoid implict casting to a locally-constructed CurrentValueVariant that is then bound to a const reference
    -instead explicitly create the CurrentValueVariant and pass in
    -fix several instances of a ship design ID being stored in ScriptingContext::current_value when it should be passed to the dedicated ScriptingContext::in_design_id field
    -add ScriptingContext constructors taking a parent context by r-value reference that then move from the object pointers of the input context
    -make NewMeterValue perfect forward the input context


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove duplicate implementation by calling accounting-enabled version of SetMeter::Execute from the non-accounting overload


Author: geoffthemedio <geoffthemedio@gmail.com>


    check for and use TargetInvarant and SimpleIncrement in SetMeter::Execute overload with effect accounting


Author: geoffthemedio <geoffthemedio@gmail.com>


    -detemplatize, [[nodiscard]], and FO_COMMON_API to FlexibleToString enum overloads
    -move use of constexpr to_string functions into .cpp file to fix compile error
    -add ValueRef::Operation::EvalImpl overload and template-specializations for two by-value operands
    -use that overload for evaluating simple increment operations
    -store list of values in a vector instead of set and use min/max_element instead of *begin for the MINIMUM and MAXIMUM operations


Author: geoffthemedio <geoffthemedio@gmail.com>



    -counting tested and removable potential lanes


Author: TheSilentOne1 <TheSilentOne1@users.noreply.github.com>


    fix bureaucracy sitrep (show icon) (#3711)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Hack to allow multi-line commands in debug chat (#3708)
    
    Also updated python readme the with use of black


Author: geoffthemedio <geoffthemedio@gmail.com>


    planettype -> PlanetType in parser


Author: geoffthemedio <geoffthemedio@gmail.com>


    add enum_or_int to castable_as_int_parser_rules which will match a PlanetType expression and cast it to an int, which can then be used to create a comparison condition


Author: geoffthemedio <geoffthemedio@gmail.com>


    docstrings


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    add Python API overloads of Policy.adoptionCost taking an empire object or empire ID


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix exposing Policy adoption cost to Python API


Author: TheSilentOne1 <TheSilentOne1@users.noreply.github.com>


    fix bug when policy icons would change size on switching category (#3710)


Merge: 172903b1e a20551043
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3695 from MichaelCourtney/pediafixes
    
    Some pedia improvements


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add species lists to traits pedia pages


Author: MichaelCourtney <wobbly@fredvisions.com>


    Only Artistic species should display as artistic


Author: MichaelCourtney <wobbly@fredvisions.com>


    Fix broken links for Artistic Trait


Author: MichaelCourtney <wobbly@fredvisions.com>


    Use named values for robotic and organic hull repair


Author: MichaelCourtney <wobbly@fredvisions.com>


    Add independent stability description
    
    reword independent stability
    
    change


Author: geoffthemedio <geoffthemedio@gmail.com>


    -require visibility for Propaganda Broadcasts enemy effect
    -update Propaganda Broadcasts description


Author: geoffthemedio <geoffthemedio@gmail.com>


    Exobot Productivity penalties to non-exobots focused on industry


Author: geoffthemedio <geoffthemedio@gmail.com>


    Exobots are unaffected by Capital Markets influence debt stability penalty


Author: geoffthemedio <geoffthemedio@gmail.com>


    Exobot planets affect per-planet influence costs like outposts, not other populated colonies


Author: geoffthemedio <geoffthemedio@gmail.com>


    influence mechanics description


Author: geoffthemedio <geoffthemedio@gmail.com>


    tpyo


Author: geoffthemedio <geoffthemedio@gmail.com>


    allow multiple pedia tags per article


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Feb 11, 2022 - 5e6127f)


Author: Oberlus <sicofonte@gmail.com>


    Fix mutual exclusions between policies, keep list ordered (#3697)


Author: TheSilentOne1 <TheSilentOne1@users.noreply.github.com>


    fix arrows (remove cut off glow) (#3699)


Author: Andrey <Cjkjvfnby@gmail.com>


    Add README to st-tool (#3652)
    
    Add README to st-tool


Author: st-pa-fo <37298400+st-pa-fo@users.noreply.github.com>


    Expand Pedia Quick Start Guide (#3659)
    
    expand pedia quickstart guide


Author: MichaelCourtney <wobbly@fredvisions.com>


    Fix scanning facility pedia entry


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Feb 6, 2022 - bb82da1)


Author: agrrr3 <axel.gross@iaeste.at>


    Apply defensive flanking bonus only if there are at least two defenders (#3688)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Flux bubble should decrease colony building time (#3690)
    
    * Flux bubble should decrease colony building time
    * Fix pedia cateogorization of spatial flux hulls


Merge: ac1ba4912 3eb581cfc
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3665 from st-pa-fo/stpa-nightsiders
    
    add native species Nightsiders, Sleepers, Khakturian, Celestephyte


Author: st.pa <st-pa-fo@web.de>


    - quick fix: reducing probability for natives on roids and GGs by factor five
    - until there are either more candidate native species for those environments or more detailled universe setup options


Author: st.pa <st-pa-fo@web.de>


    - removing reference to disabled content BLD_CLONING_CENTER from species likes/dislikes
    - while at it, putting species likes/dislikes each on their single line of code to facilitate commenting and merging, and apply alphabetic sorting order using "sort | uniq"


Author: st.pa <st-pa-fo@web.de>


    - rebased on master


Author: st.pa <st-pa-fo@web.de>


    - generic fieldtype pedia pages now list map-clickable known occurances of each field type


Author: st.pa <st-pa-fo@web.de>


    - adding system special of derelict small troop ships crewed by khakturian, to be randomly stumbled upon players just like the other derelicts


Author: st.pa <st-pa-fo@web.de>


    - incorporating feedback about the khakturian: they do not dislike the worldtree enough to revolt anymore, but neither do they like it nor enjoy its benefits


Author: st.pa <st-pa-fo@web.de>


    - adding prefixes EXTREMELY_BAD and VERY_BAD for POPULATION species-tags for use by the AI
    - adding prefix VERY_BAD for RESEARCH and INDUSTRY species-tags for use by the AI - although they were already previously present in species definition of exobots


Author: st.pa <st-pa-fo@web.de>


    - fixing population dieoff effect for species Thenian and the according sitrep message
    - improved sitrep-message 'new dyson forest growing' with pedia link to dyson forest (for the noobs)
    - noted some todo's related to pedia with possible future improvements
    - fixed some fixme's - they work best when followed by a colon, this will highlight them similar to todo's in modern ide's
    - make list of homeworlds commaseparated in the pedia-homeworlds-page


Author: st.pa <st-pa-fo@web.de>


    - ending every automatically created pedia page with an extra empty line, just in case the previously last bit of text was ment to be a clickable pedia link, which would not have been clickable if the very last thing on the page. this should not hinder the player's reading experience in any way but improve it slightly, wherever pedia pages ended with pedia links before. one example in this pr is the void rift fieldtype page which lists as species that dislike the Celestephyte which is now clickable with this fix here.


Author: st.pa <st-pa-fo@web.de>


    - adding FieldTypes to repertoire of LinkStringIfPossible
    - adding placeholder-icon for new species #5 the Thenian - and this is the last species in this pr
    - the Thenian suffer from a totally natural periodic population dieoff with sitrep-message which im testing before the push
    - slight reformatting of the homeworlds-part of species pedia pages to look more like the occupied planets part and to not have to scroll for miles when there are a lot of homeworlds


Author: st.pa <st-pa-fo@web.de>


    - streamlining the pedia text generating code a little by introducing versatile helper methods to replace some massively redundant code and prettify the player visible output at the same time, admittedly at the expense of a tiny little bit of extra computations every time the player clicks on a pedia link but that is negligible and not really noticeable


Author: st.pa <st-pa-fo@web.de>


    - adding tag PEDIA_PC_FUEL to laenfa species definition to be consistent with sly
    - fluffing out sly description some more to account for stealthiness and possible other gaseous beings
    - also give some more reason why they might dislike the gasgiant-generators
    - the Thenian are not only well defended, but now have good planetary stealth too and can not colonize anyway
    - new helper method LinkStringIfPossible used for hyperlinking likes and dislikes in pedia pages


Author: st.pa <st-pa-fo@web.de>


    - slightly improved formatting of pedia text for "likes" and "dislikes" and "liked by" and "disliked by"
    --> but still not quite perfect: the comma must be internationalized and cannot stand for all languages. i've seen there is a japanese translation underway, the correct punctuation for that would be different than most european languages.
    - fixed python formatting error: empty line is now empty
    - Celestephyte descriptive pedia text (which i would later like to translate at least to german myself..)


Author: st.pa <st-pa-fo@web.de>


    - neverending story - w.i.p. for more native species
    - removing superfluos patch. oops.
    - more population and environment macros in view of upcoming species
    - during universe creation, allow new native species to be placed who have no good habitat but only adequate or poor
    - adding species #4 the Celestephyte, to be continued ...


Author: st.pa <st-pa-fo@web.de>


    - adding new native species #1 Nightsiders, #2 Sleepers and #3 Khakturian
    - for the nightsiders see also https://www.freeorion.org/forum/viewtopic.php?p=109222#p109222
    - for the sleepers see also https://www.freeorion.org/forum/viewtopic.php?f=7&t=12241
    - for the khakturian see also https://www.freeorion.org/forum/viewtopic.php?f=7&t=12242
    - reworked their icons so they are similar to but distinct from the preexisting species icons
    - adding likes and dislikes with motivational comments to species definitions, partly translated into player readable pedia page texts
    - grooming typos crossing the t's and dotting the i's
    - moving the effect 'Light Sensitive' from banforo species definition to common population macros because the nightsiders share that trait
    - added logging when preferred native focus not available during universe creation
    - changed condition for availability of FOCUS_PROTECTION so that some native species with that same preferred focus can now do that while not yet conquored


Author: st-pa-fo <37298400+st-pa-fo@users.noreply.github.com>


     - adding Nymnmn-description as per #3207 (#3646)
    
    - typo corrections in existing english texts
    - de-gendering the Raaagh-description (he --> it/they)
    - beautifications of species-descriptions-tooltips / pedia-pages:
    -- less wrapped lines -> easier readable in game start screen
       (even without the extra line breaks there are less wrapped lines now)
    -- added a neutral symbol ⋄ (diamond operator) to preexisting positive + and negative -
    - adjusting expected checksums due to content changes
    - adding a few more names for stars
    - rename (only the user-facing part of) all buildings '%SPECIES% Colony' to 'Colony of %SPECIES%'
    --> bunches them together in the buildingtype pedia page instead of smearing all over the list when in default alphabetic sorting order


Merge: 7561a83d9 5b409fc42
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3608 from TheSilentOne1/policy-icons
    
    New policy icons and slots


Author: TheSilentOne1 <TheSilentOne1@users.noreply.github.com>


    add influence stockpile to PlayerListWnd (#3686)
    
    add (known) influence generation to PlayerListWnd


Author: O01eg <o01eg@yandex.ru>


    Try to hide CI SmokeTestHostless failure (#3693)


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -switch from std::list and std::map to std::vector and boost::container::flat_map in ConnectedWithin



Author: TheSilentOne1 <TheSilentOne1@users.noreply.github.com>


    replace field mouseover image with high-res version (#3691)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Replace Terraforming (reversion) by targeted Terraforming. (#3634)
    
    * Replace Terraforming (reversion) by targeted Terraforming.
    This allows Exobots to do Terraforming, but no longer
    allows to do several steps in parallel.
    * Amended Terraforming SitRep with new type and quality
    * Also avoid enqueuing opposite when building exists


Author: TheSilentOne <martin@diergarten.net>


    shine on technocrazy


Author: TheSilentOne <martin@diergarten.net>


    final cleanup


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jan 30, 2022 - 9d54ada)


Author: TheSilentOne <martin@diergarten.net>


    polishing "dream recursion" and "the hunt" policies
    
    make m_clear_button member of GovernmentWnd


Author: TheSilentOne <martin@diergarten.net>


    adjust button positions


Author: TheSilentOne <martin@diergarten.net>


    polish policy icons


Author: TheSilentOne <martin@diergarten.net>


    nicer policy size buttons


Author: TheSilentOne <martin@diergarten.net>


    - replace some economic policy icons
    - finetune economy policy icons


Author: TheSilentOne <martin@diergarten.net>


    radio buttons change policy card size
    
    add icon-style policy size buttons


Author: TheSilentOne <martin@diergarten.net>


    add new art for policies


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweak / correct error messages



Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary casting of int to double and back to int


Author: geoffthemedio <geoffthemedio@gmail.com>


    uniform random operation uses RandomNumber(...) not random(...)


Author: geoffthemedio <geoffthemedio@gmail.com>


    round instead of truncate int sine calculations


Author: geoffthemedio <geoffthemedio@gmail.com>


    revert to PlanetTypeDifference using FOCS strings instead of text representations of enums


Author: geoffthemedio <geoffthemedio@gmail.com>


    cast planet types to int instead of string when parsing


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    store planet_type_parser_rules by value in int_complex_parser_grammar


Author: Axel Groß <axel.gross@iaeste.at>


    -add parsing for PlanetTypeDifference
    -use string representations of PlanetType enum values (PT_OCEAN) rather than FOCS names (Ocean) in PlanetTypeDifference ValueRef


Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Translate more strings into spanish (#3680)
    
    Translate more strings into spanish


Merge: e499e3fa5 4a66283fb
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3660 from st-pa-fo/stpa-font-change
    
    adding unicode glyph U+22C4 "Diamond Operator" to roboto font


Author: st.pa <st-pa-fo@web.de>


    - adding unicode glyph U+22C5 "Dot Operator" to roboto regular font and adjusting font version number and copyright-notice


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix Operation<T>::EvalImpl ignoring value comparison test result when only two operands were specified


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweak some statistics to consider all owned objects, not just planets
    -add influence and production stockpile statistics


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move ReferenceType enum definition from ValueRefs.h to ValueRef.h
    -add GetReferenceType() as a virtual function to ValueRef from Variable, default returning INVALID_REFERENCE_TYPE
    -avoid now-unnecessary dynamic_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -NewMeterValue also returns the affected meter
    -in the SetMeter::Execute overload, get all new meter values before modifying any meters


Author: geoffthemedio <geoffthemedio@gmail.com>


    pre-determine what effects groups will be active before executing them


Author: geoffthemedio <geoffthemedio@gmail.com>


    move string


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    pull new meter value calculation out to a mostly-common function NewMeterValue


Author: geoffthemedio <geoffthemedio@gmail.com>


    move SetMeter::Execute effect trace-level pre and post object dumping into a separate function


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass strings to AccountingInfo by value instead of &&


Author: geoffthemedio <geoffthemedio@gmail.com>


    helper function PlanetIDFromObject


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variables when catching exceptions


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move warning disabling into warnings.props in MSVC2019 project files
    -remove disabling of most warnings in MSVC2019 project files


Author: geoffthemedio <geoffthemedio@gmail.com>


    use to_python_converter instead of custom exposed pair types to Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix some broken Python API stuff:
    -missing class wrappers for stuff that the API returns
    -incompatible function parameter types (string_view)
    -add an auto converter from returned string_view to Python-string
    -separately exposing maps or sets indexed by strings that used a non-standard comparison type and are thus technically a different class
    -fix binding a reference to a temporary in jumpsToSuppliedSystem


Author: O01eg <o01eg@yandex.ru>


    Provide IP address of logging player to Python API


Author: MichaelCourtney <wobbly@fredvisions.com>


    Various Species likes/dislikes


Author: MichaelCourtney <wobbly@fredvisions.com>


    Gisgusgthrim/HappyBday policy likes


Author: MichaelCourtney <wobbly@fredvisions.com>


    Furthest policy preferences


Author: MichaelCourtney <wobbly@fredvisions.com>


    remove centralization dislike from george


Author: MichaelCourtney <wobbly@fredvisions.com>


    George policy preferences


Author: MichaelCourtney <wobbly@fredvisions.com>


    Gysache policy preferences


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update README.md (#3673)
    
    -newish builds require Windows 8.1 as far as I'm aware
    -newish builds require MacOS 10.12
    -mention probably-supported Ubuntu versions


Author: 0x159BABA11227B902 <0xIDENTITY@pm.me>


    Updated info about provide at ArchLinux (#3678)


Author: geoffthemedio <geoffthemedio@gmail.com>


    combine some namespace specifiers


Author: geoffthemedio <geoffthemedio@gmail.com>


    forward return value


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variables in catch blocks


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak MSVC2019 project file warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    move files into filters in project file


Author: geoffthemedio <geoffthemedio@gmail.com>


    return const reference from SpeciesManager::GetSpeciesHomeworldsMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    evaluate activation conditions with std::async in DispatchEffectsGroupScopeEvaluations


Author: geoffthemedio <geoffthemedio@gmail.com>


    separately track timing of ship and planet species during effect evaluation


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid dynamic_pointer_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid dynamic_pointer_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    add overload to UniverseObject::MoveTo taking a raw UniversObject*


Author: geoffthemedio <geoffthemedio@gmail.com>


    rename EMPTY_CURRENT_VALUE to DEFAULT_CURRENT_VALUE and explicitly initialize to 0, since boost::variant is not default empty


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some dynamic_pointer_cast with static_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace dynamic_pointer_cast with check of UniverseObjectType and static_pointer_cast
    -other grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    mark logger calls with the effects filter


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unnecessary default base class initializers
    -mark logger calls with the conditions filter


Author: O01eg <o01eg@yandex.ru>


    Remove some unused parser tokens


Author: O01eg <o01eg@yandex.ru>


    Full checksums test


Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Some more translations into spanish (#3671)
    
    Some more translations into spanish


Author: Rob Gill <rrobgill@protonmail.com>


    Prevent enqueing multiple Regional Administration at same planet (#3674)
    
    Signed-off-by: Rob Gill <rrobgill@protonmail.com>


Author: O01eg <o01eg@yandex.ru>


    Add missing fileds to Tech, EffectsGroup, and Named* dump


Author: Andrey <andrey.solomatin@clarifai.com>


    Print address to console, exit service gracefully (#3669)


Author: Michael Courtney <43386669+MichaelCourtney@users.noreply.github.com>


    Species likes/dislikes tweaks (#3670)
    
    * Trith like research, isolation, divine authority
    * Add "PLC_BUREAUCRACY" to species likes/dislikes
    * Start Fulver with Confederation unlocked
    * Give Replicon some policy preferences


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jan 17, 2022 - fd013a6)


Author: Geoff <geoffthemedio@users.noreply.github.com>


    -make snowflake bodies have good instead of excellent vision (#3668)
    
    -make detection techs increment range in steps of 25 instead of 25 or 50
    -use value reference for tech detection ranges in pedia
    -reduce living hull detection boost from 50 to 40
    -reduce scanning facility range boost from 75 to 50


Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Add some more spanish translations (#3667)
    
    Add some more spanish translations


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix rendering number with 1 digit of precision rather than to 1 fractional decimal digit of precision


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -merge / simplify FlexibleToString code using if constexpr instead of enable_if SFINAE
    -UserString lookups instead of rendering enums as ints


Merge: 4a0e8b19a b4c6a1833
Author: Vezzra <vezzra@gmx.net>


    Merge pull request #3661 from st-pa-fo/stpa-german-translation
    
    - add some german translations and correct one other


Author: geoffthemedio <geoffthemedio@gmail.com>


    add PlanetTypeDifference case to ValueRef::Complex<int> that converts int or string parameters to PlanetType


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move PlanetTypeToString and PlanetEnvironmentToString from Species.cpp into ValueRefs.cpp and make publicly accessible
    -add reverse-lookup StringToPlanetType in ValueRef.cpp


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework ComplexVariable<double>::Eval:
    -SystemSupplyRange with no empire specified uses the max of all empires ranges for the specified system, rather than the sum
    -SystemSupplyRange with no system specified just returns 0.0
    -PropagatedSystemSupplyRange and PropagatedSystemSupplyDistances are treated as non-empire properties, since only a single empire can supply each system anyway


Author: geoffthemedio <geoffthemedio@gmail.com>


    use existing lookups for resource type from string of meter name


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't treat invalid MeterType or ResourceType lookups as errors


Author: st.pa <st-pa-fo@web.de>


    - corrections, coauthored by https://github.com/Vezzra


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't redundantly create a local RenderState object if a pointer to one was passed in


Author: geoffthemedio <geoffthemedio@gmail.com>


    Revert "-de-pointerize RenderCache"
    
    This reverts commit fb38731469610571e01bbda674bad396be797bc5.


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ORGANIC_STRUCT.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ORBITAL_CON.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/N_DIMEN_STRUCT.focs


Author: TheSilentOne <martin@diergarten.net>


    change appearance of policy icons into cards


Author: oleg <o01eg@yandex.ru>


    Convert techs/construction/FORCE_ENERGY_STRC.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    update expected checksums for test


Author: geoffthemedio <geoffthemedio@gmail.com>


    add look up table for PathToString in GetStringTable


Author: geoffthemedio <geoffthemedio@gmail.com>


    -switch to shared_mutex to guard error stringtable access and use shared_lock for reads and unique_lock for mutation access
    -put locks in UserString into explicit local namespaces


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made fleet unstealthiness work in steps of 5 and be a much larger effect, but also with a threshold of 10 ships to start happening
    -added some ship stealth bonuses and penalties dependent on star type


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fix fleet stealth calculation to use the number of ships in the local system, rather than the capital system
    -tweak Stealth Modifiers tech description


Author: geoffthemedio <geoffthemedio@gmail.com>


    boosts and penalties to planet and ship detection dependent on star type


Author: Andrey <andrey.solomatin@clarifai.com>


    Update st-toot to format files inplace (#3664)
    
    * Update st-too to format files inplace
    * Fix pre-commit
    * Refactor a bit


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove separate error strings container in StringTable and replace with a separate error strings stringtable in i18n.cpp
    -default initialized stringtable is now empty instead of using the default language file
    -removed StringTable::operator[] and replaced with StringTable::Add to explicitly add a string
    -use Add to add error strings to the error stringtable after lookup is current set, default, and error stringtables all fail
    -move stack trace generation out of Stringtable into i18n.cpp


Author: geoffthemedio <geoffthemedio@gmail.com>


    removing LockedStringTable as it can't be used without deadlocks if the free function UserString might also be called with a non-existant string that will require a unique_lock


Author: st-pa-fo <37298400+st-pa-fo@users.noreply.github.com>


    adding number of settled worlds to census report (#3648)
    
    * - adding a column and labels to the census report to show number of settled worlds per species / per trait / total
    - always display one decimal digit in census population counts
    - another label to distinguish current from target population


Author: st.pa <st-pa-fo@web.de>


    - add some german translations and correct one other
    - rename (only the user-facing part of) all buildings '%SPECIES% Colony' to 'Colony of %SPECIES%'
    --> bunches them together in the buildingtype pedia page instead of smearing all over the list when in default alphabetic sorting order
    - umbenennung (nur der nutzersichtbaren seite) aller gebäude '%SPEZIES%-Kolonie' zu 'Kolonie der %SPEZIES%'
    --> so stehen sie in der standardmäßig alphabetisch sortierten pedia schön sauber beisammen statt über die ganze liste verstreut


Author: st.pa <st-pa-fo@web.de>


    - adding unicode glyph U+22C4 "Diamond Operator" to roboto regular font and adjusting font version number and copyright-notice
    --> https://www.freeorion.org/forum/viewtopic.php?p=109183#p109183


Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Translate a few strings into spanish (#3653)
    
    Co-authored-by: Roberto Sánchez Fernández <robertosanchez_9@protonmail.com>


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jan 10, 2022 - a235bfd)


Author: oleg <o01eg@yandex.ru>


    Add dump of tested tech to Boost.Test log


Author: oleg <o01eg@yandex.ru>


    Unown outposts with Chaos Wave bombardement weapon


Author: oleg <o01eg@yandex.ru>


    Convert techs/construction/INTERSTELLAR_LOG.focs


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Added the Asteroid coating special. (#3649)
    
    Co-authored-by: Sloth <oliver.mecking@web.de>


Author: Rob Gill <rrobgill@protonmail.com>


    Mark as single window in desktop file (#3650)
    
    Signed-off-by: Rob Gill <rrobgill@protonmail.com>


Author: geoffthemedio <geoffthemedio@gmail.com>


    missing newline


Author: Felecarp <82163172+Felecarpp@users.noreply.github.com>


    Fix inhabited/uninhabited french translation error
    
    The french word "inhabité" means "uninhabitated", not "inhabited".
    https://www.wordreference.com/enfr/inhabited
    https://www.wordreference.com/enfr/uninhabited
    
    The original text:
    '''This building can only be constructed at a [[PT_GASGIANT]]. It gives a [[value BLD_GAS_GIANT_GEN_OUTPOST_TARGET_INDUSTRY_FLAT]] [[metertype METER_INDUSTRY]] bonus to planets with the Industry focus in the same system. If the [[BLD_GAS_GIANT_GEN]] is built on an inhabited gas giant it gives only a [[value BLD_GAS_GIANT_GEN_COLONY_TARGET_INDUSTRY_FLAT]] [[metertype METER_INDUSTRY]] bonus.


Author: geoffthemedio <geoffthemedio@gmail.com>


    -assert -> static_assert
    -fix comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't double-check for source-invariance
    -get a source object if not already specified in context and possible, and then create a new context using that source before evaluating source-dependent ValueRef


Author: geoffthemedio <geoffthemedio@gmail.com>


    move ScriptingContext construction after check for null policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add more granular policy availability display filters
    -refactor policy AvailabilityManager
    -pass ScriptingContext instead of just ObjectMap to Policy::AdoptionCost and Empire::AdoptPolicy


Author: geoffthemedio <geoffthemedio@gmail.com>


    limit number of stack traces logged


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak formatting of float/double to string


Author: geoffthemedio <geoffthemedio@gmail.com>


    more network error logging details


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    higher priority logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    more logging when exiting human client


Author: st.pa <stephan.pakebusch@zollsoft.de>


    - dedentation, more tidier code


Author: st.pa <stephan.pakebusch@zollsoft.de>


    - better accounting labels for tech effects and specials effects, italics style, planet names etc., starting with grow techs, defense techs, construction techs, worldtree special and computronium special
    - typo corrected
    reordering the accountinglabel from effects to effectsgroup


Author: st.pa <stephan.pakebusch@zollsoft.de>


    - add few more names for ships and stars
    - alphabetic reordering of some ship names
    - correcting some typos in ship names (mainly umlauts of proper names)
    - including feedback from https://github.com/freeorion/freeorion/pull/3642
    - adding parentheses in comments for code foldability


Author: geoffthemedio <geoffthemedio@gmail.com>


    add distance to selected system or fleet to objects list columns


Author: geoffthemedio <geoffthemedio@gmail.com>


    handle SelectedSystemID, SelectedPlanetID, SelectedFleetID, and SelectedPlanetID in Variable<int>::Eval


Author: geoffthemedio <geoffthemedio@gmail.com>


    treat DirectDistanceBetween like a position for string representation


Author: geoffthemedio <geoffthemedio@gmail.com>


    -StringCast<double>::Eval don't apply SI postfixes if number is close to 1 in magnitude
    -use to_chars when available


Author: geoffthemedio <geoffthemedio@gmail.com>


    account for SI postfixes in text representations of numbers when sorting object list columns


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variable


Author: geoffthemedio <geoffthemedio@gmail.com>


    added SelectedSystemID, SelectedPlanetID, SelectedFleetID, and SelectedShipID getters to AppInterface. should only be used in the human client, such as for UI purposes, as these don't make sense on a server or AI.


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add SelectedSystemID, SelectedFleetID, and SelectedShipID getters to MapWnd



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove strings for removed policy
    -removed redundant [[]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix parser capitalization


Author: geoffthemedio <geoffthemedio@gmail.com>


    -increase size of influence debt stability penalty
    -add an influence debt decay effect, which should limit how big the debt and grow, and make it reduce on its own over time


Author: geoffthemedio <geoffthemedio@gmail.com>


    allow adopting zero-cost policies even when there is an influence debt


Author: geoffthemedio <geoffthemedio@gmail.com>


    Necessity increases (suitably low stability) planet research growth rate by 1


Author: geoffthemedio <geoffthemedio@gmail.com>


    make Capital Markets increase the rate of growth or decay of stability towards target


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add influence output focus bonus to Capital Markets (requires high stability)
    -add stability penalty from Influence debt to Capital Markets


Author: geoffthemedio <geoffthemedio@gmail.com>


    increased cost and reduced influence bonus from Propaganda Broadcasts


Author: geoffthemedio <geoffthemedio@gmail.com>


    add a social policy slot to the cultural archives


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak Centralization policy:
    -reduce research bonus
    -always-active penalties (not capital stability dependent)
    -higher distance or disconnected stability penalities
    -comments in script


Author: geoffthemedio <geoffthemedio@gmail.com>


    use named references in Continuous Scanning script and pedia description


Author: geoffthemedio <geoffthemedio@gmail.com>


    add stealth boost to No Supply policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove Reserve Tanks policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix indent


Author: geoffthemedio <geoffthemedio@gmail.com>


    merge exploration research effects into exploration


Author: geoffthemedio <geoffthemedio@gmail.com>


    -expose server API function to set starting resource stockpiles
    -start with 20 IP


Author: MichaelCourtney <wobbly@fredvisions.com>


    Make stability penalties for shipyard dislikes work


Author: geoffthemedio <geoffthemedio@gmail.com>


    moving instead of copying pointers between containers


Author: geoffthemedio <geoffthemedio@gmail.com>


    use GG::Pt::operator std::string() instead of lexical_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    add GG::Pt::operator std::string()


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant / null-op lexical_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make TextControl::GetValue safer with try-catch
    -use to_string in TextControl::operator<<


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplmement TagParamsToColor using std::from_chars


Author: geoffthemedio <geoffthemedio@gmail.com>


    factor out and simplify tag text to color conversion


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove getting and passing of original colour info that was never used in Font::HandleTag


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplement CustomRowCmp using std::from_chars


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Improve Bureacracy SiteRep


Author: geoffthemedio <geoffthemedio@gmail.com>


    exclude stale objects from within MapWnd determination of detector ranges


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make GetEmpiresPositionDetectionRanges exclude destroyed objects
    -add GetEmpiresPositionDetectionRanges overload that excludes destroyed objects and objects in a separate set of ids


Author: geoffthemedio <geoffthemedio@gmail.com>


    add NotInSetsVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    move some getting and calculations out of the loop over rows


Author: geoffthemedio <geoffthemedio@gmail.com>


    -de-pointerize RenderCache
    -don't redundantly create RenderState objects when one was passed into Font::PreRenderText


Author: geoffthemedio <geoffthemedio@gmail.com>


    reserve slightly more space in vertex buffer, which was often one smaller than required


Author: geoffthemedio <geoffthemedio@gmail.com>


    get Universe from global getter at top of function


Author: geoffthemedio <geoffthemedio@gmail.com>


    make another Condition::Eval overload virtual and specialize for Type to avoid re-checking all the objects of a particular type right after collecting them with GetDefaultInitialCandidateObjects


Author: geoffthemedio <geoffthemedio@gmail.com>


    make UniverseObject::Owner non-virtual. this means systems are always considered unowned by this getter.


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass EmpireManager into HostileVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    move FLEET_MOVEMENT_EPSILON into header


Author: geoffthemedio <geoffthemedio@gmail.com>


    add UnownedVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    only apply target happiness penalty to planets, not ships


Author: geoffthemedio <geoffthemedio@gmail.com>


    move UniverseObjectVisitor trivial constructors into header and remove unnecessarily declared destructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    -structured binding



Author: geoffthemedio <geoffthemedio@gmail.com>


    remove extra space


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix planet_id safety check


Author: Axel Groß <axel.gross@iaeste.at>


    PLC_LIBERTY -2 stability; for stability >= 6 +2 research


Author: geoffthemedio <geoffthemedio@gmail.com>


    tpyo


Author: geoffthemedio <geoffthemedio@gmail.com>


    make explicit some lambda return types. the PropagatedSystemSupplyRange and PropagatedSystemSupplyDistance cases fix an objects list column issue where the lambda was returning a reference to a temporary when the return type was auto-deduced.


Author: oleg <o01eg@yandex.ru>


    Convert techs/construction/CONTROL_GRAV_ARCH.focs


Author: oleg <o01eg@yandex.ru>


    Automatically flattens And and Or conditions


Author: oleg <o01eg@yandex.ru>


    Fix format


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Dec 23, 2021 - 1ff9ff5)


Author: Axel Groß <axel.gross@iaeste.at>


    Make unused EmpireObjectVisibility complex ValueRef consistent with VisibleToEmpire Condition (partly consistent with Universe::EmpireObjectVisibility


Author: Axel Groß <axel.gross@iaeste.at>


    Treat neutral (==ALL_EMPIRES) forces like an empire for visibility ONLY in combat [docs]
    
    * the underlying model is: neutral forces per default can see everything
    * this gets modified/interpreted differently in many places;
      usually: local monster detection has to be higher than the object's stealth
    ** initiating combat (ServerApp::GetFleetsVisibleToEmpireAtSystem)
    ** targeting during combat via FOCS; ship weapons use VisibleToEmpire condition in default/scripting/ship_parts/targeting.macros.
    ** Bombard parts use Stealth high = Source.Detection


Author: Axel Groß <axel.gross@iaeste.at>


    Treat neutral (==ALL_EMPIRES) forces like an empire for visibility


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unnecessarily explicitly defaulted SupplyManager constructor
    -remove incomplete assignment operators for SupplyManager that were leading to some info being lost client-side


Author: geoffthemedio <geoffthemedio@gmail.com>


    add else to mutually exclusive ifs


Author: geoffthemedio <geoffthemedio@gmail.com>


    -get IDs once rather than each time used
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't dereference moved-from pointer


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove separate isProducibleShip from PythonAPI, which duplicated the results of isEnqueuableShip
    -add API documentation text


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add isProducibleBuilding, isEnqueuableBuilding, isProducibleShip, and isEnqueuableShip to Python API
    -check before attempting to enqueue Scanning Facility and Orbital Drydocks


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    add (optional) rendering of future turn's predicted detection range circles for the selected fleet


Author: geoffthemedio <geoffthemedio@gmail.com>


    add initial implementation of Universe::GetEmpiresPositionNextTurnFleetDetectionRanges that assumes ship detection ranges will be the same after they move


Author: geoffthemedio <geoffthemedio@gmail.com>


    Use GetEmpiresPositionDetectionRanges rather than MapWnd internal equivalent calculations. This removes some checks for stale or destroyed objects, so might lead to weirdness in some cases, which will need to be fixed if they are actually issues.


Author: geoffthemedio <geoffthemedio@gmail.com>


    expose Universe::GetEmpiresPositionDetectionRanges


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    early exit if ship to be duplicated has an invalid design ID


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't prohibit creating ships with invalid design IDs, as there are use cases


Author: agrrr3 <axel.gross@iaeste.at>


    Make Trith have average environments (RADIATED_STANDARD) (#3623)
    
    having some options for adequate environments is a preparation path for terraforming.
    before restricting self-sustained to good planets this was basically a no-go, now its possible


Author: geoffthemedio <geoffthemedio@gmail.com>


    added game rule for extrasolar ship detection, defaulting to off


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix ships not in systems (unintentionally) giving visibility


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass by value and move resource and population centers


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Refactored and fixed starlane bores (#3615)
    
    - Fixed ObjectTooCloseToLane
    - Starlane Nexus no works sequentially so that each new lane
      is also checked against the already created ones
    - Bore and Nexus have both a positive and a negative
      SitRepMessage


Author: Grummel7 <muzz@albatross.pond.sub.org>


    More Bureaucracy, plus mini improvement (#3604)
    
    * Report bureaucracy requirements whenever it increases.
    
    * Avoid 0.00 Unknown pseudo discrepancies


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Dec 19, 2021 - 6757374)


Author: oleg <o01eg@yandex.ru>


    Add test for separate tech checksum


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove commented-out code


Author: geoffthemedio <geoffthemedio@gmail.com>


    optimize GetStringTable


Author: agrrr3 <axel.gross@iaeste.at>


    Fix description of PLC_FLANKING effects for fighters (#3616)


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework Ship::HasFighters to minimize redundant calculation of total fighters when it just needs to check if there are any


Author: geoffthemedio <geoffthemedio@gmail.com>


    safety checks


Author: geoffthemedio <geoffthemedio@gmail.com>


    -rework Ship::IsArmed to simplify the calculation
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    -templatize GameRules::Add with a Validator passed by r-value reference, to avoid slicing the validator when wrapping in a unique_ptr
    -tweak Validator structors


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use LinkTaggedPresetText and avoid repeat UserString lookups
    -append instead of +


Author: geoffthemedio <geoffthemedio@gmail.com>


    use async / future when getting pedia article subdirectories


Author: geoffthemedio <geoffthemedio@gmail.com>


    -return from GetSortedPediaDirEntires by value instead of in/out parameter
    -detemplatize DetermineCustomCategory


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplement PopCenter and ResourceCenter Dump functions with append instead of streams


Author: geoffthemedio <geoffthemedio@gmail.com>


    -append instead of +
    -LinkTaggedPresetSet with already-locked stringtable lookup


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    only log GetSubDirs calls longer than 5 ms


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make stringtable read access use a shared_lock of a shared_mutex, and mutation access acquire a unique_lock
    -tweak constness of StringTable member functions


Author: oleg <o01eg@yandex.ru>


    Fix removing team home systems used in sequential functions


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Dec 13, 2021 - 390e20d)


Author: geoffthemedio <geoffthemedio@gmail.com>


    add hotkey to toggle the government window


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplement Planet::Dump with append instead of stringstream


Author: geoffthemedio <geoffthemedio@gmail.com>


    iterate over techs, not tech names with the techs then immediately looked up by name...


Author: geoffthemedio <geoffthemedio@gmail.com>


    use to_string instead of lexical_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -to_string instead of lexical_cast



Author: geoffthemedio <geoffthemedio@gmail.com>


    replace lexical_cast with to_string


Author: geoffthemedio <geoffthemedio@gmail.com>


    make enum to_string constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    add to_string function returning a string_view representation of enum values to GG_ENUM


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplement System::Dump with append instead of stringstream


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplement Fleet::Dump with append instead of stringstream


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplement UniverseObject::Dump with append instead of stringstream


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplement Ship::Dump with append instead of stringstream


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace stringstream operations with to_chars or to_string and append


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace streaming string operators with append and to_string


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    make LockedStringTable member functions const


Author: geoffthemedio <geoffthemedio@gmail.com>


    use LinkTaggedPresetText with UserString via already-locked stringtable


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove effectively duplicated code in LinkText generators


Author: geoffthemedio <geoffthemedio@gmail.com>


    use LockedStringTable generating pedia text


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary lock


Author: geoffthemedio <geoffthemedio@gmail.com>


    add LockedStringTable to speed up repeated UserString calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass config_name for CUIWnd option generation as string_view
    -make some PRODUCTION_ITEM_DROP_TYPE statics constexpr



Author: geoffthemedio <geoffthemedio@gmail.com>


    refactor AllowDropType


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string_view to AddWindowOptions, AddWindowOptions, and InvalidateWindowOptions


Author: geoffthemedio <geoffthemedio@gmail.com>


    add overloads to Wnd::SetDragDropDataType taking string by value, char*, or string_view-


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store intermediate bits of text as string_view instead of newly allocated string
    -check if stringtable has an entry before looking it up
    -use preset text and pass in result of lookup rather than redoing lookup when generating link-tagged text
    -concatenate with .append


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    string append instead of operator+ for concatenation


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix compile error with MSVC2022


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Nov 19, 2021 - ca58556)


Merge: 3bb1884e8 47633648e
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3605 from agrrr3/20211118_AI_for_spatial_fluxies
    
    AI entries for FLUX techs, hulls, and lance


Author: geoffthemedio <geoffthemedio@gmail.com>


    add overloads of UserStringExists taking a string_view or const char*


Author: geoffthemedio <geoffthemedio@gmail.com>


    string copy to string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    limit StringTable lookup stack traces to 10 to avoid log spam if there are many


Author: geoffthemedio <geoffthemedio@gmail.com>


    log stack trace when first lookup up a missing string


Author: geoffthemedio <geoffthemedio@gmail.com>


    index source object containers with string_view instead of new string copies


Author: geoffthemedio <geoffthemedio@gmail.com>


    make CategoriesSlotsPoliciesAdopted return string_views


Author: Axel Groß <axel.gross@iaeste.at>


    Format with black


Author: Axel Groß <axel.gross@iaeste.at>


    Make flake happy


Author: Axel Groß <axel.gross@iaeste.at>


    Handle SR_FLUX_LANCE non-stacking in ShipDesignAI


Author: Axel Groß <axel.gross@iaeste.at>


    Consider researching space flux hulls if you dont research organics


Author: Axel Groß <axel.gross@iaeste.at>


    AI entries for FLUX techs, hulls, and lance; not really used by AI though


Author: geoffthemedio <geoffthemedio@gmail.com>


    add "browsepath" to stringtable linter optional ref types


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add some missing options DB description strings for colours
    -add note of the influence cost of Indoctrination to its description


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary setting of title that also used a non-existent string


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix reference to non-existent string


Author: geoffthemedio <geoffthemedio@gmail.com>


    -adjust Empire policy-related interface to take and return string_view where possible. this should fix a potential issue where views of temporary strings were being created and passed into DispatchEffectsGroupScopeEvaluations.
    -store some of the Empire policy-related info in maps with std::less<> comparator to allow heterogeneous lookups


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix GetPolicy overload not actually returning anything


Author: geoffthemedio <geoffthemedio@gmail.com>


    make ViewMapToStringMap work for maps with non-standard comparators


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    simplify copy into an iterator-pair initialization


Author: geoffthemedio <geoffthemedio@gmail.com>


    string_view instead of string&


Author: geoffthemedio <geoffthemedio@gmail.com>


    add GetPolicy overloads that take a string_view. should later be reimplemented without temporary string construction.


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    add link to configuration file directory in the Configuration pedia article


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move checks for Linux when handling PathType enums to the macro definition of the enum class
    -return array<string_view> instead of vector<string> from PathTypeStrings (which gives a list of PathType strings used for LinkText replacement)
    -add a getter that returns an array of the valid PathType enum values
    -removed unused GetPath overload taking a string (instead of a PathType enum)
    -remove const string pathtype constants and moved into a function that returns string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    return vector<string_view> from SpeciesThatLike and SpeciesThatDislike


Author: geoffthemedio <geoffthemedio@gmail.com>


    -return string_view instead of string
    -reserve space when building string
    -append rather than + to concatenate


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix dummy parser build


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store specials in map with std::less<> comparator, to allow heterogeneous comparisons between string and string_view
    -add GetSpecial overload taking string_view
    -make SpecialNames() return a vector<string_view>
    -pass in container that sorts using std::less to GetSortedPediaDirEntires
    -pass specific_cause_name to StoreTargetsAndCausesOfEffectsGroup as string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string by value with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    return vector of string_view from PolicyManager::PolicyNames


Author: geoffthemedio <geoffthemedio@gmail.com>


    -return maps containing string_view from Empire::TotalPolicySlots, Empire::EmptyPolicySlots, and PolicyManager::PolicyCategories
    -move string in Empire::Init
    -remove redundant namespace qualification in WrapEmpire()


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    default value for Fleet::m_last_turn_move_ordered


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[fallthrough]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string by value with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    make loop variable auto


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string by value with move


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Nov 14, 2021 - ed79c4c)


Merge: 716f96fa5 63f1d9b62
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3600 from agrrr3/20211101_SpatialFluxRework
    
    spatial flux rework


Author: oleg <o01eg@yandex.ru>


    Fix format


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/CONC_CAMP.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ASYMP_MATS.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ART_PLANET.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ART_HEAVEN.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ARCH_PSYCH.focs


Author: O01eg <o01eg@yandex.ru>


    Convert techs/construction/ARCH_MONOFIL.focs


Author: geoffthemedio <geoffthemedio@gmail.com>


    add % or remainder (aka modulo) operator to FOCS for int and double


Author: agrrr3 <axel.gross@iaeste.at>


    Stringtable update flux lance
    
    Co-authored-by: Geoff <geoffthemedio@users.noreply.github.com>


Author: agrrr3 <axel.gross@iaeste.at>


    Stringtable update flux composition hull
    
    Co-authored-by: Geoff <geoffthemedio@users.noreply.github.com>


Author: agrrr3 <axel.gross@iaeste.at>


    Update default/stringtables/en.txt
    
    Co-authored-by: Geoff <geoffthemedio@users.noreply.github.com>


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Some improvements to BUREAUCRACY (#3602)
    
    Also do not penalise focus change right after conquering
    Avoid duplicate value definition
    Fixed numbers in message


Author: oleg <o01eg@yandex.ru>


    Use runtime meter type instead of compile-time


Author: O01eg <o01eg@yandex.ru>


    Fix review


Author: O01eg <o01eg@yandex.ru>


    Use emplace_back


Author: O01eg <o01eg@yandex.ru>


    Simplify boost::python::dict forwarding.


Author: O01eg <o01eg@yandex.ru>


    Fix MSVC projects


Author: O01eg <o01eg@yandex.ru>


    Use boost::python::dict forwarded


Author: O01eg <o01eg@yandex.ru>


    Includes cleanup


Author: O01eg <o01eg@yandex.ru>


    Move remaining value refs


Author: O01eg <o01eg@yandex.ru>


    Remove unneded fields from techs grammar


Author: O01eg <o01eg@yandex.ru>


    Move sources/targets/candidates and enums to separate files


Author: O01eg <o01eg@yandex.ru>


    Move value refs to separate file


Author: O01eg <o01eg@yandex.ru>


    Move conditions to separate file


Author: O01eg <o01eg@yandex.ru>


    Move some effects parser stuff to separate common file


Author: geoffthemedio <geoffthemedio@gmail.com>


    add effect to Outposts tech so outpost influence moves towards target influence. outposts otherwise won't get this effect due to lack of a species to get it from.


Author: geoffthemedio <geoffthemedio@gmail.com>


    add restrictions to Bureaucracy focus change effect, so that it only affects planets of the same empire that have populations. this should hopefully fix an issue where other empires' outposts were getting influence penalties each turn when another empire adopted Bureaucracy.


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    combine namepsace labels


Author: Geoff <geoffthemedio@users.noreply.github.com>


    rework Balance focus as Moderation: (#3593)
    
    -Bonuses to influence and stability are is additive rather than multiplicative
    -Bonuses are based on the ratio of the number of planets using the most common focus and total number of planets


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak evacuation related strings


Author: agrrr3 <axel.gross@iaeste.at>


    Format SR_FLUX_LANCE.focs.txt [review-01]
    
    Co-authored-by: Geoff <geoffthemedio@users.noreply.github.com>


Author: Axel Groß <axel.gross@iaeste.at>


    Use named variables and fix spatial flux hull descriptions [review-01]


Author: Axel Groß <axel.gross@iaeste.at>


    Add missing flux-lance.png [review-01]


Author: O01eg <o01eg@yandex.ru>


    Disable debug for Godot tests


Author: Axel Groß <axel.gross@iaeste.at>


    Make godot client runnable, clean up
    
    == Fixes ==
    * icon path without $SNAP - Icon paths in the desktop file will be rewritten to use ${SNAP}/<file> if specified as desktop file in snapcraft.yaml
    * use a library path in gdnlib which is known at build time and accessible at run time
    ** it seems this gets hardcoded when exporting via godot-server
    ** layout adds a symlink for runtime
    
    == Refactor ==
    * use ${SNAPCRAFT_ARCH_TRIPLET}
    * format fixes for yamllint


Author: oleg <o01eg@yandex.ru>


    Enable Godot for snap package


Author: Axel Groß <axel.gross@iaeste.at>


    Change flux stealth effect: -30 stealth for two turns if the ship stops in a system


Author: Axel Groß <axel.gross@iaeste.at>


    Add two to tech count in PythonParserTest


Author: Axel Groß <axel.gross@iaeste.at>


    Move SPACE_FLUX techs into own little tree, add SHP_SPACE_FLUX_BASICS and SHP_SPACE_FLUX_COMPOSITION


Author: Axel Groß <axel.gross@iaeste.at>


    Add SR_FLUX_LANCE weapon part


Author: Axel Groß <axel.gross@iaeste.at>


    Add hull SH_SPACE_FLUX_COMPOSITE


Author: Axel Groß <axel.gross@iaeste.at>


    Make SPACE_FLUX_BUBBLE cheaper and more fragile; Refactor SPATIAL_FLUX_STEALTH_TECH_BONUS


Author: Axel Groß <axel.gross@iaeste.at>


    Split spatial flux hulls into own hull line (was in robotic)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Oct 27, 2021 - c3ec6ec)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -avoid string copy
    -replace const strings with constexpr string_view
    -reimplement DetermineCustomCategory to return string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use boost::locale::to_lower instead of boost::algorithm::to_lower as it seems to work for more accented characters
    -exit from SearchPediaArticleForWords if the requested article is found in the pedia, even if the searched-for string isn't in it


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    check with __has_include rather than a feature test macro before including the header that might define that macro


Author: geoffthemedio <geoffthemedio@gmail.com>


    -optimized RGBA tag generation in GG::Font and WrapColorTag in CombatEvents
    -uses std::to_chars if available, otherwise string reserve and append with std::to_string


Author: geoffthemedio <geoffthemedio@gmail.com>


    -refactor text wrapper functions to reserve space and append
    -[[fallthrough]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    make size constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    make VartText tags constexpr string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    -index SubstitutionMap by string_view instead of string copies
 / comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass to WithTags with string_view
    -reserve space in return value before assembling string
    -avoid constructing temporary strings in Substitute::operator()


Author: geoffthemedio <geoffthemedio@gmail.com>


    -default VarText constructor
    -return VarText::GetVariableTags as vector of string_view
    -in VarText::AddVariable, take tag by value as string
    -also add (hopefully temporary) AddVariable overload that takes a string_view and immediately constructs a string from it
    -add comments explaining why VarText needs to hold its template string and variable strings as strings and not string_view (to support (de)serialization)
    -structured binding, grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make TextLinker TAG constant into constexpr string_view
    -store and pass TextLinker link type as string_view



Author: geoffthemedio <geoffthemedio@gmail.com>


    add Font::RegisterKnownTag taking a string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    add Font::Substring::operator==(std::string_view rhs)


Author: geoffthemedio <geoffthemedio@gmail.com>


    made LinkTaggedText, LinkTaggedIDText, and LinkTaggedPresetText take parameters as string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass/return string_view
    -reserve space in string before appending to it


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass string to SetClipboardText by value
    -pass string_view to StripTags
    -generate return value of StringTags using appending with iterators instead of constructing Substring


Author: geoffthemedio <geoffthemedio@gmail.com>


    return std::string_view from TextControl::Text and Edit::Selected text rather than a newly allocated string


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing string_view instead of const std::string&


Author: Andrey <Cjkjvfnby@gmail.com>


    Refactor production (#3564)
    
    - Extract code to functions
    - Move print-related functions to a separate module
    - Move variables declarations close to is usages


Author: Andrey <Cjkjvfnby@gmail.com>


    Simplify timers, make better timing for generateOrders (#3555)
    
    * Simplify timers, make better timing for generateOrders
    * Fix initializer


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add newline to policy pedia article text after species that dislike policy to fix issue with the dislikes disappearing sometimes
    -reserve space in strings passed into GetRefreshDetailPanelInfo


Author: agrrr3 <axel.gross@iaeste.at>


    policy combat bonus for other weapons (#3582)
    
    * PLC_CHARGE also boosts other weapon systems
    * Give stationary flanking bonus only if own ships are stationary


Author: O01eg <o01eg@yandex.ru>


    Send public chat messages


Author: O01eg <o01eg@yandex.ru>


    Show chat in godot


Author: O01eg <o01eg@yandex.ru>


    Additional functions


Author: O01eg <o01eg@yandex.ru>


    Simplify godot::String to std::string conversion


Author: O01eg <o01eg@yandex.ru>


    Add function to send public chat message


Author: O01eg <o01eg@yandex.ru>


    Fix test


Author: O01eg <o01eg@yandex.ru>


    Make FreeOrionNode global so it can be used in other scenes


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Oct 24, 2021 - fd252e1)


Author: geoffthemedio <geoffthemedio@gmail.com>


    default System star type to invalid, so that unexplored systems again appear as ? on the map, not blue stars, which apparently started happening recently


Author: geoffthemedio <geoffthemedio@gmail.com>


    speed up pedia search by pre-transforming searched text and article name and contents, rather than using case-insensitive search, which at least on Windows requires repeated locking for synchronization when accessing the locale / facet


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add OptionsDB::FindOptions overload that returns by value
    -store and pass string_view instead of string
    -reimplement StripQuotation to take and return string_view instead of passing a mutable string reference
    -rework StringToList to take a string_view and manually do the tokenizing rather than using boost::tokenizer that won't work with string_view input
    -rework ListToString to take an rvalue reference to its input to avoid unnecessary copies
    -rework Options section tracking to store string_view
    -removed dummy implementation of ValidatorBase functions and made it pure virtual interface class
    -added Validator::Validate overload taking a string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    made CombatLogManager::m_latest_log_id atomic


Author: geoffthemedio <geoffthemedio@gmail.com>


    make some static random distribution objects const


Author: geoffthemedio <geoffthemedio@gmail.com>


    reimplement option section predicates with std::string_view instead of const std::string&


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant namespace qualifiers


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ObjectMap and current turn number to SitRepEntry generators
    -pass a string with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant static_cast, grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


 / comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid const_cast by allowing heterogenous comparison in GG::Layout::m_wnd_positions


Author: geoffthemedio <geoffthemedio@gmail.com>


    wrap +COMMENT regex in keep() to create an independent sub-expression, which seems to fix an error when loading stringtables like es.txt that have many successive lines with just # comments on them


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Three minor fixes (#3592)
    
    * Added missing multiplier
    * Removed min-stability from (very) bad research
    * Update / fix Metropole description


Author: O01eg <o01eg@yandex.ru>


    Update test/system/TestChecksum.cpp
    
    Co-authored-by: Geoff <geoffthemedio@users.noreply.github.com>


Author: O01eg <o01eg@yandex.ru>


    Add environment managed enforce checksum test


Author: O01eg <o01eg@yandex.ru>


    Test techs checksum


Author: Roberto Sánchez <33062572+rsf92@users.noreply.github.com>


    Spanish translation (#3561)
    
    Update es.txt
    
    Co-authored-by: Roberto Sánchez Fernández <robertosanchez_9@protonmail.com>


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Make necessity require research focus. (#3591)
    
    Also avoid showing an effect of 0.


Author: geoffthemedio <geoffthemedio@gmail.com>


    perfect forward parameter to ValueRef::Constant


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Halfed effect of good/bad stability (#3575)


Author: O01eg <o01eg@yandex.ru>


    Send chat messages to Godot


Author: O01eg <o01eg@yandex.ru>


    Add chat window for godot client
    
    Also set signal connection to deferred because it calld from network
    thread.


Author: O01eg <o01eg@yandex.ru>


    Don't repeat already defined cmake arguments for godot-cpp external project


Author: geoffthemedio <geoffthemedio@gmail.com>


    add CombatLogManager::AddNewLog overload taking an rvalue reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    used passed-in ScriptingContext's ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    check if passed-in ScriptingContext has a different SupplyManager than this


Author: geoffthemedio <geoffthemedio@gmail.com>


    use CheckContextVsThisUniverse in a few more Universe member functions that are also passed a ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    defaulting structors


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ScriptingContext into SupplyManager::Update
    -add static Empire::GetEmpireIDsWithDiplomaticStatusWithEmpire overload
    -pass ObjectMap into EmpireTotalSupplyRangeSumInSystem
, structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ObjectMap into ResourcePool::Update via Empire::UpdateResearchQueue and Empire::UpdateInfluenceSpending



Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap to Fleet::MaxShipAgeInTurns


Author: geoffthemedio <geoffthemedio@gmail.com>


    -passing in Universe rather than global lookups
    -const restricting passed in System pointers
    -structured binding



Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt ( Oct 18, 2021 - 928f2e6 )


Author: agrrr3 <axel.gross@iaeste.at>


    Make statistics description use the stringtable entry, also describe CountUnique details (#3581)


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap to PopulationPool::Update via Empire::UpdatePopulationGrowth


Author: geoffthemedio <geoffthemedio@gmail.com>


    raw pointer getters from ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    don't move from const


Author: geoffthemedio <geoffthemedio@gmail.com>


    add ObjectMap::allRaw getters that return ranges of raw pointers instead of shared_ptr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make various strings into constexpr string_view
    -add operator+ for two string_view
    -store and pass vector<SaveFileColumn> by value or reference, not in shared_ptr
    -default ~SaveFileDialog() and SaveFileListBox()
    -pass strings into SaveFileColum constructors by forwarding reference
    -return string from SaveFileColumn::Title by const reference, not value
    -remove unneeded default SafeFileRow constructor



Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace raw pointers with unique_ptr
    -remove unused member



Author: geoffthemedio <geoffthemedio@gmail.com>


    update GG_FLAG_TYPE macro with default member value, defaulted constructor, and noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    update GG Exception macros with noexcept instead of throw() and forwarding or defaulted constructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant #include


Author: geoffthemedio <geoffthemedio@gmail.com>


    store pointers in vector instead of set so that they can be moved from later


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix constness of ObjectMap::all<T> pointer ranges


Author: geoffthemedio <geoffthemedio@gmail.com>


    make temporary string mutable so it can be moved from


Author: geoffthemedio <geoffthemedio@gmail.com>


    made GetPrefixedTextures return by const reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    made a const static parser lexer so a new one doesn't need to be constructed for each parse call


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass strings with move
    -use {} construction for Message
    -use move on stringstream before .str() call, which will be optimzied in C++20


Author: geoffthemedio <geoffthemedio@gmail.com>


    use string instead of boost::shared_array<char>


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove useless code: variants are never empty


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass const Universe into object(map) Copy and Clone functions
    -tweak handling of lanes in System::Copy
    -make handling of containing fleet simpler in Ship::Copy, similar to Building::Copy and its containing planet


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext to ProductionQueue::Update and Empire::UpdateResourcePools


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing ScriptingContext in MapWnd functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework RestoreSidePanel to avoid repeatedly recalculating meters when switching between windows


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Oct 10, 2021 - 46f70bc)


Author: O01eg <o01eg@yandex.ru>


    Fix reading game rules values from options (#3574)
    
    Fix game rules from options


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove some uses of "your" from strings


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Balance policy Metropoles
    Halfed production and research bonus.
    Require stability of 12.
    No more than 1 in 4 of an empires populated planets can become a metropole.


Merge: 87a9817f1 6f5bdf9dc
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3556 from Grummel7/colonizeAfterConquer
    
    Colonize after conquer


Author: geoffthemedio <geoffthemedio@gmail.com>


    -default destructor in header
    -move default constructor to protected section


Author: geoffthemedio <geoffthemedio@gmail.com>


    reorder members


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove empty and seemingly unnecessary to define destructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    add planet baseline stability rule


Author: geoffthemedio <geoffthemedio@gmail.com>


    store and use ScriptingContext rather than visibility maps in VisibleToEmpireSimpleMatch


Author: geoffthemedio <geoffthemedio@gmail.com>


    add Visibility getter helper to ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add current_turn parameters to some sitrep generators
    -add current_turn and Universe parameters to some Empire unlock / add / apply functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding and emplace


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe to PredefinedShipDesignManager::AddShipDesignsToUniverse


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap to SpeciesManager::UpdatePopulationCounter


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe to Empire::UpdateOwnedObjectCounters


Author: geoffthemedio <geoffthemedio@gmail.com>


    -do prefix lookups by function call rather than call-site operator[]
    -direct initialize prefix maps
    -store and pass prefixes as std::string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    just get building type name once before looping


Author: geoffthemedio <geoffthemedio@gmail.com>


    make static const


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variable


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use context diplo status
    -fix unused variable warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    use a static const MovingFleetVisitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    make move constructors noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    reorder members


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    use AppEmpireID() to decide what ObjectMap to use


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add EmpireID getter to AppInterface and derived classes
    -add AppEmpireID global getter


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext when creating and executing orders


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext into ShipPart::ProductionCost and ShipPart::ProductionTime


Author: geoffthemedio <geoffthemedio@gmail.com>


    add ScriptingContext parameters to Universe::Tags and Universe::HasTag functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass Universe into Ship constructor
    -pass ScriptingContext into Ship::TotalWeaponsFighterDamage and Fleet::CanDamageShips and a chain of called functions
    -pass ScriptingContext into various other functions
    -getting visibility info from context rather than Universe
    -add ScriptingContext constructor taking visibility info
    -refactor WeaponDamageImpl to not need to modify the visibility info of the main Universe or the passed-in ScriptingContext



Author: O01eg <o01eg@yandex.ru>


    Add support for Python's asyncio
    
    Embedded Python need to manually calls event loop so coroutines and
    callbacks could be executed.
    
    It uses approach described in https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.loop.run_forever
    to call olny ready callbacks and then return back to application.


Author: O01eg <o01eg@yandex.ru>


    Show stars in Godot client and center camera to star or fleet (#3572)
    
    Show stars in Godot client and center camera to star or fleet


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    -return result of GetObjectPropertyValues instead of filling passed-in container
    -structured binding
    -use std::transform when calculating object property values
    -use std::transform_reduce for calculating RMS (when available)
    -pass by const reference instead of by value with copy into lambdas for sorting
    -avoid specifying a comparator when the default is fine


Author: O01eg <o01eg@yandex.ru>


    Fix python parser on Android


Author: Andrey <Cjkjvfnby@gmail.com>


    Replace stub with mock (#3569)


Author: O01eg <o01eg@yandex.ru>


    Connect to remote server from Godot


Merge: 0ee33e61e d8707e3eb
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3497 from o01eg/python-server-api-reject-username
    
    Return false from auth.py result to mark unallowed player names


Merge: a7bcaec4f cdd85f01a
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3526 from o01eg/not-save-game-incorrent-turn
    
    Don't save game with incorrect turn number


Author: O01eg <o01eg@yandex.ru>


    Return false from auth.py result to mark unallowed player names


Author: oleg <o01eg@yandex.ru>


    Don't save game with incorrect turn number


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix checking id instead of pointer, which lead to crashes when producing a ship with ID 0


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass string_view and vector instead of string and unordered_set


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove non-const Species getter
    -add Species getter taking a std::string_view


Author: geoffthemedio <geoffthemedio@gmail.com>


    -appending instead of +



Author: geoffthemedio <geoffthemedio@gmail.com>


    added Universe::InsertTemp overload that takes a vector of object pointers to simultaneously insert


Author: geoffthemedio <geoffthemedio@gmail.com>


    add insertCore specialized overload for Planet


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    make UniverseObject and Planet Clone functions public


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make LinkTaggedText take std::string_view for its second parameter
    -construct strings in LinkTaggedText, LinkTaggedIDText, and LinkTaggedPresetText with reserve() and append() instead of operator+
    -move DEFAULT_DECORATOR into .cpp file


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe to Ship::AllWeaponsMaxShipDamage


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe to SumCurrentPartMeterValuesForPartClass


Author: geoffthemedio <geoffthemedio@gmail.com>


    rename by value with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework UniverseObject::GetVisibility to take a Universe or map of empires-objects visibilities rather than involving an internal global Universe lookup


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    use context visibility info in GenerateSitRepMessage AFFIL_CAN_SEE case


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe to System::ApparentName


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe to System::VisibleStarlanesWormholes


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in Universe


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in Universe


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap to CleanUpBombardmentStateInfo


Author: geoffthemedio <geoffthemedio@gmail.com>


    use member Universe


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe and EmpireManager to HandleScrapping


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe, not just ObjectMap, to Planet::Conquer


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in Universe


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in Universe


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in Universe


Author: geoffthemedio <geoffthemedio@gmail.com>


    use Universe from context


Author: geoffthemedio <geoffthemedio@gmail.com>


    -avoid copying when looping
    -trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    use context Universe and context empire object visibility info


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe from context to NumberOnQueue


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe from context into PredefinedShipDesignSimpleMatch


Author: geoffthemedio <geoffthemedio@gmail.com>


    rename function


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use string_view for hair space code
    -add hair string string UTF-8 validity check


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid temporary strings


Author: geoffthemedio <geoffthemedio@gmail.com>


    switch from unordered_set to set for storing Stringtable error keys because set preserves iterator (and thus references) when inserting, while unordered_set could rehash when inserting, invalidating references to previously-looked-up ERROR keys


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    removed mutex and locks from StringTable since it is only accessed via i18n functions which already do access guards


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add UserString, StringTable::operator[], and StringTable::StringExists overloads taking std::string_view and const char*
    -made spelling of userString in PythonAPI consistent between AI and server


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add MSVS2022 build Github action
    -rename Windows / MSVC workflows to make MSVS version more visible


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix reversed safety test for nullptr


Author: geoffthemedio <geoffthemedio@gmail.com>


    add (restore after 1063350) check that ship designs have colony parts and not just zero colony capacity when classifying them as outpost ships


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary ProductionQueue::AvailablePP


Author: geoffthemedio <geoffthemedio@gmail.com>


    use industrial pool Output rather than ProductionQueue::AvailablePP


Author: geoffthemedio <geoffthemedio@gmail.com>


    use ResourcePool::Output rather that passing into ProductionQueue::AvailablePP


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Output return by const reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    safety check


Author: geoffthemedio <geoffthemedio@gmail.com>


    move instead of copying from temporary


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace


Author: geoffthemedio <geoffthemedio@gmail.com>


    map merge instead of insert


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial comment edit


Author: geoffthemedio <geoffthemedio@gmail.com>


    use set merge


Author: geoffthemedio <geoffthemedio@gmail.com>


    use merge to move info into map


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid unnecessary copy


Author: geoffthemedio <geoffthemedio@gmail.com>


    -wrap various steps in generating planet suitability reports in try-catch blocks to help narrow down location of a reported UTF-8 text problem
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    -merge maps instead of transferring with move iterators
    -only get reference from function call once when getting begin and end iterators


Author: Morlic-fo <Morlic@gmx.de>


    Improve AI systems_connected performance (#3559)
    
    * Optimize AI systems_connected performance
    
    Instead of running a BFS for each pair of system ids, cache the set of systems connected to the capital in a single depth-first-search and check if queried system_ids are within that set. Since most of the visible systems will be connected to the capital, this will cover most cases. Only if both systems are not connected to the capital, we will have to run another BFS. However, the search space will be significantly smaller since -again- most systems will be connected to the capital and thus won't be part of the search.


Author: Morlic-fo <Morlic@gmx.de>


    Fix star based colonization value calculation
    
    The larger boni should apply if the AI does not yet have a star of that type. The defect was introduced in #3484


Author: geoffthemedio <geoffthemedio@gmail.com>


    group together bools to hopefully improve memory layout density


Author: geoffthemedio <geoffthemedio@gmail.com>


    reorder members to slightly reduce size in memory due to alignment


Author: geoffthemedio <geoffthemedio@gmail.com>


    -constexpr integer power of 2 function, rather than floating point std::pow and cast
    -slightly reduce requested capacity due to theoretical benefit


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary dynamic_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    -safety try-catch around possibly crashy planet suitability pedia text generation
    -use PathToString where seemingly appropriate
    -log filenames of images for planet types


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove Ship::Design and replace with explicit calls to Unvierse::GetShipDesign
    -passed around Universe more and in place of ObjectMap rather than relying on global getters
    -added SetSpeciesObjectPopulations and SetSpeciesShipsDestroyed to SpeciesManager and adjusted const correctness


Author: geoffthemedio <geoffthemedio@gmail.com>


    -reordered members


Author: geoffthemedio <geoffthemedio@gmail.com>


    -[[nodiscard]]
    -defaulted constructor



Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    -simplify more private/protected/public member categories arrangement
    -avoid potential leak by creating objects in unique_ptr in Clone methods before returning as raw pointers
    -simplify and unify the object construction in Clone calls with consistent use of default constructors
    -remove unneeded System constructor
    -default values for Planet members
    -use context Universe rather than calling GetUniverse



Author: geoffthemedio <geoffthemedio@gmail.com>


    use context Universe in effects


Author: geoffthemedio <geoffthemedio@gmail.com>


    -simplify Fleet and Planet private/protected/public member categories arrangement
    -move implementation of Fleet::ArrivedThisTurn into .cpp


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


, grooming


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    replace static_assert with an invalid using declaration as GCC was triggering the static_assert even in a code block that should have been excluded by if constexpr {}


Author: geoffthemedio <geoffthemedio@gmail.com>


    -reimplement TryInsertIntoMap with an additional enum template parameter so it can be used in FOR_EACH_EXISTING_MAP to filter the passed in objects
    -reimplement TryInsertIntoMap with a single implementation body with if constexpr for various cases


Author: geoffthemedio <geoffthemedio@gmail.com>


    -avoid dynamic_pointer_cast
    -avoid repeated lookups


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add static_assert to Universe::InsertID to only work for UniverseObject-derived classes, and thereby remove a dynamic_pointer_cast
, removing unnecessary temporaries


Author: geoffthemedio <geoffthemedio@gmail.com>


    add [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding / grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Ship::PublicName overload that doesn't take ObjectMap parameter


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweak ScopedTimer constructors
    -remove unnecessary parameters to ScopedTimer constructors to enable output, which should be the default behaviour


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Indoctrination fix for colonization on recently conquered planet.


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Change +/- for planetery tolerance


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fixing another not-constexpr default constructor warning



Author: geoffthemedio <geoffthemedio@gmail.com>


    fix unused variable warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    add necessary virtual destructors to abstract base class


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary virtual


Author: geoffthemedio <geoffthemedio@gmail.com>


    -bump MSVC2022 project files to build in C++20 mode
    -workaround / fix for a compile error in a library header file in C++20 mode


Author: geoffthemedio <geoffthemedio@gmail.com>


    hopefully fix issue with C++20 string format conversions


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix warning about default constructor not being constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    add MSVC 2022 project files using v143 toolset


Author: sevu <severin.gloeckner@stud.htwk-leipzig.de>


    Remove old code fromCMakesList (#3474)
    
    cmake_minimum_required sets implicitly all policies, which were introduced before or with the minimum version, to NEW.


Merge: 51feb85e4 479545394
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3554 from Grummel7/2fixes
    
    Likes Kraken Nest and Metropoles error in UI


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    store system id to graph index lookup in flat_map


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant check


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make ScopedTimer and SectionedScopedTimer [[nodiscard]]
    -except not for GCC because it doesn't seem to like it mixed with FO_COMMON_API


Author: geoffthemedio <geoffthemedio@gmail.com>


    added ThreadPool.h to consolidate the fallback older-Boost thread_pool dummy implementation


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: Andrey <Cjkjvfnby@gmail.com>


    Cache shortest distance and get neighboars (#3553)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use static_pointer_cast instead of another ObjectMap lookup when possible
    -move pointers when assigning
    -remove unnecessary extra local variable


Author: geoffthemedio <geoffthemedio@gmail.com>


    store GraphImpl::EdgeVisibilityFilter edge data in boost::container::flat_set that is initialized from pre-sorted data, rather than in std::unordered_set


Author: geoffthemedio <geoffthemedio@gmail.com>



    -defaulting constructor
    -make getter const
    -make timer actually potentially useful


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Added missing LIKE-macros to monster nests


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix UI problem with Metropoles
    
    MapWnd::SelectSystem called Universe::UpdateMeterEstimates(int object_id...
    which restricted the context to objects with the system. Metropoles
    look for the 6 biggest most populous planets and this only works when
    the context contains all planets.


Author: Andrey <Cjkjvfnby@gmail.com>


    Preparation to have multiple prefixes for codecs (#3552)


Author: Andrey <Cjkjvfnby@gmail.com>


    Round values to avoid saving too many digist after point to savestring (JSON) (#3551)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Use caches to speedup invasion calculations (#3548)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Remove unused uid generation (#3550)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -moved m_constant_expr to ValueRefBase, which lets StringCast and StaticCase also track their ConstantExpr status
    -also moved m_simple_increment to ValueRefBase
    -made some Variable getters noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    added alternative but unused alternative implementation of Capital::GetDefaultInitialCandidateObjects which seems to be slightly slower than the simpler / general call to add all planets


Author: geoffthemedio <geoffthemedio@gmail.com>


    add optimized Capital::Eval


Author: geoffthemedio <geoffthemedio@gmail.com>


    consistent return value to hopefully help copy elision when returning


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace_back -> push_back


Author: geoffthemedio <geoffthemedio@gmail.com>


    default constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    -auto replacement
    -safety check


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store potential target ids in flat_set instead of unordered_set
    -cache locally destroyed object ids rather than re-getting for each lookup
    -store results of effect target set evaluations in deque instead of list


Author: geoffthemedio <geoffthemedio@gmail.com>


    -list -> vector
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    auto replacement


Author: geoffthemedio <geoffthemedio@gmail.com>


, auto replacement


Author: geoffthemedio <geoffthemedio@gmail.com>


    auto replacement


Author: geoffthemedio <geoffthemedio@gmail.com>


    use deque instead of list


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed empty filter


Author: geoffthemedio <geoffthemedio@gmail.com>


    added FieldTypeManager::size and ShipPartManager::size


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    commented out unused variable


Author: geoffthemedio <geoffthemedio@gmail.com>


    parallelize init and update of empire resource pools


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    move log text generation into lambdas to hopefully avoid unnecessary evaluation when the filter won't output it


Author: geoffthemedio <geoffthemedio@gmail.com>


    restring visibility setting to ownable objects (not fields or systems)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -structured binding
    -lambda for logger text generation


Author: geoffthemedio <geoffthemedio@gmail.com>


    move object type filters before ownership filters to avoid unnecessary tests on systems


Author: geoffthemedio <geoffthemedio@gmail.com>


    only check capitals to see if an empire has a tech


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove no-context Condition::Eval override


Author: Andrey <Cjkjvfnby@gmail.com>


    Reformat code with black (#3545)


Merge: efc873f03 ed8410e54
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3509 from o01eg/godot-network
    
    Add Godot methods to connect to remote server and get universe objects


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Aug 14, 2021 - e59def3)


Author: Vezzra <vezzra@gmx.net>


    Update changelog


Author: geoffthemedio <geoffthemedio@gmail.com>


    FOCS condition tweaks


Author: geoffthemedio <geoffthemedio@gmail.com>


    scripting comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak Kraken growth effectsgroup activation and scope conditions


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak / groom Statistic If condition nested subconditions


Author: geoffthemedio <geoffthemedio@gmail.com>


    clarifying comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    add more restrictions to the source object in Statistic If sampling conditions


Author: geoffthemedio <geoffthemedio@gmail.com>


    only check planets and ships when calculating empire detection ranges


Author: geoffthemedio <geoffthemedio@gmail.com>


    populate attackers with just ships and planets, to avoid a call to System::Owner


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace PopulationCenter conditions with Planet conditions


Author: geoffthemedio <geoffthemedio@gmail.com>


    activation or scope condition script optimizations: mostly restricting the candidates in a subcondition to the container of the root candidate


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix immediate ValueRef::Variable Dump output missing its leading "Value("


Author: geoffthemedio <geoffthemedio@gmail.com>


    NoOp ValueRef should be non-constant to ensure evaluation for debug purposes


Author: geoffthemedio <geoffthemedio@gmail.com>


    condense nested namespaces


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add some additional resource meter decrease factors when the target meter is much lower, to mitigate focus-toggling strategies
    -remove Stability dependence of Influence resource meter growth rates


Author: geoffthemedio <geoffthemedio@gmail.com>


    add an additional larger meter decay factor when the difference between target and current meters is larger than 2, dependent on the square root of the difference


Author: geoffthemedio <geoffthemedio@gmail.com>


    simplify and rebalance Force Energy Structures to give a fixed 3/turn faster growth or decay of meters, independent of stability


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak and slightly simplify focus-change penalities to resource meter output. now a penality of -2 to the non-focused resource meters is applied on the turn of a focus change to meters that are above their target value, limited by the difference between target and active resource meter (so the penalty won't cause the resource meter to overshoot the new target). hopefully this will further penalize rapid focus switching


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed more policy-check Statistic If FOCS expressions


Author: geoffthemedio <geoffthemedio@gmail.com>


    tpyo


Author: geoffthemedio <geoffthemedio@gmail.com>


    handle case when stringtable is missing with a hard-coded simpler message


Author: geoffthemedio <geoffthemedio@gmail.com>


    Add some hopefully-helpful explanation text to the output of freeorion -h


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract public module variables from ColonizationAI (#3538)


Author: Andrey <Cjkjvfnby@gmail.com>


    Add black formatter (#3531)
    
    Reformat support files with black
    
    * Add black uncompromised formatter
    * Make flake8 compatible with black
    * Update configs
    * Update CI checks
    * Improve isort messaging


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed some cost adjustment macros that were checking if any object was owned by an empire that had adopted a policy, rather than if an object owned by the empire doing the production is owned by an empire that has adopted a policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't evaluate ValueRef if not necessary


Author: geoffthemedio <geoffthemedio@gmail.com>


    location condition tweaks


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweaked some location condition:
    -add or move earlier OwnedBy empire = Source.Owner
    -add explicit Planet conditions


Author: geoffthemedio <geoffthemedio@gmail.com>


    only consider ships and planets when searching for any object owned by an empire, so that systems don't get returned


Author: geoffthemedio <geoffthemedio@gmail.com>


    store a reference to CurrentValueVariant rather than a separate value in ScriptingContext and default initialize with a reference to a const static empty CurrentValueVariant when none is passed in


Author: geoffthemedio <geoffthemedio@gmail.com>


    only get supply range from planets, not all objects. this avoids seemingly costly calls to System::Owner


Author: geoffthemedio <geoffthemedio@gmail.com>


    move pointers


Author: geoffthemedio <geoffthemedio@gmail.com>


    only evaluate empire_id if needed for applicable test


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't need to evaluate the high constraint if the low constraint fails


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove empty MSVC project file filter


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove as-yet-unused InfluenceQueue from Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Black Market policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made Trith species on the capital unlock Racial Purity policy
    -made Racial Purity policy not require adoption of Checkpoints


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added increased rate of growth or decay of influence to Capital Markets
    -increased influence boost from Capital Markets exported luxuries to 2


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Charge policy


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fix calculation for conquered planets (#3543)
    
    Of course I forgot to handle planets that were conquered
    before indoctrination was adopted.


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Aug 8, 2021 - f2ebb02)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Defined build and enqueue location for translator (#3542)


Merge: 2fbb8f017 f2ebb0254
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3541 from Grummel7/TurnsSinceLastConquered
    
    Added TurnsSinceLastConquered, used in for Indoctrination


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Some minor documentation improvements


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Added TurnsSinceLastConquered, used in for Indoctrination


Author: geoffthemedio <geoffthemedio@gmail.com>


    -clarify Metropoles description re: minimum population
    -fix copy-paste error in Metropoles description, to clarify that stockpile receives a penalty


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Trans-Organic Sentience boost the growth/decay rate of influence meters


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove meaningless but potentially misleading building description text


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Necessity policy that boosts research at low stability planets


Author: geoffthemedio <geoffthemedio@gmail.com>


    rewrote Martial Law description


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made Conformance research penalty not depend on stability
    -added flat stability boost to Conformance
    -rewrote stringtable description of Conformance


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Border Checkpoint unlock, rather than be a prerequisite for, Martial Law


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove happiness limit from Martial Law


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove Confederation prerequisite from Feudalism


Author: geoffthemedio <geoffthemedio@gmail.com>


    add ObjectMap parameter to SupplyManager::Dump


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -Marine Recruitment increases troop growth rates on planets
    -unlock Marine Recruitment by adopting Propaganda


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store EmpireManager reference rather than EmpireManager::const_container_type reference in CombatInfo
    -thereby reduce use of global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    removing global getter calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    -removed unused Empire::SourceID()
    -pass ObjectMap to AddExploredSystem


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added more ScriptingContext parameters to various functions to avoid calling global getters
    -removed some default values for ObjectMap parameter to various functions
    -prep for further passing of ScriptingContext by explicitly calling the global getters
    -added some checks when passing a ScriptingContext to a Universe member function that the passed-in ScriptingContext contains the same ObjectMap and Universe as the called-upon Universe



Merge: 4dca2ec76 0e7b9eb04
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3505 from o01eg/fix-drop-empire-link
    
    Didn't kick out current player connection


Author: Oberlus <sicofonte@gmail.com>


    Fix sign switch on xenophobic self malus (#3537)


Author: geoffthemedio <geoffthemedio@gmail.com>


    relax requirements for artistic species same-system bonus


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove industry effect from Nanite Swarm
    -divide Nanite Swarm repair effect over affected ships
    -make Nanite Swarm and Meteor Blizzard size shrink when ships are in them


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add Liberty and Conformance scaling to species like/dislike effects for policies
    -clarify stringtable descriptions


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduce Translator influence bonus


Author: geoffthemedio <geoffthemedio@gmail.com>


    make Indoctrination influence bonus flat and restrict to the capital and regional admin planets with influence focus


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing or preparation for passing gamestate into functions rather than using global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    -moved translator influence effect to [[TARGET_AFTER_2ND_SCALING_PRIORITY]] priority, similar to Automated History Analyzer
    -reduced size of effect to depend on the square root of the number of species


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unnecessary And and []


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Metropoles policy that boosts a small number of high-population planets, while penalizing others' stability


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Add turn type (#3535)


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Universe reference into Clone and Copy functions of UniverseObject


Author: geoffthemedio <geoffthemedio@gmail.com>



    -nodiscard


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass in ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass in ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: Oberlus <sicofonte@gmail.com>


    - Add macros for #ships, #planets and #population (#3529)
    
    - Make policy adoption costs based on #planets or #population use square root
    - Change base costs in a few policies


Merge: 6f2b5649b 176f4b56c
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3530 from agrrr3/20210722_use_unexpanded_snapcraft_yaml
    
    Use unexpanded snapcraft.yaml


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 21, 2021 - 94e5dee)


Author: Andrey <Cjkjvfnby@gmail.com>


    Update code owners (#3518)


Author: Axel Groß <axel.gross@iaeste.at>


    Remove unexpanded snapcraft.yaml from local dir (not needed anymore)


Author: Axel Gross <axel.gross@iaeste.at>


    Use unexpanded snapcraft.yaml


Author: agrrr3 <axel.gross@iaeste.at>


    Flanking multi starlane attack bonus (aka pincer attack)  (#3525)
    
    * FLANKING multi starlane attack bonus (aka pincer attack) via CountUnique PreviousToFinalDestinationID
    
    Give flanking damage bonus to ships which were coming in from different starlanes on the previous turn
    * effect is not given on direct jump
    * Only works for end destinations (which is fine fluffwise, military needs to carefully plan the pincer attack)
    
    === Add PreviousToFinalDestinationID fleet property (also as valueref) ===
    
    This returns the starlane/system a ship will arrive from when it reaches its destination.
    
    Returns the second last system in the flight plan.
    On the last jump it returns the previous system.
    Returns invalid object if fleet is stationary.


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 12, 2021 - 64ea315)


Author: geoffthemedio <geoffthemedio@gmail.com>


, destructor defaulting


Author: geoffthemedio <geoffthemedio@gmail.com>


    unlock Divine Authority (also) at Xenoarchaeology


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweaked Divine Authority prereqs and exclusions
    -indentation


Author: geoffthemedio <geoffthemedio@gmail.com>


, destructor defaulting


Author: geoffthemedio <geoffthemedio@gmail.com>


, destructor defaulting


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Feudalism policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed missing scale factor


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Colonialism policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Vassalization policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix neutral / unowned forces being labelled "Unknown" in combat initial stealth event descriptions


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ScriptingContext rather than ObjectMao and Empire<anager separately



Author: geoffthemedio <geoffthemedio@gmail.com>


    pass EmpireManager into CombatEvent log and description functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    implemented ClientUI::ZoomToField


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jul 6, 2021 - 82b2143)


Author: Andrey <Cjkjvfnby@gmail.com>


    Add st-tool linting to CI (#3521)


Author: Andrey <Cjkjvfnby@gmail.com>


    Use f string instead of format (#3522)


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract claimed stars operations to a separate file


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove unused variables


Author: Andrey <Cjkjvfnby@gmail.com>


    Add stringtables check to pre-commit (#3519)


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix broken references in ru stringtables


Author: Andrey <Cjkjvfnby@gmail.com>


    Add st tool reference check


Author: Andrey <Cjkjvfnby@gmail.com>


    Cleanup 2 (#3515)
    
    * Update annotation usage
    * Remove reference to statprof


Author: Andrey <Cjkjvfnby@gmail.com>


    Cleanup (#3485)
    
    * Remove unused variable
    * Cleanup table printing a bit


Author: agrrr3 <axel.gross@iaeste.at>


    Ignore freshly established colonies for evacuation building effects (#3514)
    
    Ignore freshly established colonies for evacuation building effects


Author: oleg <o01eg@yandex.ru>


    is_connected already used by Godot


Author: oleg <o01eg@yandex.ru>


    Add universe fleet and system access


Author: oleg <o01eg@yandex.ru>


    Add methods to connect to remote server


Merge: 2ab39e4fd 355adc95a
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3508 from o01eg/godot-auth
    
    Add auth password window and galaxy map scene


Author: geoffthemedio <geoffthemedio@gmail.com>


    made a few operators and a function constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


 / tweak


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Flanking policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed effects acting on non-existing-weapon meters


Author: geoffthemedio <geoffthemedio@gmail.com>


    missed file adds from recent commits


Merge: c7298ee18 18deaafc9
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3356 from agrrr3/20210311_combatDamageEstimation
    
    Add totalFighterDamage and totalShipDamage calculations


Merge: c9575c6b8 5ad3e70a4
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3511 from Grummel7/minStabilityFinal
    
    Two more min stability case and a fix


Author: Axel Groß <axel.gross@iaeste.at>


    DAMAGE_STRUCTURE_PER_BATTLE and DESTROY_FIGHTERS_PER_BATTLE values for ObjectListWindow


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Another error in en.txt


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Two more min stability case and a fix
    
    I've changed divine authotity as discussed.
    Ancient ruins now use 12 as a minimum instead of 10 or 15.
    Depleted is the natural state of ancient ruins, they get depleted
    as soon as an owner has Xenoarchaeology. Of course with the common
    definitions its now easier to change, too.
    One more missing brace in en.txt, argh :-(


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    Added The Hunt policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    redundant comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    Terraforming policy gives additional bonuses to stability, research, and influence generation on planets that have been terraformed


Author: geoffthemedio <geoffthemedio@gmail.com>


    Environmentalism penalties also affect Gas Giants


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix Technocracy copy-paste error


Author: geoffthemedio <geoffthemedio@gmail.com>


    check policy prereqs and exclusions when deciding whether to accept a drag-drop into a policy slot


Author: geoffthemedio <geoffthemedio@gmail.com>


    -Environmentalism and Industrialism are mutually exclusive
    -trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    hopefully fix issue with dragging policies out of slots not properly issuing the correspond order


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweaked error logging and comments


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jun 29, 2021 - c8d39ee)


Author: Vezzra <vezzra@gmx.net>


    Revert "Avoid linking against libvorbisenc and use the targets of Vorbis (#3489)"
    
    This reverts commit d79e0d1e9fdce57ca8a83e251c71068e01d13f2e.


Author: oleg <o01eg@yandex.ru>


    Add auth password window and galaxy map scene


Author: Grummel7 <muzz@albatross.pond.sub.org>


    document stability requirements (#3504)
    
    Added lots of MIN_STABILITY values and used them in en.txt
    Also added some missing documentation.
    Finally did two minor fixes/improvement to the scripting:
    I modified the effect of Industry Center to make sure
    you never lose production after researching a refinement.
    The Influence effect of Diversity did not match the description.


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jun 26, 2021 - 7eeba8e)


Author: oleg <o01eg@yandex.ru>


    Didn't kick out current player connection


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fixed calculation for (dis-)liked building in other systems (#3503)


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduced Meteor Blizzard total research generation to depend on sqrt(#ships) within it


Author: geoffthemedio <geoffthemedio@gmail.com>


    -reduced Environmentalism stability and influence bonuses
    -made Environmentalism bonuses only apply when not using Industry focus and when there are no buildings on a planet


Author: geoffthemedio <geoffthemedio@gmail.com>


    Nymnmn attract some fields


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Field Repellor building


Author: geoffthemedio <geoffthemedio@gmail.com>


    added parsing for field type condition


Author: geoffthemedio <geoffthemedio@gmail.com>


    added a Field type condition


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Technocracy policy, like Industrialism but for research, unlocked by having Bureaucracy adopted


Author: geoffthemedio <geoffthemedio@gmail.com>


    () to {} for construction


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made a single-parameter ScriptingContext contructor explicit
    -added an in_design_id field to ScriptingContext and used instead of storing in the current_value field
    -added a production_block_size field to ScriptingContext, which is currently unused
    -added a ScriptingContext constructor taking two ints for the in_design_id and production_block_size values


Author: geoffthemedio <geoffthemedio@gmail.com>


    include empire's destroyed ships in serialized info


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    (temporarily) track ships that an empire has destroyed, so that they can't be double-counted if multiple ships attack it the same combat round


Author: sevu <severin.gloeckner@stud.htwk-leipzig.de>


    cmake: hide PATH-Variables in the advanced section (#3490)
    
    That's in line with the other cmake files.


Author: Andrey <Cjkjvfnby@gmail.com>


    Update AI annotations (#3502)
    
    - Add SpeciesName type
    - Add annotations to some functions
    - Update generator to produce new types
    - Fix import reformat errors in the stub generator


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Combine list of identical building effects into one (#3488)
    
    Combine list of identical building effects into one Identical means all but the planets, thus avoiding long lists of liked or disliked buildings within a large empire.


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    const reference and structured loop binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    const reference loop variable


Author: geoffthemedio <geoffthemedio@gmail.com>


    -[[nodiscard]]
    -pass SupplyManager from context to SimpleMatch functions that use it, rather than calling GetSupplyManager()


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


 / structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    -[[nodiscard]]



Author: geoffthemedio <geoffthemedio@gmail.com>


    -removed inappropriate [[nodiscard]]
    -TODO comment


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jun 19, 2021 - a919f7d)


Author: geoffthemedio <geoffthemedio@gmail.com>


    comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    added exploration research policy that grants research when exploring a system. accounting tooltips are glitchy due to use of CurrentTurn comparison.


Author: geoffthemedio <geoffthemedio@gmail.com>


    Military Command provides a 2nd slot after killing 5 ships


Author: geoffthemedio <geoffthemedio@gmail.com>


    NoOp::Execute logs at Debug rather than Trace level


Author: geoffthemedio <geoffthemedio@gmail.com>


    auto replacement


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fixed probably long-standing (8 years?) bug with ContainedBy::Match that returned the opposite of what it should have. This probably didn't affect gameplay much, since most or all uses of ContainedBy have subconditions that are OK to evaluate once for checking all candidates, rather than the per-candidate evaluation case that actually calls Match
    -moved some shared_ptr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -Added NoOp ValueRef::Operation for debug purposes
    -[[nodiscard]]
    -made constructor explicit


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    lowered stability requirements of solar orbital generation effects


Author: geoffthemedio <geoffthemedio@gmail.com>


    adapt Python API signatures for changed constness of pointers


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -expand / groom / comment character position calculation code
    -debug/error output to cerr if invalid text is pasted


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass strings by value / const reference, rather than pointer, when handing text input events


Author: geoffthemedio <geoffthemedio@gmail.com>


    -create just a single TEXTINPUT event for text input
    -safety limits when converting SDL event into a string


Author: geoffthemedio <geoffthemedio@gmail.com>


    -[[fallthrough]]



Author: Andrey <Cjkjvfnby@gmail.com>


    Introduce fo specific type annotations (#3491)


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment out some getting of validators that aren't used


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    hopefully quiet warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove [[maybe_unused]] that was giving warnings

    -default init at declaration


Author: geoffthemedio <geoffthemedio@gmail.com>


    include missing <limits> header for numeric_limits


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made some StrSize, CPSize, and TextFormat constants constexpr
    -made printable ASCII ranges into constexpr arrays


Author: geoffthemedio <geoffthemedio@gmail.com>


    made GG_FLAG_TYPE constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -shorten parameter names
    -get objects from the passed-in universe when possible


Author: geoffthemedio <geoffthemedio@gmail.com>


    disallow newlines in pedia search edit, which prevents weirdness when pasting in multi-line text


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    -[[nodiscard]]



Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed some serialization old-version fallback code


Author: geoffthemedio <geoffthemedio@gmail.com>


    -Fix issues with calculation of research bonus in Distributed Thought Computing
    -Replaced some * with • in various strings


Author: O01eg <o01eg@yandex.ru>


    Fix compilation (#3496)


Author: Axel Groß <axel.gross@iaeste.at>


    Fix duplicate default values in TotalFighterShots signature


Author: Axel Groß <axel.gross@iaeste.at>


    Base MILITARY_STRENGTH statistic on putting all ships in a single fleet
    
    This estimates the power of all your ships now put in a single fleet
    instead of estimating the power of each ship flying solo and adding that up.


Author: Axel Groß <axel.gross@iaeste.at>


    Rename TotalShipDamageEstimation -> DamageStructurePerBattleMax and TotalFighterDamageEstimation -> DestroyFightersPerBattleMax (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    Get rid of substruct (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    Add carrier parameter to TotalFighterShots ValueRef (review-01)
    
    Examples:
    totalFighterDamageEstimation = (TotalFighterShots carrier = Source.ID)
    totalFighterDamageEstimation = (TotalFighterShots carrier = Source.ID condition = All)
    totalFighterDamageEstimation = (TotalFighterShots carrier = Source.ID condition = (CombatBout == 2))


Author: Axel Groß <axel.gross@iaeste.at>


    Use TEMPORARY_OBJECT_ID instead of unnamed magic number
    
    EncyclopediaPanel uses InsertTemp (and turning off of signals) for similar purposes.
    But that inserts a temporary object into the universe and at least at the moment
    we get away by just using an id != -1 instead of adding and deleting it from the universe.
    Potentially this could break when using subconditions(?)


Author: Axel Groß <axel.gross@iaeste.at>


    Elaborate labels for damage/destruction by fleet (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    Elaborate documentation for AllWeapons*ShipDamage (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    Ship weapon summary 'Totals for 4 bout battle, Structural Damage: 100.0 / Destroyed Fighters: 0' (review-02)


Author: Axel Groß <axel.gross@iaeste.at>


    Ship weapon summary 'Structural Damage: 100.0 / Destroyed Fighters: 0'


Author: Axel Groß <axel.gross@iaeste.at>


    Documentation refueled -> resupplied (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    move {} to same line with return (review-01) ; rename param


Author: Axel Groß <axel.gross@iaeste.at>


    Add TotalFighterShots() documentation (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    Fix indention, remove comment (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    remove unnecessary explicit cast (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    Remove unnecessary target_conditions vector (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    prefer push_back to emplace_back for a single existing object (review-01)
    
    .. use emplace_back to forward parameters to a constructor


Author: Axel Groß <axel.gross@iaeste.at>


    move { to new line (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    space after , (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    Remove redundant 'design' parameter (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    Use source->SpeciesName instead of SP_HUMAN (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    prefer curly brace initialization (review-01)


Author: Axel Groß <axel.gross@iaeste.at>


    Obsolete Attack valueref instead introduce TotalWeapons*Damage ones


Author: Axel Groß <axel.gross@iaeste.at>


    Let TotalFighterShots always be local candidate invariant


Author: Axel Groß <axel.gross@iaeste.at>


    Move some damage functions to a central place
    
    Move from MeterBrowseWnd and ValueRefs::TotalFighterShots to CombatDamage


Author: Axel Groß <axel.gross@iaeste.at>


    Use CanDamageShips in some cases instead of HasArmedShips/IsArmed
    
    https://www.freeorion.org/forum/viewtopic.php?f=6&t=11985
    
    HasArmedShips to CanDamageShips context:combatDamageEstimation
    
    Add CanDamageShips, CanDestroyFighters to Fleet and Ship
    
    HasArmedShips -> CanDamageShips


Author: Axel Groß <axel.gross@iaeste.at>


    Include fighters in fleet damage/destruction totals (UI)


Author: Axel Groß <axel.gross@iaeste.at>


    Ship::IsArmed also if there are only fighters destroying fighters (for consistency)


Author: Axel Groß <axel.gross@iaeste.at>


    Try reorder functions for windows build


Author: Axel Groß <axel.gross@iaeste.at>


    fixup Ship.cpp GetUniverse().GetShipDesign()


Author: Axel Groß <axel.gross@iaeste.at>


    Calculate combat total structural damage/destroyed fighters for carriers


Author: Axel Groß <axel.gross@iaeste.at>


    add missing valueref cast for named int valuerefs to named real valuerefs


Author: Axel Groß <axel.gross@iaeste.at>


    TotalFighterShots ValueRef - calculates number of carrier shots per combat
    
    Calculates the maximum number of shots the fighters of a single carrier shoot in a combat. For use in hangar part damage estimation.
    * So a striker with a launch bay has 3 fighters and 2 launch capacity so for four combat bouts - TotalFighterShots is 8 (0+2+3+3)
    ** for that structural damage estimation would be TotalFighterShots*HangarDamage and destroyed fighter estimation would be TotalFighterShots
    * not sure how to parse it. how to pass the ship id. if the the result should really be int. what the name for the condition should be
      Source.TotalFighterShots countIf = (CombatBout == 2)
             TotalFighterShots shootIf =                   id = Source.ID
             TotalFighterShots condition =
    * not sure we really want this
    * in principle targeting could support the time a fighter is already flying/the bout it was launched
    ** but in the damage estimation one would really have to instantiate/check fighter objects per bout
    *** so that would mean more calculations, which scales quadratic with the number of combat bouts (OTOH combat is way more expensive)
        number of tests for 10 bouts w/o  launchBout: 10 (0+1+1+1+1+1+1+1+1+1+1)  n
        number of tests for 10 bouts with launchBout: 55 (0+1+2+3+4+5+6+7+8+9+10) n/2*(n+1)
    ** if we had a maximum flight time (e.g. missiles fly a bout without doing damage) we would need some something like that anyway
    *** not sure how that interacts with stealth though
    ***** if missiles should always be launched or only if there is a visible target - I prefer this, but needs to use combatTargets on launch time
    ***** and if the missile should keep on flying if there is no visible target - if no: could reduce real damage (wont matter for estimation though)
    * one could also model in max/min amount of damage (min amount: fighters get shot down immediatly, max amount: fighters do not get shot down)
    
    TotalFighterShots valueref should use the context with bout info and decrease fighters in hangars for each launch
    
    * was using the original context instead of the mutable one
    * did not decrease the number of fighters available


Author: Axel Groß <axel.gross@iaeste.at>


    Damage estimation: Use Shield from ship in context, check fighter in context vs combatTargets
    
    * uses shield meter from target in default estimation of structural damage
    * can use Value(Target.Shield) in FOCS
    
    * use combatTargets condition of fighters for default estimation of structural damage or fighter destruction


Author: Axel Groß <axel.gross@iaeste.at>


    fixup - string lint


Author: Axel Groß <axel.gross@iaeste.at>


    Show number of fighters shot instead of number direct weapon hits in pedia


Author: Axel Groß <axel.gross@iaeste.at>


    Use combatTargets condition in fighter details popup in ship view


Author: Axel Groß <axel.gross@iaeste.at>


    GUI shows split damage/destroy estimation
    
    damage - refers to the amount of damage against ships
    destroy - refers to the number of shots against fighters
    
    Unified view in ShipDamageMeterWnd
    Split icons in FleetWnd
    
    TODO
    * add a target to context for shield evaluation
    * cleanup
    * decide when to include fighters in destroy tally


Author: Axel Groß <axel.gross@iaeste.at>


    A part has to inflict more than 0 damage to destroy a fighter


Author: Axel Groß <axel.gross@iaeste.at>


    Change damage estimation, split Ships/Fighters, full combat damage
    
    In the UI, only ShipDamage is shown
    
    Example content
    * SR_WEAPON_0_1 - no damage against ships
    * SR_WEAPON_1_1 - no damage against fighters
    * SR_JAWS       - Only half the damage against ships (shoots only 2 out of 4 bouts)
    
    * combat damage gets calculated per combat not per bout
    * also checks for shields (target-dependent ShipDamage)
    
    TODO
    * some valuerefs (attack) can trigger a endless recursion


Author: Axel Groß <axel.gross@iaeste.at>


    Use secondary stat to display hangar part damage (bugfix)


Author: Oberlus <sicofonte@gmail.com>


    Add happines species trait plus some rebalance (#3493)


Author: sevu <severin.gloeckner@stud.htwk-leipzig.de>


    Avoid linking against libvorbisenc and use the targets of Vorbis (#3489)


Author: Oberlus <sicofonte@gmail.com>


    - Remove reference to "maximum population" in Population Pedia, amend it slightly (only EN) (#3480)
    
    - Add named values to min colonization size and happines (all)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jun 13, 2021 - 26aeb9a)


Author: geoffthemedio <geoffthemedio@gmail.com>


    quiet warning / grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    unlock Exploration policy with Galactic Exploration tech


Author: geoffthemedio <geoffthemedio@gmail.com>


    -[[nodiscard]]



Author: geoffthemedio <geoffthemedio@gmail.com>


    -[[nodiscard]]
    -defaulted empty destructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    -[[nodiscard]]
    -moved const empty article into .cpp from header
    -default rather than empty constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    -[[nodiscard]]
    -initializing members at declaration


Author: geoffthemedio <geoffthemedio@gmail.com>


    include Dump() output in log, rather than discarding


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[nodiscard]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    cast to int to avoid sign/unsigned comparison warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    store strings in vector<pair> and then explicitly sort, instead of in map, so that they can be moved later


Author: geoffthemedio <geoffthemedio@gmail.com>


    additional const to quiet warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    sort adopted policies in empire pedia article by adoption turn


Author: geoffthemedio <geoffthemedio@gmail.com>


    added info to policy tooltips


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't double-increment total time policies have been adopted


Author: geoffthemedio <geoffthemedio@gmail.com>


    replaced "CurrentTurn - TurnPolicyAdopted" with "TurnsSincePolicyAdopted"


Author: geoffthemedio <geoffthemedio@gmail.com>


    -re-implemented ValueRefs TurnsSincePolicyAdopted and CumulativeTurnsPolicyAdopted using Empire const reference getters



Author: geoffthemedio <geoffthemedio@gmail.com>


    added Empire::PolicyTotalAdoptedDurations and Empire::PolicyCurrentAdoptedDurations getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    add parsing for TurnSystemExplored


Author: geoffthemedio <geoffthemedio@gmail.com>


    -actually initialize the vector of adopted policies that's used to search for a slot when adopting a policy without specifying the slot
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added TurnsSystemsExplored() getter
    -minor whitespace grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    added tracking of the turn on which empires explore systems


Author: geoffthemedio <geoffthemedio@gmail.com>


    split Terror Suppression into half stability improvement and have directly reducing rebel troop levels


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace "CurrentTurn - TurnPolicyAdopted" with "TurnsSincePolicyAdopted"
    -generate sitrep warning about Bureaucracy stopping work one turn earlier


Author: geoffthemedio <geoffthemedio@gmail.com>


    -implementing tracking policy current adoption duration separately from adoption_turn
    -serialization for policy current adoption duration
    -implemented getters Empire::CurrentTurnsPolicyHasBeenAdopted and Empire::CumulativeTurnsPolicyHasBeenAdopted


Author: geoffthemedio <geoffthemedio@gmail.com>


    move OrderedAlternativesOf token to correct alphabetically sorted location


Author: geoffthemedio <geoffthemedio@gmail.com>


    scaffolding for better tracking and access to numbers of turns policies have been adopted


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak log text


Author: geoffthemedio <geoffthemedio@gmail.com>


    explicit sub_match::str() calls to make conversions to strings explicit / clearer


Author: geoffthemedio <geoffthemedio@gmail.com>


    moved MenuItem constructors into header, used perfect forwarding on string parameter


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid unnecessary Objects() and Empires() calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pull looping over combat events to flatten their organization into a separate function
    -move copies of pointers to events rather than making more copies


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't treat a visibility entry of VIS_NO_VISIBILITY as having visibility of an object when creating combat object damaged sitreps


Author: Axel Groß <axel.gross@iaeste.at>


    Import priorities.macros in indoctrination policy
    
    * fix missing import


Author: Axel Groß <axel.gross@iaeste.at>


    Destroy on capture and set visibility: BLD_ABANDON_OUTPOST, BLD_COLONY_INDEPENDENCE_DECREE
    
    * prevent the effects if invasion happens first
    * also give a visibility update after ownership changes


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    made const to constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -timer for SitRepPanel::FilterClicked
    -moving strings


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass Stringtable filename by value and move


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added StringTable::CheckGet that does a single lookup to check if a string exists and to return it (or an empty string)
    -Used CheckGet to refactor UserString
    -reserve in UserStringList


Author: geoffthemedio <geoffthemedio@gmail.com>


    use set merge and extract


Author: geoffthemedio <geoffthemedio@gmail.com>



    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    added an in-place construction variant of PopupMenu::AddMenuItem


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    added Bureaucracy policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    safety checks


Author: geoffthemedio <geoffthemedio@gmail.com>


    initialize with {}


Author: geoffthemedio <geoffthemedio@gmail.com>


    safety checks


Author: geoffthemedio <geoffthemedio@gmail.com>


    non-const loop reference to allow moving


Author: geoffthemedio <geoffthemedio@gmail.com>


    safety check and error log if a sitrep message parameter ref is null


Author: Oberlus <sicofonte@gmail.com>


    - Reduce influence malus of Indoctrination and Checkpoints policies
    - Indoctrination doubles influence production of influence-focused planets
    - Species influence trait applied at scaling priority
    - Influence upkeep costs and begginer bonus applied after most other effects.


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract evaluate_planet and helper functions to the separate files (#3484)
    
    * Extract evaluate_planet and helper functions to the separate files


Author: geoffthemedio <geoffthemedio@gmail.com>


    auto replacement


Author: geoffthemedio <geoffthemedio@gmail.com>


    safety check when getting tags of researched techs, as apparently some techs have been researched despite not existing


Merge: 92e466a73 3df789f39
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3483 from o01eg/reenable-clang-ci
    
    Re-enable clang for CI


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jun 6, 2021 - b4b25d4)


Author: O01eg <o01eg@yandex.ru>


    Re-enable clang for CI


Author: Vezzra <vezzra@gmx.net>


    Changelog update
    
    Cherry pick changelog updates for the 0.4.10.1 maintenance release


Author: geoffthemedio <geoffthemedio@gmail.com>


    moved unlock of Liberty policy to The Physical Brain and removed its influence penalty


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Dream Recursion's influence cost be the square root of its effect on stability


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduce Isolation threshold distance to 150


Author: geoffthemedio <geoffthemedio@gmail.com>


    add effect to Sly to give empire Confederation policy when they are on the empire's capital


Author: geoffthemedio <geoffthemedio@gmail.com>


    -renamed GiveEmpireTech to GiveEmpireContent and added an UnlockableItemType parameter
    -added parsing for additional variation of the effect for unlocking BuildingType, Policy, ShipPart, or ShipHull


Author: geoffthemedio <geoffthemedio@gmail.com>



    -added ContentType enum values for policies and techs (as yet unused)


Merge: 8a6726815 c0409e098
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3431 from o01eg/godot-2
    
    Start the server with Godot client


Author: geoffthemedio <geoffthemedio@gmail.com>


    add missed isolation icon


Author: O01eg <o01eg@yandex.ru>


    Create links to resources for Godot project after library built


Author: O01eg <o01eg@yandex.ru>


    Reorganize folders in Godot project


Author: O01eg <o01eg@yandex.ru>


    Enable test for starting game


Author: O01eg <o01eg@yandex.ru>


    Test GDNative library on Windows


Author: oleg <o01eg@yandex.ru>


    Enable windows Godot build


Author: oleg <o01eg@yandex.ru>


    Update godot-cpp to fix Windows build


Author: oleg <o01eg@yandex.ru>


    Check for orphans


Author: oleg <o01eg@yandex.ru>


    Fix test


Author: oleg <o01eg@yandex.ru>


    Fix godot test


Author: oleg <o01eg@yandex.ru>


    Start the game


Author: oleg <o01eg@yandex.ru>


    Fix font path


Author: geoffthemedio <geoffthemedio@gmail.com>


    -[[nodiscard]]
    -tweaking constness of passed shared_ptr
    -structured binding



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    fix MSVC2017 error C2660: 'std::pair<const _Kty,_Ty>::pair': function does not take 2 arguments


Author: geoffthemedio <geoffthemedio@gmail.com>


    update game_rules dummy parser


Author: O01eg <o01eg@yandex.ru>


    Fix MSVS update


Author: O01eg <o01eg@yandex.ru>


    Test build with G++ 11


Author: geoffthemedio <geoffthemedio@gmail.com>


    added TestPythonParser.cpp to UnitTests MSVC2019 project


Author: geoffthemedio <geoffthemedio@gmail.com>


    -test compile fixes for parsing container of GameRule instead of GameRules struct
    -replacing verbose types with auto


Author: geoffthemedio <geoffthemedio@gmail.com>


    header needed for XCode build


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove GameRules member function const qualifiers since most of the functions can't really be const due to implicit calls to CheckPendingGameRules within them, which could invalidate iterators


Author: geoffthemedio <geoffthemedio@gmail.com>


    -create copies of strings to pass, which seems to fix crash
    -emplace -> insert_or_assign


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> insert_or_assign


Author: geoffthemedio <geoffthemedio@gmail.com>


    use map of rules instead of full GameRules object when parsing and passing around parsed rules


Author: geoffthemedio <geoffthemedio@gmail.com>


    -move Validator&& into type-specific unique_ptr rather than always into unique_ptr<ValidatorBase> to avoid slicing
    -constrain types for templated OptionsDB::Add functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unused and unimplemented function declaration


Author: geoffthemedio <geoffthemedio@gmail.com>


    move GameRule out of GameRules


Author: geoffthemedio <geoffthemedio@gmail.com>


    rename Rule -> GameRule


Author: geoffthemedio <geoffthemedio@gmail.com>


    production queue logging tweaks


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store Option and Rule Validators by unique_ptr
    -pass various parameters to Option and Rule by value with move
    -mark some functions [[nodiscard]]
    -move short_names container to file scope



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: Andrey <Cjkjvfnby@gmail.com>


    Enable import autosort (#3479)
    
    * Fix asterisk import
    * Split freeorion_tools to separate files
    * Reformat imports
    * Add isort to deps
    * Add isort to GitHub actions
    * Add isort to pre-commit hooks


Author: Sergey Alirzaev <zl29ah@gmail.com>


    fixed a typo (#3481)


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract next rating (#3478)


Author: Andrey <Cjkjvfnby@gmail.com>


    Update table prints (#3475)
    
    * Add total printing
    * Update tables usages


Author: Andrey <Cjkjvfnby@gmail.com>


    Add pre-commit hooks (#3469)


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Oberlus to credits


Author: geoffthemedio <geoffthemedio@gmail.com>


    add Grummel7 to credits


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 29, 2021 - 5444bcd)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Refactored Fleet Aggression Handling (#3447)
    
    * Refactored Fleet Aggression Handling
    
    Default aggression was used inconsistantly. When a fleet was
    split, depending on the splitting method split-off battle ships
    became aggressive or just obstrusive.
    I defined alias values for default aggression of armed
    and unarmed ships and used the new values where appropriate.
    Also did some further cleanup in those methods.


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variable


Author: geoffthemedio <geoffthemedio@gmail.com>


    try to avoid warning in clang: dependent nested name specifier ... for friend class declaration is not supported


Author: geoffthemedio <geoffthemedio@gmail.com>


    use ValidExecutableBinary also not in Win32


Author: geoffthemedio <geoffthemedio@gmail.com>


    quiet warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix signed/unsigned comparison warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make_pair -> pair
    -empiace -> insert


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unused constant


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> insert for single parameter


Author: Andrey <Cjkjvfnby@gmail.com>


    Improve table printer (#3471)
    
    * add placeholder
    * remove Python 2 artifacts
    * split code into separate files
    * add type annotation
    * add placeholder field
    * rename Float to Number
    * add support for long prints


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract planet supply to a s separate file (#3470)


Author: geoffthemedio <geoffthemedio@gmail.com>


    added and used is_flag_type_v<T> instead of is_flag_type_v<T>::value


Author: geoffthemedio <geoffthemedio@gmail.com>


    ::type to _t


Author: geoffthemedio <geoffthemedio@gmail.com>


    -probably fix | to ||



Author: geoffthemedio <geoffthemedio@gmail.com>


    -::type to _t



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    use _t instead of ::type and _v instead of ::value


Author: geoffthemedio <geoffthemedio@gmail.com>


    use _t instead of ::type and _v instead of ::value


Author: geoffthemedio <geoffthemedio@gmail.com>


    use std::is_signed_v instead of boost equivalent


Author: geoffthemedio <geoffthemedio@gmail.com>


    added EmpireManager and ObjectMap parameters to Empire::ConquerProductionQueueItemsAtLocation and Planet::Conquer


Author: geoffthemedio <geoffthemedio@gmail.com>


    added push_back(Element&& element) to ProductionQueue


Author: geoffthemedio <geoffthemedio@gmail.com>


 / make typedef more consistent


Author: geoffthemedio <geoffthemedio@gmail.com>


    hopefully fixed issue with gifting where it was order-dependent for swapping all objects between two empires at a location


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract pilot rating to separate file (#3467)


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    added extra policy update before final meter update during turn on server so that adopted policies are consistent with that turn's available slots


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed re-organization of policies when insufficient slots were available


Author: geoffthemedio <geoffthemedio@gmail.com>


    structued binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    increased Terror Suppression effectiveness per ship from 0.25 to 2.0


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    Revert "removed econ slot from Mind of the Void"
    
    This reverts commit 05c74f5ec55c4f298a538b2bf5acd8a59183cbea.
    
    (It really removed a social slot)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -structured binding



Author: geoffthemedio <geoffthemedio@gmail.com>


    use ValidExecutableBinary test when setting server binary executable file on Windows


Author: geoffthemedio <geoffthemedio@gmail.com>


    explicit deletion of constructor and operator=


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove empty constructor definition


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    -reference loop variables



Author: Andrey <Cjkjvfnby@gmail.com>


    Don't wrap single line to the quotes (#3466)


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix debug chat (#3465)
    
    * fix empire color
    * refactor debug chat
        - produce output in a more explicit way
        - pass arguments as parameters


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Nearly-Universal Translator building


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduced System Infrastructure additional economic policy slots to 1


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed economic slot from Void Prediction


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed econ slot from Mind of the Void


Author: geoffthemedio <geoffthemedio@gmail.com>


    adjusted policy slot control layout


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    -modified Bootstrapping stability growth effect to use TurnsSinceColonization instead of (Target.LastTurnColonized - CurrentTurn) to fix off-by-one error between server and clients
    -added stability growth rate boost to Bootstrapping


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed empty project filter


Author: geoffthemedio <geoffthemedio@gmail.com>


    added TurnsSinceColonization property / getter to planets


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduced Industrialism tech and building cost adjustments from 50% to 25%


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 24, 2021 - e256248)


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Collective Thought Network buildings increase the limit of stability that Dream Recursion can produce on planets


Author: geoffthemedio <geoffthemedio@gmail.com>


    unlock Isolation with Planetary Infrastructure


Author: geoffthemedio <geoffthemedio@gmail.com>


    exclusions between Exploration and Isolation


Author: geoffthemedio <geoffthemedio@gmail.com>



    -space between number and units


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Isolation policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    -relaxed population requirements of Colonial Boostrapping
    -added additional stability boost to Colonial Booststrapping on the first turns after colonization


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed AUGMENTATION adjustment to growth, which was stopping all growth without the policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    -drastically reduced Industrialism stability bonus when set to industry focus
    -reduced Industrialism minimum stability to get industry bonus


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replace Objects(), Empires(), and GetUniverse() calls with single calls at start of function, to facilitate future passing-in



Author: geoffthemedio <geoffthemedio@gmail.com>


    add Universe parameters to Empire::KnownStarlanes and Empire::VisibleStarlanes


Author: geoffthemedio <geoffthemedio@gmail.com>


    add Universe parameters to Empire::ShipDesignAvailable and Empire::AvailableShipDesigns in order to remove internal GetUniverse() calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    move removed tech icon to policies icons directory


Merge: 6c4b2b186 617e998e8
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3435 from agrrr3/20210506_NerfMaintenanceShip
    
    Adjust damage output on maintenance ship (nerf)


Merge: 7e5ecc37b 1d443f1c5
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3459 from sevu/cmake
    
    Use OpenGL with GLVND - CMP0072


Author: geoffthemedio <geoffthemedio@gmail.com>


    -hopefully fix issue with tech tree controls initially having inconsistent button highlighting



Author: geoffthemedio <geoffthemedio@gmail.com>


    -moved Cyborgs tech effects into a policy unlocked by Nanotech Cybernetics
    -added a population growth modifier, dependent on planet infrastructure as well


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove DrawArrow function and calls because, as far as I can tell, nothing is visible on screen from it


Author: geoffthemedio <geoffthemedio@gmail.com>


    made infrastructure policies more expensive


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    don't attempt to look up diplomatic status when deserializing EmpireManager


Author: geoffthemedio <geoffthemedio@gmail.com>


    rewrote PlanetEnvironmentSimpleMatch::operator() to avoid repeat lookups and avoid error message in logs when a planet with no species is asked for its environment for its own species


Author: Andrey <Cjkjvfnby@gmail.com>


    AI: Replace custom enum with built-in (#3463)
    
    Our custom enum worked pretty the same as built in. It was implemented when AI used Python2 which does not have this module
    
    Since codecs save it as <enum_class>.<attribute_name> it is compatible with old save games.


Author: Severin Glöckner <severin.gloeckner@stud.htwk-leipzig.de>


    Prefer linking to libOpenGL, fall back to libGL
    
    CMP0072 has no practical effect here, is set to silence the warning.
    It would effect the value of the OPENGL_LIBRARIES variable, but this one is not used.
    The reason is likely that it additionally links to GLU and (with NEW) GLX libraries.
    
    The used generator expression is available from cmake 3.8 on.


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexprification


Author: Andrey <Cjkjvfnby@gmail.com>


    Update stub generator (#3462)
    
    * Update stub to recent changes
    * Use overload instead of merging types
    * Replace iter with typing.Iterator
    * Move ellipses to the same line
    * Simplify Enum stubs


Author: Severin Glöckner <severin.gloeckner@stud.htwk-leipzig.de>


    Use OpenGL with GLVND - CMP0072
    
    Resolves CMP0072.
    The policy was added in cmake 3.11, thus checking, if it exists.
    The OPENGL_opengl_LIBRARY variable was added in 3.10, and can
    be used without the policy being available.
    
    Debian stable has cmake 3.13,
    Debian oldstable can get 3.16 from the backports,
    Ubuntu 18.04 uses cmake 3.10 (and has no backports).


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update README.md
    
    mention policies directory


Merge: f69c62018 9a90f1a9b
Author: Andrey <Cjkjvfnby@gmail.com>


    Merge pull request #3457 from Cjkjvfnby/add-check-for-referenced-values-present
    
    Add check for referenced values present


Author: agrrr3 <axel.gross@iaeste.at>


    Add PolicyManager to Universe Checksum (#3455)


Author: Andrey <Cjkjvfnby@gmail.com>


    Enable reference check in stringtables


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix refernces in it.txt


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't move from and dereference the same pointer in a single function call as different parameters


Author: Andrey <Cjkjvfnby@gmail.com>


    Update string table check (#3453)
    
    * Fix case when reference is not present
    * Don't print optional references
    * Don't call git blame for check
      Calling git blame and parsing result takes about 2.45 seconds on my machine for en.txt, the whole check takes about 2.46 seconds
    * Replace keys() usage with python data model methods
      There is no reason to implement both datamodel methods for iteration and contains and keys()
    * Move variable to more narrow scope


Author: Andrey <Cjkjvfnby@gmail.com>


    Add missed references to de.txt (#3454)


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    made Propaganda Broadcasts have a small negative effect on enemy capitals and a small positive effect on allied capitals, rather than a full strength effect on all capitals


Merge: 532b5b1b2 150efea57
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3445 from o01eg/test-checksum
    
    Test and log warning if checksum mismatched


Merge: 6575f2635 f0b9ad279
Author: Andrey <Cjkjvfnby@gmail.com>


    Merge pull request #3451 from Cjkjvfnby/add-unused-references-check
    
    Add unused references check


Author: Axel Groß <axel.gross@iaeste.at>


    Weaken arc disruptor on maintenance ship (5x1 damage instead of 3x2)
    
    mass driver damage                       72 == 1x3x4 x6
                                            120 == 5x1x4 x 6
    arc disruptor damage                    144 == 3x2x4 x 6
    medium hull ship with  no basic armour:  80 == 10    x 8
    medium hull ship with one basic armour: 128 == 16    x 8
    medium hull ship with two basic armour: 176 == 22    x 8


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 16, 2021 - 6eb89df)


Author: geoffthemedio <geoffthemedio@gmail.com>


    make liking / disliking building owned by empire per-building effect scale with 1/sqrt(count of building), so the overall effect scales like sqrt(count of building)


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't reduce ship speed below 5, so that fleets don't get stuck just inside a nebula edge


Author: geoffthemedio <geoffthemedio@gmail.com>


    render fleets that are (somehow?) not in systems and not moving


Author: geoffthemedio <geoffthemedio@gmail.com>


    indentation


Author: geoffthemedio <geoffthemedio@gmail.com>


    fallback for opening a FleetWnd when there is no fleet button for a fleet id


Author: geoffthemedio <geoffthemedio@gmail.com>


    removing Head on a Spike special generation from cultural archives. this doesn't make sense since the "capital" isn't necessarily where the cultural archives are, and an archives may be located on a planet not owned by any empire, which the messages associated with the special generation don't account for. if people miss it, it can be added back in a more consistent way.


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove accidentally committed debug code


Author: geoffthemedio <geoffthemedio@gmail.com>


    only refresh shown system's objects when opening sidepanel


Author: geoffthemedio <geoffthemedio@gmail.com>


    debugging effect dispatching in loop and not restoring input candidates...


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> push


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    add option to control whether to do a meter update when an object's state changes


Author: geoffthemedio <geoffthemedio@gmail.com>


    add option to control whether to do a meter update when opening the sidepanel


Author: geoffthemedio <geoffthemedio@gmail.com>


, structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> push


Author: geoffthemedio <geoffthemedio@gmail.com>


    init vector with {begin, end}


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove redundant effect accounting clearing in an UpdateMeterEstimates overload
    -initialize vectors directly with {begin, end} instead of default init and copy


Author: geoffthemedio <geoffthemedio@gmail.com>


    update all object meters when showing system, not just system contents, since there is apparently a difference in the results, with some effects not applying when updating only some object IDs


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid unnecessary error message when determining combat detection strength of neutrals


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove unused entries from string tables


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove check for references (temporary)


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove check of reference keys reference table


Author: Andrey <Cjkjvfnby@gmail.com>


    Add check for key usage


Author: Andrey <Cjkjvfnby@gmail.com>


    Compile regexp patterns


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove transitive dependency in Techs (#3439)
    
    We have two tech paths to LRN_GATEWAY_VOID from LRN_NDIM_SUBSPACE
    
    1) LRN_NDIM_SUBSPACE opens LRN_GATEWAY_VOID
    2) LRN_NDIM_SUBSPACE opens LRN_SPATIAL_DISTORT_GEN opens CON_STARGATE opens LRN_GATEWAY_VOID
    
    ```
    ┌─────────────────────────┐
    │    LRN_NDIM_SUBSPACE    │ ─┐
    └─────────────────────────┘  │
      │                          │
      ▼                          │
    ┌─────────────────────────┐  │
    │ LRN_SPATIAL_DISTORT_GEN │  │
    └─────────────────────────┘  │
      │                          │
      ▼                          │
    ┌─────────────────────────┐  │
    │      CON_STARGATE       │  │
    └─────────────────────────┘  │
      │                          │
      ▼                          │
    ┌─────────────────────────┐  │
    │    LRN_GATEWAY_VOID     │ ◀┘
    └─────────────────────────┘
    ```
    
    We would like to break one of the paths to simplify code.
    
    Log error suggests breaking somewhere in the second path
    (it's a bit confusing and takes me some time to build a real picture in my head).
    
    ```
    tech.cpp:529 : ERROR: Redundant tech dependency found (A <-- B means A is a prerequisite of B):
    LRN_SPATIAL_DISTORT_GEN <-- CON_STARGATE,
    CON_STARGATE <-- LRN_GATEWAY_VOID,
    LRN_SPATIAL_DISTORT_GEN <-- LRN_GATEWAY_VOID;
    remove the LRN_SPATIAL_DISTORT_GEN <-- LRN_GATEWAY_VOID dependency.
    ```
    
    In my opinion, we should break the first path since this will not affect the research process.


Author: Andrey <Cjkjvfnby@gmail.com>


    Add missed entries which are referenced from the stringtables file (#3441)


Author: O01eg <o01eg@yandex.ru>


    Test and log warning if checksum mismatched
    
    Intended to be required for forks


Merge: 3c03d896e 38c9b3458
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3449 from o01eg/ci-clang-fallible
    
    Make Clang build on CI fallible after some Ubuntu update


Author: O01eg <o01eg@yandex.ru>


    Make Clang build on CI fallible after some Ubuntu update


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove LRN_ARTIF_MINDS entries (#3448)


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove tech that was removed from scripting (#3440)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Avoid negative effect from Industrialism (#3438)
    
    * Avoid negative effect from Industrialism
    
    Industralism bonus is calculated after -5 from Environmentalism,
    so the value can be negative at that point and simply multiplying
    it then results in making it worse.
    
    * Refactored production bonus by specifying it as a percentage
    
    Also updated en.txt and fr.txt to use the percentage value.


Merge: 3a63928fc d11d07a41
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3443 from o01eg/debug-named-value-ref-checksum
    
    Log partian checksum of named value references


Merge: 4bdada241 1bbe95c44
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3434 from o01eg/windows-unittest
    
    Enable unit tests on Windows


Author: oleg <o01eg@yandex.ru>


    Enable unit tests on Windows
    
    Fix test path


Author: O01eg <o01eg@yandex.ru>


    Log partian checksum of named value references


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't generate instability on the capital from influence debt


Author: geoffthemedio <geoffthemedio@gmail.com>


    -safety check if passed unknown special name
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor copyediting


Author: geoffthemedio <geoffthemedio@gmail.com>


    added likes and dislikes of policies to more species


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed some DEF_GARRISON tech effect value references


Author: geoffthemedio <geoffthemedio@gmail.com>


    include amount of increase in Native Appropriation pedia description


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    replace some = "" with .clear() on strings


Author: Andrey <Cjkjvfnby@gmail.com>


    Format logger messages in StringTable.cpp (#3442)


Merge: c972080ac b2b9bab27
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3428 from o01eg/game-rule-singularity
    
    Add rule to manage tech victory difficulty


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 8, 2021 - 13cfafb)


Merge: e956fd470 fad856543
Author: Andrey <Cjkjvfnby@gmail.com>


    Merge pull request #3437 from Cjkjvfnby/cleanup
    
    Cleanup


Author: Vezzra <vezzra@gmx.net>


    NSIS installer/uninstaller: fix handling of silent flag


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove code commented 8 years ago


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove code commented 6 years ago


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove unused local variable


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove temp code for redirecting debug to chat


Author: Morlic-fo <Morlic@gmx.de>


    Make AI aware of self-sustaining restrictions


Merge: 13cfafb5a 9a1e36d4d
Author: Morlic-fo <Morlic@gmx.de>


    Merge pull request #3432 from Morlic-fo/FixColonizationUnexploredSystems
    
    Let AI explore systems before attempting colonization


Author: Morlic-fo <Morlic@gmx.de>


    Make AI aware of some restrictions for guards


Author: Morlic-fo <Morlic@gmx.de>


    Let AI not colonize in unexplored systems
    
    Unexplored systems may often contain space monsters. Note that it is possible to detect planets in unexplored systems due to e.g. some species effects in current content.
    
    Fixes issue #3242


Author: Morlic-fo <Morlic@gmx.de>


    Add function to request emergency exploration
    
    An emergency exploration may be requested by another part of the AI to prioritize the scouting of a particular system.


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Propaganda Broadcasts policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduced Bootstrapping stability boost


Author: geoffthemedio <geoffthemedio@gmail.com>


    made influence dept reduce planet stability rather than directly producing rebel troops


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Terror Suppression much easier to adopt


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduce stability impact of liking / disliking focus from 5 to 2


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Colonial Bootstrapping policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    restricted protection focus troop regen boost if planet was attacked on the current turn


Author: Axel Groß <axel.gross@iaeste.at>


    Remove one arc disruptor from maintenance ship


Author: Andrey <Cjkjvfnby@gmail.com>


    Rename GitHub Actions jobs (#3430)


Author: oleg <o01eg@yandex.ru>


    Add rule to manage tech victory difficulty


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (May 2, 2021 - 169e907)


Author: Andrey <Cjkjvfnby@gmail.com>


    Use GitHub actions for Python checks (#3106)
    
    This is the replacement for the Travis jobs with GitHub actions.


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Refactor stub generator (#3429)
    
    Improve code readability:
    - split into modules
    - replace dictionaries with objects
    
    These changes do not affect the result of the generator.


Author: geoffthemedio <geoffthemedio@gmail.com>


    added liked and disliked policies to some species


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduced stability requirement for Nascent AI research bonus


Author: geoffthemedio <geoffthemedio@gmail.com>


    copyediting


Author: geoffthemedio <geoffthemedio@gmail.com>


    -removed INFLUENCE_PER_POP value and made basic influence focus give a bonus dependent on sqrt(pop) instead of proportional, making population less effective for influence generation
    -gave artisan workshop effects their own constants


Author: geoffthemedio <geoffthemedio@gmail.com>


    added missing script file


Author: geoffthemedio <geoffthemedio@gmail.com>


    Eccentric Orbit negative effect should still apply, even when stability is low


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove most species liking of buildings, to remove motivation to spam produce those buildings


Author: geoffthemedio <geoffthemedio@gmail.com>


    disable warnings from dependency code


Author: David Carlier <devnexen@gmail.com>


    BSD build update, Adding DragonFlyBSD and NetBSD.


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update BUILD.md
    
    Windows CMake build instructions


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update BUILD.md
    
    bump some version numbers


Merge: 9ca5e5d3d 0d3395e59
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3321 from freeorion/msvc_python_3_6
    
    Update Project File and CMake Python references from 3.5 to 3.6 and SDK references to 12


Author: geoffthemedio <geoffthemedio@gmail.com>


    prohibit luxury special spawning on populated planets


Author: geoffthemedio <geoffthemedio@gmail.com>


    bump SDK version to 12 in build windows github workflow


Author: geoffthemedio <geoffthemedio@gmail.com>


    bump SDK version in appveyor.yml


Author: geoffthemedio <geoffthemedio@gmail.com>


    bump MacOS SDK version


Author: geoffthemedio <geoffthemedio@gmail.com>


    bump more Python versions to 3.6


Author: geoffthemedio <geoffthemedio@gmail.com>


    MSVC project file Python include path versions updated to 3.6


Merge: 4b17969a9 634351c12
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3415 from o01eg/fix-techs-button-issue
    
    Fix techs button issue


Author: O01eg <o01eg@yandex.ru>


    Make UI wait for techs parsing


Merge: adedcd613 1dc279400
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3425 from o01eg/godot-assets
    
    Godot singleplayer and multiplayer windows


Author: O01eg <o01eg@yandex.ru>


    Scale UI for Android


Author: O01eg <o01eg@yandex.ru>


    Draw multiplayer setup window


Author: O01eg <o01eg@yandex.ru>


    Add single player options window


Author: O01eg <o01eg@yandex.ru>


    Add base FreeOrion windows class


Author: O01eg <o01eg@yandex.ru>


    Add assets to create UI windows


Merge: 8df19a073 b62f1e9ba
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3422 from o01eg/init-gdnative-client
    
    Initial GDNative library and Godot project


Author: oleg <o01eg@yandex.ru>


    Attach signals to buttons


Author: oleg <o01eg@yandex.ru>


    Copy Godot Main Menu


Author: O01eg <o01eg@yandex.ru>


    C++ format


Author: O01eg <o01eg@yandex.ru>


    Add documentation for class


Author: O01eg <o01eg@yandex.ru>


    Test GDNative library


Author: O01eg <o01eg@yandex.ru>


    Add ont method to call in test in future


Author: O01eg <o01eg@yandex.ru>


    Test GDNative library


Author: O01eg <o01eg@yandex.ru>


    Entry FreeOrion GDNative class


Author: O01eg <o01eg@yandex.ru>


    Don't copy dependencies


Author: O01eg <o01eg@yandex.ru>


    Initial scene


Author: O01eg <o01eg@yandex.ru>


    Minimal project changes


Author: O01eg <o01eg@yandex.ru>


    Restore copying GDNative library to Godot project


Author: O01eg <o01eg@yandex.ru>


    Add CI for GDScript files


Author: O01eg <o01eg@yandex.ru>


    Initial minimal Godot project


Author: O01eg <o01eg@yandex.ru>


    Initial GDNative library


Author: geoffthemedio <geoffthemedio@gmail.com>


    added special likes and dislikes to species


Author: geoffthemedio <geoffthemedio@gmail.com>


    added like/dislike effects to various specials (that didn't already have them)


Author: geoffthemedio <geoffthemedio@gmail.com>


    more species likes and dislikes


Merge: d9c6a3b3e 00624f452
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3309 from o01eg/python-parser-exec-techs
    
    Parse techs with python parser


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Apr 23, 2021 - 10f3d0f)


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Fixed Exobot Productivity effect (#3412)
    
    * Fixed Exobot Productivity effect


Merge: 0d766c4ee dde5418dd
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3416 from o01eg/upd-snap-xvfb-action
    
    Update xvfb-action to use Xvfb server options


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove enum value alias from EnumWrapper (#3384)
    
    The "capacity" meter is also used as weapon damage for weapon parts, so the alternative name for that stat was also provided.
    But for the Python API, "damage" is not used so it could be removed to avoid confusion.


Merge: 8a995e158 be863da9a
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3417 from o01eg/enable-godot-testing-macos-ci
    
    Enable testing and Godot for MacOS CI


Merge: 592179f15 269b057ee
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3301 from Cjkjvfnby/split-production-to-the-module
    
    [AI] Extract work with designs from production to separate module


Merge: 224571753 8f29ef4b2
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3423 from Morlic-fo/UITweakStringFormatting
    
    Display ValueRef floating points with only 3 digits in UI


Author: Morlic-fo <Morlic@gmx.de>


    Use C++14 _t and _v suffixes instead of ::type and ::value


Author: Morlic-fo <Morlic@gmx.de>


    Show ValueRef floating point numbers with only 3 digits in UI
    
    e.g. 3.000000 --> 3.00
    this is more consistent with how floating point numbers are displayed in different contexts


Author: Morlic-fo <Morlic@gmx.de>


    Fix ECCENTRIC_ORBIT_SPECIAL description
    
    Stringtables refer to this name which seems more reasonable.


Merge: 9ff2d4abd 944245fad
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3410 from o01eg/snap-add-ignored-path
    
    Add list of ignored paths to snap build


Merge: e58c7927c 4d38e3182
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3414 from o01eg/fix-github-actions-ubuntu
    
    Fix cache name for Gihhub Actions on Ubuntu


Author: O01eg <o01eg@yandex.ru>


    Fix after review


Author: oleg <o01eg@yandex.ru>


    Fix builtins for techs parsing on some old python versions


Author: O01eg <o01eg@yandex.ru>


    Optimize grammar initialization


Author: O01eg <o01eg@yandex.ru>


    Refactor grammar usages


Author: O01eg <o01eg@yandex.ru>


    Refactor globals usage.


Author: O01eg <o01eg@yandex.ru>


    Convert tech/defense/Defense to python


Author: O01eg <o01eg@yandex.ru>


    Parse techs with python parser in parallel with old


Author: oleg <o01eg@yandex.ru>


    Fix color parsing


Author: O01eg <o01eg@yandex.ru>


    Fix dummy parsers


Author: O01eg <o01eg@yandex.ru>


    Switch tech categories to python


Author: O01eg <o01eg@yandex.ru>


    Change test and call for techs parser


Author: O01eg <o01eg@yandex.ru>


    Fix CI compilation


Author: O01eg <o01eg@yandex.ru>


    Fix access to type builtins on old boost/python combination


Author: O01eg <o01eg@yandex.ru>


    Cache some constant objects in the python parser


Author: O01eg <o01eg@yandex.ru>


    Show python parsing speed up.


Author: O01eg <o01eg@yandex.ru>


    Switch game rules parsing to python from focs


Author: O01eg <o01eg@yandex.ru>


    Add game rules python script.
    
    Check format of game fules python script.
    Test parsing.


Author: O01eg <o01eg@yandex.ru>


    Make python parser unmoveble and uncopyable


Author: O01eg <o01eg@yandex.ru>


    Refactor python parser test


Author: O01eg <o01eg@yandex.ru>


    Show parse errors


Author: O01eg <o01eg@yandex.ru>


    Introduce PythonParser to store python data


Author: O01eg <o01eg@yandex.ru>


    Require python for background parser.


Author: O01eg <o01eg@yandex.ru>


    Fix MSVC project


Author: O01eg <o01eg@yandex.ru>


    Move more common python initialization


Author: O01eg <o01eg@yandex.ru>


    Add more commonpython class


Author: O01eg <o01eg@yandex.ru>


    Make common depends on python
    
    Rename CommonFramework to name of class


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    UI widget for server binary


Author: O01eg <o01eg@yandex.ru>


    Add options to set path to freeoriond executable (#3405)
    
    Add option to set path to freeoriond executable


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed stability minimum requirement to produce the Regional Admin buikding


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't allow independence decree on the capital planet


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduced rebel troops on planets the colonizing species isn't well suited for


Author: geoffthemedio <geoffthemedio@gmail.com>


    owning a Scrying Sphere building gives an empire 1 extra social policy slot


Author: geoffthemedio <geoffthemedio@gmail.com>


    -removed population requirement for Regional Admin building
    -made Regional Admin destroy itself if owned by another empire


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweaked Dump()


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Merge: 5f3c679d2 fbfae4348
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3419 from o01eg/fix-mklink-windows
    
    Fix mklink usage on windows


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fix compile error seemingly related to std::max and std::min that I can't seem to fix with the NOMINMAX define
    -disable boost deprecated header warnings in Parsers due to issue with Boost 1.74


Merge: 575c7f52d 9a5699774
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3413 from o01eg/fix-godot-cmake
    
    Fix small issues in CMake for Godot project


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Re-added reverse connection check to JUMPS_TO_CAPITAL_OR_REGAD (#3418)


Author: O01eg <o01eg@yandex.ru>


    Fix use of boost placeholders (#3420)


Author: O01eg <o01eg@yandex.ru>


    Remove copy to not yet decided path of Godot project


Author: O01eg <o01eg@yandex.ru>


    Install freeoriongodot library


Author: O01eg <o01eg@yandex.ru>


    Fix path to prebuilt godot-cpp


Merge: e3297d5ab 77d5b350a
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3342 from o01eg/python-common-version
    
    Make python into freeorioncommon dependency


Author: O01eg <o01eg@yandex.ru>


    Fix mklink usage on windows


Author: geoffthemedio <geoffthemedio@gmail.com>


    count ground combat when updating meter estimates


Author: geoffthemedio <geoffthemedio@gmail.com>


    move ResolveGroundCombat into Planet from ServerApp local


Author: O01eg <o01eg@yandex.ru>


    Fix MSVC projects


Author: O01eg <o01eg@yandex.ru>


    Make python into freeorioncommon dependency
    
    Use python library version


Author: O01eg <o01eg@yandex.ru>


    Enable testing and Godot for MacOS


Author: O01eg <o01eg@yandex.ru>


    Update xvfb-action to use Xvfb server options


Merge: 4270290d5 216f1907e
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3409 from o01eg/build-github-actions-windows
    
    Use Github Actions for Windows CMake build


Author: O01eg <o01eg@yandex.ru>


    Fix cache name for Gihhub Actions on Ubuntu


Author: O01eg <o01eg@yandex.ru>


    Fix Windows build


Author: O01eg <o01eg@yandex.ru>


    Try to speed up Windows build


Author: O01eg <o01eg@yandex.ru>


    Use Github Actions for Windows CMake build


Merge: 5a42e6333 f5361694e
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3411 from o01eg/build-github-actions-macos
    
    Use Github Actions for MacOS build


Author: O01eg <o01eg@yandex.ru>


    Fix ccache


Author: O01eg <o01eg@yandex.ru>


    Use Github Actions for MacOS build


Merge: 9bdb0a5cf 595ec2491
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3260 from o01eg/godot-cpp-external-project-git
    
    Download godot-cpp from git if Godot client enabled


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction, unshadowing variables


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    rename shadowing local


Author: geoffthemedio <geoffthemedio@gmail.com>


    if constexpr in serialization code


Author: O01eg <o01eg@yandex.ru>


    Provide same python interpreter for godot-cpp generator


Author: O01eg <o01eg@yandex.ru>


    Install headless godot for CI


Author: O01eg <o01eg@yandex.ru>


    Test Godot build on Github Actions CI


Author: O01eg <o01eg@yandex.ru>


    Fix new generated headers location


Author: O01eg <o01eg@yandex.ru>


    Update godot-cpp dependency


Author: O01eg <o01eg@yandex.ru>


    Fix godot build type declaration with external godot-cpp


Author: oleg <o01eg@yandex.ru>


    Add dependency versions to godot library


Author: oleg <o01eg@yandex.ru>


    Enable test build for godot client


Author: O01eg <o01eg@yandex.ru>


    Fix compilation for android


Author: O01eg <o01eg@yandex.ru>


    Use godot-cpp as downloadable external project or precompiled library


Author: geoffthemedio <geoffthemedio@gmail.com>


    reset planet focus when conquered by neutrals / rebels


Author: geoffthemedio <geoffthemedio@gmail.com>


    species stability bonus for liking focus does not require empire control of planet


Author: O01eg <o01eg@yandex.ru>


    Use Github Actions for Ubuntu builds (#3408)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -hopefully fix compile issue
    -quiet warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


 / TODO


Author: geoffthemedio <geoffthemedio@gmail.com>


    moved function that calculates empires' ground forces on planets into Planet


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fixed overwriting invasion troops with rebel / neutral troops



Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ObjectMap and EmpireManager into UpdateEmpireInvasionInfo
    -move calculation of troop levels on planet to separate function


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Only distance to own capital or regional admin should be considered for build location (#3397)


Author: O01eg <o01eg@yandex.ru>


    Add list of ignored paths to snap build


Author: geoffthemedio <geoffthemedio@gmail.com>


    repeatedly repopulate tech tree controls after startup, rather than just once at startup


Merge: 0a600da38 66bb37388
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3404 from o01eg/add-cache-dir-access
    
    Add cache directory access


Merge: 694a408a2 d94158e13
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3406 from o01eg/fix-android-typo
    
    Fix typo for android


Author: O01eg <o01eg@yandex.ru>


    Fix typo for android


Author: O01eg <o01eg@yandex.ru>


    Create cache directory


Author: O01eg <o01eg@yandex.ru>


    Add cache directory support


Merge: 55a92dfa1 592a80b64
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3403 from o01eg/snap-ci-launch
    
    Fixes installation layout of snap package


Author: O01eg <o01eg@yandex.ru>


    Try to mesa


Author: O01eg <o01eg@yandex.ru>


    Fixes installation placement of snap package
    
    Adds launch test to CI


Author: Grummel7 <muzz@albatross.pond.sub.org>


    Refactored distance to capital stability (#3402)
    
    Fixed the happiness calculation for distance from capital or regional administration.
    It should use the minimum of all supply connected candidates.
    Also used to named refs to make it easier to maintain.


Author: Felecarp <82163172+Felecarpp@users.noreply.github.com>


    Fix french translation error (#3401)
    
    Fix issue #3400


Author: geoffthemedio <geoffthemedio@gmail.com>


    increased luxury special spawn rates


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Apr 12, 2021 - b4250dc)


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix random chosing of the colonization planets


Author: geoffthemedio <geoffthemedio@gmail.com>


    added option to lock map zoom and panning


Author: geoffthemedio <geoffthemedio@gmail.com>


    planet independence sitrep message


Author: geoffthemedio <geoffthemedio@gmail.com>


    -update ground combat to allow allies to share forces
    -fix logic for what kind of victory occurred (empire conquest, neutral defensive victory, neutral rebellious victory)
    -pass Universe and EmpireManager into HandleInvasion


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    sort resource icons by absolute value


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added artistic species trait article
    -removed unused / broken stringtable entries


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweaked artisan workshops influence generation rates


Author: geoffthemedio <geoffthemedio@gmail.com>


    added an artistic trait article


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Fifty-Seven species artistic, consistent with its description


Author: geoffthemedio <geoffthemedio@gmail.com>


    add border to brush in icon


Author: geoffthemedio <geoffthemedio@gmail.com>


    make protection focus increase troop regeneration rate


Author: O01eg <o01eg@yandex.ru>


    Test number of all parsed techs (#3371)


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove dead branch of code
    
    This code is dead form the 2013. It is time to remove it.


Author: Andrey <Cjkjvfnby@gmail.com>


    Replace list multiplication with conditional check
    
    This code exploits a feature that 0 * [...] is empty list.
    But it has some side effects if number is more than 1 list is multiplied:
    2 * [1] - > [1, 1]. In practice we could have dozens of duplicated values.
    
    I don't know if we could have score == 0, so I just preserved that behavior and addressed only duplication part.


Author: Andrey <Cjkjvfnby@gmail.com>


    Print internal enums as names (#3393)
    
    * Print internal enums as names
    
    Python 3.9 and Python 3.6 have different implementations of the __str__.
    
    - 3.9 __str__ calls __repr__
    - 3.6 __str__ does not call __repr__
    
    So we need to implement both of them.


Author: geoffthemedio <geoffthemedio@gmail.com>


    moved rebel troops indicator from military to population panel on planet panel


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    warning reduction


Merge: fd998891a 9165615a0
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3379 from o01eg/barrier-and-background-parsing-thread
    
    Send background parsing to separate thread


Author: oleg <o01eg@yandex.ru>


    Use std::launch::deferred instead of std::promise


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unused variable


Author: oleg <o01eg@yandex.ru>


    Review fixes


Author: geoffthemedio <geoffthemedio@gmail.com>


    added "Partisans" rebel troop generation when empire has an influence debt


Author: geoffthemedio <geoffthemedio@gmail.com>


    added EmpireStockpile ValueRef and parser


Author: geoffthemedio <geoffthemedio@gmail.com>


    made EmpireStockpile condition parser require an empire ID value


Author: geoffthemedio <geoffthemedio@gmail.com>


    else blocks to skip unnecessary extra string comparisons


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweaked rebels formula
    -added planet name to rioting rebels tooltip


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    added rebel troop generation on unstable planets


Author: geoffthemedio <geoffthemedio@gmail.com>


    added rebel troops to military panel


Author: oleg <o01eg@yandex.ru>


    Make techs parsed in the background thread


Author: O01eg <o01eg@yandex.ru>


    Start real background parser thread


Author: O01eg <o01eg@yandex.ru>


    Use std::promise to notify about named value ref parser finished


Author: O01eg <o01eg@yandex.ru>


    Prepare to use std::promise as barrier to notify main thread


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix adding wrong argument


Author: geoffthemedio <geoffthemedio@gmail.com>


    pedia listings of species that like / dislike ship parts, ship hulls, policies, building types, and other species


Author: geoffthemedio <geoffthemedio@gmail.com>


    added list of species that like / dislike specials or fields to pedia


Author: geoffthemedio <geoffthemedio@gmail.com>


    add functions to SpeciesManager to collect names of species that like or dislike something


Author: agrrr3 <axel.gross@iaeste.at>


    Add BLD_COLONY_INDEPENDENCE_DECREE to unown your colony (#3336)
    
    * preserves max defense,shields,troops and target population
    * also unowns buildings
    * keeps the planet partially visible for a turn so the original owner will get the update that the planet is unowned (even if outside of scanners)


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove misleading log entry (#3391)


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove duplicate stringtable entry


Author: geoffthemedio <geoffthemedio@gmail.com>


    Gysache likes and dislikes


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed probably brokem effectsgroup


Author: geoffthemedio <geoffthemedio@gmail.com>


    accounting label for protection focus


Author: geoffthemedio <geoffthemedio@gmail.com>


    giving species randomish liked and disliked buildings


Author: geoffthemedio <geoffthemedio@gmail.com>


    made various research and industry bonuses depend on various levels of planet stability


Author: geoffthemedio <geoffthemedio@gmail.com>


    ensure good/bad influence species adjustments always adjust in the correct direction


Author: geoffthemedio <geoffthemedio@gmail.com>


    semi-randomly-manually marked species as liking luxury resource specials


Author: geoffthemedio <geoffthemedio@gmail.com>


    Artisan Workshops effects


Author: geoffthemedio <geoffthemedio@gmail.com>


    -Artisan Workshops exclusive with Conformance
    -Diversity policy unlocks Artisan Workshops


Author: geoffthemedio <geoffthemedio@gmail.com>


    clunky initial implementation of resetting influence debt if no policies adopted. needs reworked mechanics to work better.


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment indicating macro parameter use


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -SetEmpireStockpile parsing for which resource to set



Author: geoffthemedio <geoffthemedio@gmail.com>


    -add resource parameter to EmpireStockpile condition
    -made EmpireStockpile condition low and high parameters optional
    -indentation grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    added ResourceType enum parser


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -added accounting labels for importing luxury resources
    -tweaked luxury resource special resource effect scope conditions
    -removed luxury resource stability boost for being in same system (when not exporting)


Author: geoffthemedio <geoffthemedio@gmail.com>


    trace logging in NoOp effect Execute


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    fix which macro gets the current special name as a parameter


Author: geoffthemedio <geoffthemedio@gmail.com>


    logging tweak


Author: geoffthemedio <geoffthemedio@gmail.com>


    infrastructure policy unlock chain


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added Artisan Workshops policy
    -added ARTISTIC tags to various species
    -minor copyediting


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Mimetic Alloy luxury resource special


Author: geoffthemedio <geoffthemedio@gmail.com>


    make stringtable linter happy


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Spark Fossils luxury resource special


Author: geoffthemedio <geoffthemedio@gmail.com>


    moved specials into luxury subdirectory


Author: geoffthemedio <geoffthemedio@gmail.com>


    lowered spawn rate of various specials that seem to be too common


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Shimmer Silk luxury resource special


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Fractal Geodes special luxury resource


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added Capital Markets policy that enables luxury resource export to other planets
    -added Barnacles luxury resource and macros for special likes / dislikes


Author: geoffthemedio <geoffthemedio@gmail.com>


    missing word in comment


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweaked tech and policy pedia header text


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Apr 4, 2021 - 441af9c)


Merge: 2dc5003d2 2baf2a3ad
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3368 from o01eg/android-read-files
    
    Read resource files on Android from APK


Author: O01eg <o01eg@yandex.ru>


    Redirect stdout/stderr to Android logging system


Author: O01eg <o01eg@yandex.ru>


    Get locale language from Android


Author: O01eg <o01eg@yandex.ru>


    Remove std::locale access poorly supported on Android
    
    Should use JNI calls to detect current locale.


Author: O01eg <o01eg@yandex.ru>


    Fix CI


Author: O01eg <o01eg@yandex.ru>


    Fix remaining errors with reading includes from non-canonical path


Author: O01eg <o01eg@yandex.ru>


    Implements recursive directory iteration and thread-safe access to JVM


Author: O01eg <o01eg@yandex.ru>


    Check directories for existing


Author: O01eg <o01eg@yandex.ru>


    Read resource files on Android from APK


Author: Andrey <Cjkjvfnby@gmail.com>


    Minor fixes


Author: Andrey <Cjkjvfnby@gmail.com>


    Rename some variables


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Extract work with designs from production to separate module
    
    - Make design cache calculation lazy, no need to call it during turn preparation explicitly (remove temporal coupling)
    - Separate function to two parts: outer is to normalize arguments and shape return type and inner to do data aggregation staff,
    - Remove unused get_design_cost
    - Use a new approach to import from submodule: `from turn_state.design import ...`, this allows to handle circular imports,
    - Annotate arguments and return types, update usages


Author: Andrey <Cjkjvfnby@gmail.com>


    Replace type: in docstring with type annotation (#3381)


Author: Andrey <Cjkjvfnby@gmail.com>


    Refactor stub generator (#3385)
    
    - Split expecting code to submodules
    - Replace dicts with classes
    - Use type annotations
    - Minor code improve


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweak policy slot layout



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unused background image
    -emplace_back -> push_back


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace_back -> push_back when inserting a single existing item


Merge: 38433315c 88f131eeb
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3365 from o01eg/single-content-files-to-folders
    
    Move single content files to appropriate folders


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak unit test MSVC project file TargetName to quiet warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    moved some int constants into ConstantsFwd.h and made constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    made INVALID_DESIGN_ID constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    use references for loop variable to avoid copies


Author: geoffthemedio <geoffthemedio@gmail.com>


    [[fallthrough]] annotation


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexprification


Author: Andrey <Cjkjvfnby@gmail.com>


    Update generated stubs (#3382)


Author: Andrey <Cjkjvfnby@gmail.com>


    Simplify enums (#3380)
    
    - Fix an issue when enum item from other class could be accepted by has_items
    - Remove range method
    - Simplify metaclass
    - Add documentation
    - Add tests
    
    It was not clear for me how to use some enum features so I did some research and document result in code and tests.


Author: geoffthemedio <geoffthemedio@gmail.com>


    added IP output statistic


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added NumPoliciesAdopted ValueRef
    -added an empire statistic tracking NumPoliciesAdopted


Author: geoffthemedio <geoffthemedio@gmail.com>


    add rule controlling whether basic visibility systems reveal name and star type


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexprification


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexprification


Author: geoffthemedio <geoffthemedio@gmail.com>


    initialize systems without star type and name when cloning, so that the later Copy call can set that based on visibility rules


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -const -> constexpr
    -removed redundant default initializers from initializer list


Author: geoffthemedio <geoffthemedio@gmail.com>


    const -> constexpr


Author: O01eg <o01eg@yandex.ru>


    Detect boost python library from python library instead of python executable (#3375)
    
    Fix some strange boost installations


Merge: 02bef4303 8129bb35f
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3378 from o01eg/fix-multiplayer-issues
    
    Fix multiplayer issues


Author: O01eg <o01eg@yandex.ru>


    Fix multiplayer issues
    
    Correctly get revious player id. Before could get same player just
    connected.
    
    Fix crash if connection to the game could cause switch to lobby.


Author: O01eg <o01eg@yandex.ru>


    Fix first turn advance time without fixed turn interval (#3369)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Mar 23, 2021 - 8da80e9)


Author: O01eg <o01eg@yandex.ru>


    Fix CI stringtables lint


Author: O01eg <o01eg@yandex.ru>


    Move custom_sitreps.txt to scripting


Author: O01eg <o01eg@yandex.ru>


    Move common_user_customizations.txt to stringtables


Author: O01eg <o01eg@yandex.ru>


    Move content_specific_parameters.txt to stringtables


Author: O01eg <o01eg@yandex.ru>


    Move empire_colors.xml to scripting


Merge: d3c9c95c8 dbf738b45
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3363 from freeorion/Policies
    
    Economic Policies


Merge: 93111b15f 23eeacdad
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3364 from o01eg/ci-snapcraft-build
    
    Add CI test for snap packages


Author: O01eg <o01eg@yandex.ru>


    Try to fix getting log


Author: O01eg <o01eg@yandex.ru>


    Add CI test for snap packages


Author: geoffthemedio <geoffthemedio@gmail.com>


    loop over policies, not techs again


Author: geoffthemedio <geoffthemedio@gmail.com>


    added script for Regional Administration building that was missed in earlier commit b21bb1d00


Author: geoffthemedio <geoffthemedio@gmail.com>


    rework colony admin upkeep so that costs on each planet scale with square root of planets owned, and non-populated outposts count for 1/4 of a populated colony


Author: geoffthemedio <geoffthemedio@gmail.com>


    starting unlock planetary infrastructure


Author: geoffthemedio <geoffthemedio@gmail.com>


    made influence focus generation influence output proportional to planet population.


Author: geoffthemedio <geoffthemedio@gmail.com>


    made influence focus bonus to influence output population dependent, up to the previous amount as a cap


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made Centralization policy increase the cost of colony parts
    -made Colonization and Centralization policies mutually exclusive
    -reduced industry and research bonus per population of Centralization policy by half


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    stringtable fixes


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed CON_GAL_INFRA strings


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add several economic policies that, when adopted, primarily unlock two more economic policy slots. Idea is that empires will progressively adopt this series of policies over time as a way to spend their influence, in order to unlock the ability to use more policies.
    -remove Galactic Infrastructure tech
    -rearrange some construction and learning tech prerequisites


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove CON_GAL_INFRA from AI tech lists, as it doesn't actually do anything that the AI scripts seem to think it does


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    unlock regional admin building with Centralization policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add ApplyPolicies function to Empire that unlocks stuff that is unlocked by the empire's adopted policies
    -call ApplyPolicies when processing turns on the server and during universe generation


Author: geoffthemedio <geoffthemedio@gmail.com>


    move string


Author: geoffthemedio <geoffthemedio@gmail.com>


    show policy unlocks in pedia


Author: geoffthemedio <geoffthemedio@gmail.com>


    consolidate some sub-parser defs into single line of main parser


Author: geoffthemedio <geoffthemedio@gmail.com>


    add unlocked items to policies


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    minor comments


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    explicitly default constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    -guard access to NamedRef::m_invariants_initialized
    -store invariance in mutable variables within NamedRef so that its interface can be const
    -remove some redundant const from parameters and return values
    -add separate const and non-const named ref getters
    -remove const casting to get around constness limitations


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Update BUILD.md (#3361)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Mar 21, 2021 - 1765c2a)


Author: geoffthemedio <geoffthemedio@gmail.com>


    rescale up 2x the "big" fleet icons


Author: geoffthemedio <geoffthemedio@gmail.com>


    added support for big fleet button icons and scalable fleet icon size


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed some GG::Pt operator implementations


Author: geoffthemedio <geoffthemedio@gmail.com>


    revert moving lexers out of function scope to file scope in recent commits, as it seems to cause crashes during parsing


Author: geoffthemedio <geoffthemedio@gmail.com>


    missing tooltip option strings


Author: geoffthemedio <geoffthemedio@gmail.com>


    moved lexers out of function scope to file scope to hopefully reduce stack use


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -move species_lexer out of function to hopefully reduce stack space use
    -create species parser return payload as single object to hopefully allow return copy elision


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove debug output


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fixed crash when setting hotkeys, and possibly broken hotkey functionality
    -moved hotkey storage into .cpp and stored by value, not pointer
    -pass some vector instead of set



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    delete_funcs


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -move file checking into separate function



Author: geoffthemedio <geoffthemedio@gmail.com>


    -safety error check



Author: geoffthemedio <geoffthemedio@gmail.com>


    made Sound::Impl::m_temporary_disable_count atomic


Author: geoffthemedio <geoffthemedio@gmail.com>


    rename members for clarity of purpose


Author: geoffthemedio <geoffthemedio@gmail.com>


    safety check


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    minor header grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    more grooming / cleanup in Sound.cpp


Author: geoffthemedio <geoffthemedio@gmail.com>


    move CUIButton rollover sound playing from MouseHere to MouseEnter so that it actually plays


Author: geoffthemedio <geoffthemedio@gmail.com>


    -cleanup / grooming PlaySound
 PlayMusic


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Mar 13, 2021 - 52effff)


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -fix up handling of potentially duplicate combat log updates
    -logging / grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove UpdateCombatLogManager call inGGHumanClientApp::StartGame as it was duplicating the one in PlayingTurn::PlayingTurn and causing combat logs to be requested and sent twice



Author: geoffthemedio <geoffthemedio@gmail.com>


 / logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    insert -> emplace


Author: geoffthemedio <geoffthemedio@gmail.com>


    explicitly delete Condition move constructor and operator= functions


Author: O01eg <o01eg@yandex.ru>


    Add option to allow human player to take over any AI (#3357)
    
    * Add option to allow human player to take over any AI
    
    * Assign empire to new human player


Author: O01eg <o01eg@yandex.ru>


    Raise python version for tests (#3355)


Author: geoffthemedio <geoffthemedio@gmail.com>


    add GLEW version string to dependency versions


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass Universe into AddShipDesign functions
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> push for existing object parameter


Author: geoffthemedio <geoffthemedio@gmail.com>


    removing free global GetShipDesign and GetPredefinedShipDesign functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    -explicit GetUniverse() call when getting a ship design
    -passing combat info Universe when getting ship weapon strengths
    -passing SpeciesManager when getting Species targetting condition rather than using a global GetSpecies


Author: geoffthemedio <geoffthemedio@gmail.com>


    -explicit GetUniverse() call when getting a ship design
    -using context Universe to get the PathFinder


Author: geoffthemedio <geoffthemedio@gmail.com>


    -passing context Universe when inserting or creating new fleets or ships, including as part of moving or setting owner
    -replacing GetPredefinedShipDesign with explicit GetGenericShipDesign call on Universe


Author: geoffthemedio <geoffthemedio@gmail.com>


    explicit GetUniverse().GetShipDesign calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    -replaced IDString template with separate EmpireString and ShipDesignString functions
    -replaced GetPredefinedShipDesign with explicit GetUniverse().GetGenericShipDesign() calls



Author: geoffthemedio <geoffthemedio@gmail.com>


    remove MSVC debug configuration


Author: geoffthemedio <geoffthemedio@gmail.com>


    revert part of 0bc9cc995004cb3fde9b030235e3f5611d3266d2 that broke planet textures


Author: O01eg <o01eg@yandex.ru>


    Kick out other players controls same empire (#3353)
    
    Additionally kills AI process if other player was AI.


Author: geoffthemedio <geoffthemedio@gmail.com>


    making things constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    static const to static constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ScriptingContext instead of just ObjectMap to UpdateFleetRoute
    -use context instead of global getter to get the Universe and PathFinder to use in Execute functions
    -structured binding
    -avoid twice evaluating ValueRef for GenerateSitrepMessage parameter values
    -


Author: geoffthemedio <geoffthemedio@gmail.com>


    -return GenerateSitRepMessage parameters by const pointer



Author: geoffthemedio <geoffthemedio@gmail.com>


    more logging when sending message that ERROR_CLIENT_TYPE_NOT_ALLOWED


Author: geoffthemedio <geoffthemedio@gmail.com>


    logging in ClientAppFixture message handling


Author: geoffthemedio <geoffthemedio@gmail.com>


    extra logging when setting up players and filling lobby in hostless server test


Merge: 249a74d3c 2a6e72905
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3352 from o01eg/fix-segfault-on-copy-valueref
    
    Fix crash on clone ComplexVariable


Author: O01eg <o01eg@yandex.ru>


    Fix crash on clone ComplexVariable


Merge: 26988cf96 54fe3a0e4
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3348 from o01eg/kill-eliminated-ai
    
    Kill AI process of eliminated empire


Merge: f945ce332 3243c551d
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3351 from o01eg/fix-relaxed-auth-condition
    
    Relaxed authentication should be allowed only for AI, not for non-AI


Author: O01eg <o01eg@yandex.ru>


    Relaxed authentication should be allowed only for AI, not for non-AI.


Author: O01eg <o01eg@yandex.ru>


    Kill AI process of eliminated empire
    
    Stores AI process indexed by AI name.


Merge: 12abadcdf 057defa6e
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3347 from o01eg/copyable-effect
    
    Implement Clone for Effect


Author: O01eg <o01eg@yandex.ru>


    Use emplace_back


Author: geoffthemedio <geoffthemedio@gmail.com>


    -implemented Operation and ComplexVariable deep copy constructors
    -used copy constructors for Clone() functions
    -thereby avoided using operator[] on a const vector&

    -tab to spaces


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    tab to spaces


Author: geoffthemedio <geoffthemedio@gmail.com>





Merge: 7b5353420 8f7310651
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3329 from o01eg/test-home-planet-meters
    
    Add tests for home planet meters on first turn


Author: O01eg <o01eg@yandex.ru>


    Implement Clone for Effect


Merge: 71749e239 c8245fa32
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3345 from o01eg/copyable-valueref-condition
    
    Add clone method to value ref and condition


Author: O01eg <o01eg@yandex.ru>


    Use protected copy constructor for Condition invariants


Merge: 7eb537225 480fcf551
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3306 from agrrr3/20210128_monster_revamp
    
    bi-annual monster revamp


Merge: 5df12d263 781772059
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3346 from agrrr3/20210308_snapcraft_core20
    
    snapcraft.yaml update with base:core20


Author: O01eg <o01eg@yandex.ru>


    Use copy constructor to copy invariants


Author: oleg <o01eg@yandex.ru>


    Implement Clone for value refs and conditions


Author: Axel Groß <axel.gross@iaeste.at>


    snapcraft expand-extensions for automatic github build (core20 gnome-extension not supported yet)
    
    snapcraft expand-extensions --enable-experimental-extensions


Author: Axel Groß <axel.gross@iaeste.at>


    snapcraft:core20 based (--enable-experimental-extensions) build
    
    * uses python from gnome extension. can specify used python via PYTHONPATH
    
    in order to have desktop support i need gnome support
    * that is currently only possible for core20 if started with --enable-experimental-extensions
    * and I cant add build parameters if building over snapcraft.io+github
    
    * Declare git as snap build dependency (for local build)
    * desktop-launch became part of gnome-extension
    * Fix reference to desktop file -> org.freeorion.FreeOrion.desktop
    * core20: snapcraft: change all freeorion paths to /usr/local/freeorion
    
    * core18: would need extension gnome-3-34, and libraries boost1.62 or 1.65.1, libglew2.0...
      cmake-parameters was named configflags before
    
    * for building testing bins. you can snapcraft --debug to get into the build VM:
    core20: cmake-parameters: [-BUILD_TESTING=ON]
    core18: configflags: [-BUILD_TESTING=ON]


Author: oleg <o01eg@yandex.ru>


    Add messages with meter values


Author: oleg <o01eg@yandex.ru>


    Add tests for home planet meters on first turn


Merge: baf355faf dc6441137
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3344 from o01eg/allow-ai-to-delegate-player
    
    Allow AI to delegate player


Merge: 0c3da0a55 5685047b9
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3249 from o01eg/fix-macos-test-build
    
    Enable test build on MacOS CI


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid variable shadowing


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid copy


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment empty if block


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant check that char < 127


Author: O01eg <o01eg@yandex.ru>


    Allow AI to delegate player
    
    Allows locally launched AI to skip authentication.
    Allows player or AI to delegate someone without lobby if they have
    single empire to play.


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid pass by value


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment about CodeQL warning


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fixed shadowed context variable
    -move creation of location_context outside switch


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't throw if no species parsed


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove redundant const


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace std::localtime with more convoluted OS-specific calls to make thread safe


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix initializer order


Author: geoffthemedio <geoffthemedio@gmail.com>


    moved static const from header into .cpp and made constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    -static const to static constexpr



Author: geoffthemedio <geoffthemedio@gmail.com>


    -static const to static constexpr



Author: geoffthemedio <geoffthemedio@gmail.com>


    -default initialization
    -static const to static constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    static const to static constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    unstatic some file-scope constants


Author: geoffthemedio <geoffthemedio@gmail.com>


    static const to static constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    constexpr some file-scope constants


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix copy-paste redundant qualifier that breaks build


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor layout grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


: mostly constexpr and () to {}


Author: geoffthemedio <geoffthemedio@gmail.com>


    -make uses of GG::X, GG::Y, and GG::Pt constexpr
    -made some other constants constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed redundant = ""


Author: geoffthemedio <geoffthemedio@gmail.com>


    made GG::X, GG::Y, GG::Pt, and GG::Rect constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    groom PolicyAdoptionInfo


Author: geoffthemedio <geoffthemedio@gmail.com>


    MSVC2019 unit test project dependencies


Author: geoffthemedio <geoffthemedio@gmail.com>


    -groom FleetPlan constness
    -default FleetPlan constructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    revert to dummy implementation of pre-Boost1.66 thread_pool that immediately executes the passed in function, as I can't find an implementation that I can confirm works


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove MSVC2015-specific code within #if blocks


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix CodeQL package installs for Ubuntu Focal environment:
    -bump Boost version to 1.71
    -update python and python-dev package names and version to 3.8


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix script ordering


Merge: 52f20a9d6 890184df2
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3338 from o01eg/test-parer-0
    
    Add initial tests for parser


Author: O01eg <o01eg@yandex.ru>


    Move test resources to "test-scripting"


Author: O01eg <o01eg@yandex.ru>


    Initialize directories with first command line argument


Author: O01eg <o01eg@yandex.ru>


    Enable test build on MacOS CI


Author: O01eg <o01eg@yandex.ru>


    Fix typo. Additional scripting folder checks.


Author: O01eg <o01eg@yandex.ru>


    Fix MSVC2019 project


Author: O01eg <o01eg@yandex.ru>


    Use tuple unpack


Author: O01eg <o01eg@yandex.ru>


    Add another techs equality parser


Author: O01eg <o01eg@yandex.ru>


    Use equal test for tech


Author: O01eg <o01eg@yandex.ru>


    Add initial tests for parser


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial whitespace grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    add a UnitTests project to the MSVC2019 project files that produces a .exe that runs smoke and parse tests


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Feb 28, 2021 - d056f57)


Author: geoffthemedio <geoffthemedio@gmail.com>


    added FieldType::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    added ShipPart::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    added ShipHull::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    added rule to make all systems at least basically visible to all empires


Author: agrrr3 <axel.gross@iaeste.at>


    Add new building: Abandon Outpost System (#3328)
    
    * Add new building: Abandon Outpost
    * Rename "Evacuation System" building to "Evacuation"
    
    Note that removing the "System" part leads to having to reword use sites.
    Maybe it should be more like "Abandon Outpost Order".


Author: geoffthemedio <geoffthemedio@gmail.com>


    added BuildingType::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Special::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    use dummy parsers for LGTM build


Author: geoffthemedio <geoffthemedio@gmail.com>


    explicitly defaulted Destroy constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    add SetEmpireCapital::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    add SetEmpireStockpile::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> push


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fixed some use of std::transform with back_inserter instead of .begin() or commented cases of in-place replacement where .begin() makes sense
    -maybe fixed const-correctness of Operation<T>::LHS() and Operation<T>::RHS()


Author: geoffthemedio <geoffthemedio@gmail.com>


    add SetEmpireMeter::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    add ShipPartMeter::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add SetMeter::operator==
    -explicitly default NoOp::NoOp


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed redundant explicit.


Author: geoffthemedio <geoffthemedio@gmail.com>


    add Effect::operator==. just base class so far, which only checks typeid of operand against itself.


Author: geoffthemedio <geoffthemedio@gmail.com>


    add EffectsGroup::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    add Tech::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    -explicit casting to GLfloat to silence warnings
    -structured binding



Author: geoffthemedio <geoffthemedio@gmail.com>


    replaced std::ctime (which is reportedly not thread safe) with std::strftime


Author: geoffthemedio <geoffthemedio@gmail.com>


    -perfect forwarding
    -emplace -> push


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> push / insert


Author: geoffthemedio <geoffthemedio@gmail.com>


    salt combat PRNG seeding with galaxy seed


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    Effect ScriptingContext safety


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid passing temporary ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace temporary ScriptingContexts being constructed as function call parameters and instead create locals and pass when calling


Author: geoffthemedio <geoffthemedio@gmail.com>


    made several ScriptingContext constructor that don't explicitly take Universe, EmpireManager, and other gamestate info as parameters instead explicitly populate those references with the global gamestate getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak looping and captures to hopefully make GCC happy


Author: geoffthemedio <geoffthemedio@gmail.com>


    made some RefreshDetailPanelShipDesignTag logging Trace level


Author: geoffthemedio <geoffthemedio@gmail.com>


    longer minimum time for BuildingType::ProductionTime time logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    parallelize pedia searching with Boost thread_pool when available (depends on Boost version). required skipping creating temporary UniverseObjects when generating only description text for ShipDesign articles, as this would have involved unguarded insertions of objects into the Universe from multiple threads.


Author: geoffthemedio <geoffthemedio@gmail.com>


    -structured binding
    -additional warning about no source for effects group execution


Author: geoffthemedio <geoffthemedio@gmail.com>


    added ScriptingContext parameter to CompletionMeterConsumption


Author: geoffthemedio <geoffthemedio@gmail.com>


    added ScriptingContext parameter to CompletionSpecialConsumption


Author: geoffthemedio <geoffthemedio@gmail.com>


    added ScriptingContext parameter to EnqueueConditionPassedAt


Author: geoffthemedio <geoffthemedio@gmail.com>


    added ScriptingContext parameter to ProductionStatus


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove unreachable condition (#3335)


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix Statistic<T, V>::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    probably fix const-correctness of ValueReff::Operation<T>::operator==


Author: geoffthemedio <geoffthemedio@gmail.com>


    clean up test stuff in .yml


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary includes from dummy parser build


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add codeql-analysis.yml
    -add DummyParsers.cpp that provides empty / default return implementation of parsers that should be simple to compile for test purposes
    -add BUILD_PARSERS flag to CMakeLists.txt that switches between real and dummy parser implementations


Author: Axel Groß <axel.gross@iaeste.at>


    Refactor stringtables and focs to use RULE_FIRST_COMBAT_ROUND_IN_CLOSE_TARGETING_RANGE
    
    SR_TENTACLE and SR_GRAV_PULSE depend on the fighter launch pattern so currently no SHORT_TARGETING_RANGE is necessary


Author: O01eg <o01eg@yandex.ru>


    Add getters for ValueRef fields of Tech (#3332)


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace -> push


Author: geoffthemedio <geoffthemedio@gmail.com>


    disable warnings appearing from deep in Boost code


Author: geoffthemedio <geoffthemedio@gmail.com>


    -commenting why some empty destructors are declared
    -defaulting some constructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    explicitly deleting functions instead of commenting "disabled" at declaration without a definition


Author: O01eg <o01eg@yandex.ru>


    Fix Operands return value (#3331)


Author: Axel Groß <axel.gross@iaeste.at>


    Let SR_GRAV_PULSE be mounted in external and internal slots
    
    Cause it is only used by monsters and i dont want to review all the slots.


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Fix warning: Module is imported with both 'import' and 'import from'


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Fix warning: This assignment is unnecessary as it is redefined before this value is used.


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Remove unused flake8 config entry


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Fix warning: Unreachable statement
    
    Cycle is stopped when we change the value of this variable.


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Fix warning: Unnecessary 'pass' statement


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Fix warning: This assignment assigns a variable to itself


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Fix warning: Module 'CombatRatingsAI' is imported with both 'import' and 'import from'


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix tpyo
    fixes #3312


Author: Andrey <Cjkjvfnby@gmail.com>


    Upgrade assertion fails output. (#3320)
    
    - Rewrite intro message that it is a warning
    - Print traceback only to the console
    - Remove unused logger argument
    - Add more info to console


Author: geoffthemedio <geoffthemedio@gmail.com>


    add .lgtm.yml


Author: geoffthemedio <geoffthemedio@gmail.com>


    -take and store SpeciesManager by mutable reference in ScriptingContext
    -modify ScriptingContext state in Effects
    -access and modify ScriptingContext state rather than member state in Universe effect functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    allow Focal build to fail


Author: geoffthemedio <geoffthemedio@gmail.com>


    further attempts to fix SDL2 include issue with clang


Author: geoffthemedio <geoffthemedio@gmail.com>


    add test Travis CI test build on Ubuntu 20.04 with clang


Author: geoffthemedio <geoffthemedio@gmail.com>


    add a custom thread pool implementation for pre-Boost 1.66


Author: geoffthemedio <geoffthemedio@gmail.com>


    increase file parse log threshold to 100 ms to reduce log spam


Author: geoffthemedio <geoffthemedio@gmail.com>


    -set server log level to info within smoke tests
    -set test suite logging to verbose and all in CMakeLists.txt


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove extra "in" in adoption requirement strings


Author: Axel Groß <axel.gross@iaeste.at>


    Make python lint happy


Author: Axel Groß <axel.gross@iaeste.at>


    Adjust AIDependencies for monster weapons - note that damage estimations will be wrong if weapons do not shoot every combat round
    
    E.g. for close range weapons like SR_JAWS the estimation will be double the real value
    This is to be solved in a later PR


Author: Axel Groß <axel.gross@iaeste.at>


    Fix SH_TREE regeneration structure scaling


Author: Axel Groß <axel.gross@iaeste.at>


    Make stringtable format check happy


Author: Axel Groß <axel.gross@iaeste.at>


    Make stringtable lint happy


Author: Axel Groß <axel.gross@iaeste.at>


    Switch one SR_SPINES against 8-shot SR_TENTACLE for BLACK_KRAKEN


Author: Axel Groß <axel.gross@iaeste.at>


    Add a 10-shot, 1-damage bout2&3 SR_THRASHING_BODY to SM_DRAGON


Author: Axel Groß <axel.gross@iaeste.at>


    SR_SPINES does double damage, but only starting from bout 3


Author: Axel Groß <axel.gross@iaeste.at>


    Add KRILL living in SM_TREE, make the tree Obstructive instead of Aggressive


Author: Axel Groß <axel.gross@iaeste.at>


    Add a Flak to ACIREMA_GUARD


Author: Axel Groß <axel.gross@iaeste.at>


    Add 24-shot SR_GRAV_PULSE to BLOATED_JUGGERNAUT


Author: Axel Groß <axel.gross@iaeste.at>


    Add 12-shot SR_GRAV_PULSE to all JUGGERNAUTs


Author: Axel Groß <axel.gross@iaeste.at>


    Add 60-shot SR_GRAV_PULSE as fighter defense to SH_EXP_OUTPOST


Author: Axel Groß <axel.gross@iaeste.at>


    Switch SM_GUARD useless Flak upgrades to something that works; also fix dam scaling
    
    Switch SM_GUARD_3 useless Flak upgrade to similar ARC_DISRUPTOR upgrade
    (also fix damage scaling for upgrade)
    
    Switch SM_GUARD_2 Flak upgrade from damage to shots; also fix scaling


Author: Axel Groß <axel.gross@iaeste.at>


    Give maintenance ship two Arc Disruptors instead of one Mass Driver
    
    more versatile, same level of damage


Author: Axel Groß <axel.gross@iaeste.at>


    Add SR_GRAV_PULSE, a versatile low-damage high-shot short-range weapon helping monsters keep the fighters and swarms away
    
    * all 12 shots do 1 damage in round 2
    * targets everything


Author: Axel Groß <axel.gross@iaeste.at>


    Complex KRAKEN TENTACLE attack pattern, also mostly shortrange and double-shot
    
    In bout 2 attacks 2 fighters
    After that it attacks ships if such are available. Else it crushes fighters and planets.
    So main attack is delayed.
    
    Making it two shots keeps overall damage and shield piercing the same.
    Note that this doubles damage growth


Author: Axel Groß <axel.gross@iaeste.at>


    Fix missing damage growth scaling for KRAKEN


Author: Axel Groß <axel.gross@iaeste.at>


    Let SR_JAWS deal damage starting with combat round 3


Author: Axel Groß <axel.gross@iaeste.at>


    Fix missing damage growth scaling for JUGGERNAUT


Author: agrrr3 <axel.gross@iaeste.at>


    Fix server crash when fighters shoot (#3314)


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor whitespace grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -check pointer for null before using
    -emplace -> push


Author: Geoff <geoffthemedio@users.noreply.github.com>


    Clang Compatibility (#3310)
    
    * move NamedRef function definitions into header to make clang happy
    
    * warning reduction


Author: geoffthemedio <geoffthemedio@gmail.com>


    restore setting root candidate when passsed a local candidate if no root was yet set. this was accidentally removed a few commits ago.


Author: geoffthemedio <geoffthemedio@gmail.com>


    adding boost stacktrace to FollowReference error log


Author: geoffthemedio <geoffthemedio@gmail.com>


    added more info to FollowReference failure error message


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoiding calling raw pointer new


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't need to get a raw pointer from shared_ptr


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplace_back -> push_back for already-constructed objects


Author: geoffthemedio <geoffthemedio@gmail.com>


    making some ScriptingContexts const to avoid lookups for unavailable mutable objects


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added EmpireManager, ObjectMap, and ScriptingContext parameters to various functions
    -replaced various global getters with context accesses
    -added mutable Empires() getter to ScriptingContext
    -structured binding
    -Python API updates to account for above


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fixed | vs || typo
    -use context Universe instead of GetUniverse
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store current_turn in ScriptingContext
    -copy combat_bout when copying an input ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    Fixing trying to get mutable object from ScriptingContext initialized from a non-mutable


Author: geoffthemedio <geoffthemedio@gmail.com>


    hopefully fix issue with default temporary


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed unused variable redundant declarations


Author: geoffthemedio <geoffthemedio@gmail.com>


    Fix exposing AccountingInfo to Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    WIP reworking ScriptingContext and CombatInfo


Author: geoffthemedio <geoffthemedio@gmail.com>


    TODO cooments


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak gamestate getters / passing


Author: geoffthemedio <geoffthemedio@gmail.com>


    move shared_ptrs


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store edges in EdgeVisibilityFilter rather than a pointer to ObjectMap to look them up by getting Systems by ID and checking their starlanes
    -removed commented out code
    -removed unused empire_id parameter to SystemPredicateFilter


Author: geoffthemedio <geoffthemedio@gmail.com>


    store CombatInfo ObjectMap in a unique_ptr


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed ObjectMap::swap since pointer swaps are currently doing this job


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store Universe::m_objects in a unique_ptr to facilitate moving without invalidating references to it
    -move m_pathfinder when moving Universe
    -remove redundant Clear() in ~Universe and clearing in Universe serialization



Author: geoffthemedio <geoffthemedio@gmail.com>


    tweak lambda captues to make GCC happy?


Author: geoffthemedio <geoffthemedio@gmail.com>


    -Added GameStart threaded message unpacking, similar to TurnUpdate handling
    -Added failed unpacking messages for those handlers
    -Moved turn start system graph initialization into threaded game start and turn update message handling, rather than in MapWnd::InitTurn


Author: geoffthemedio <geoffthemedio@gmail.com>


    catch exceptions by const reference, not value or non-const reference


Merge: 6f9f80fca 7d2d7dfcd
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3302 from freeorion/xcode_macos_cpp17_test
    
    Xcode Macos Version Bump for C++17


Author: geoffthemedio <geoffthemedio@gmail.com>


    -switch from std::lock_guard to std::scoped_lock
    -switch from boost::scoped_lock to std::scoped_lock
    -switch from boost::mutex to std::mutex


Author: geoffthemedio <geoffthemedio@gmail.com>


    bump TravisCI XCode version to 10.1, which should be the latest that runs on MacOS 10.13


Author: geoffthemedio <geoffthemedio@gmail.com>


    set minimum MacOS version in CMake to 10.12 to hopefully get better C++17 support


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed seemingly unnecessary call to init empire visibility filtered graphs when empires haven't yet had a chance to observe anything yet


Author: geoffthemedio <geoffthemedio@gmail.com>


    Revert "Remove unnecessary inheritance in AI wrapper (#3300)"
    
    This reverts commit a7b140f2639e6655cc847dca6306ee13219b6b0b.


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove unnecessary inheritance in AI wrapper (#3300)


Author: O01eg <o01eg@yandex.ru>


    Revert "Remove python wrapper for class that is not used (#3296)" (#3297)
    
    This reverts commit 8a95c6b2b4810a28184cb783066efbfb3fb10c1f.


Author: geoffthemedio <geoffthemedio@gmail.com>


    cout to TraceLogger


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid getter calls when local members can be passed


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduced game rule parser log spam


Author: geoffthemedio <geoffthemedio@gmail.com>


    -structured bindings
    -made "Unresolved optional value reference" trace level to reduce log spam


Author: geoffthemedio <geoffthemedio@gmail.com>


    prefer GetUniverse().GetPathfinder() rather than global GetPathfinder()


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduced NamedRef SetTopLevelContent log spam


Author: geoffthemedio <geoffthemedio@gmail.com>


    reduced NamedValueRef registration log spam


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    update hardcoded MSVC version strings in 2019 project files


Author: geoffthemedio <geoffthemedio@gmail.com>


    added ExtractGameStartMessageData overload taking a string


Author: geoffthemedio <geoffthemedio@gmail.com>


    big template to auto


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed indenting


Author: geoffthemedio <geoffthemedio@gmail.com>


    move GGHumanClientApp into client/human filter in MSVC 2019 project files


Author: geoffthemedio <geoffthemedio@gmail.com>


    default constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fix passing an empty default constructed ObjectMap instead of the main gamestate or a locally available ObjectMap
    -pass some pointers by const reference


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove python wrapper for class that is not used (#3296)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Make adding remaining tech repeatable (#3155)
    
    The old version of the code added all remaining techs
    in pseudo-random order by converting the `list` to `set`.
    This approach may provide different orders of tech on different machines.


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Replace :rtype: with type annotations (#3294)
    
    * [AI] Replace :rtype: with type annotations
    
    - Remove :rtype: from docstring replacing it with annotations
    - Replace :type: with annotations
    - Annotate types
    - Fix types
    - Format docs
    - Extract fleet position calculation to tools
    - Remove AIFleetMission.get_location_target


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Remove situation report binding from AI interface (#3293)
    
    - This code is not used.
    - Some sitrep object methods are broken, for example getTags.
    - Probably AI could get some useful information from situation reports, but this general implementation is too general.


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jan 30, 2021 - ac17e6f)


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed extra "unlock =" line


Author: Oberlus <sicofonte@gmail.com>


    Unlock Divine Authority policy at Transcendend Architecture tech (#3285)


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Cleanup code (#3292)
    
    * Remove extra variables used for type hinting
    
    * [AI] Cleanup code
    
    - Replace `rtype` and `type` with annotations
    - Reduce union types according to actual usage
    - Simplify function arguments to reduce module dependencies
    - Move function definition after its requirements


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix MSVC 2017 internal compiler errors


Author: Andrey <Cjkjvfnby@gmail.com>


    [AI] Move profiling code to separate module (#3291)
    
    - Move code to separate module
    - Add usage clarification
    - Remove unnecessary usages


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass string by value with move



Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap and EmpireManager rather than using global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    revert to storing PartAttackInfo strings by value to fix combat crash


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass ObjectMap through call chains rather than using global getter
    -default constructing rather than writing out trivial constructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    use available members instead of global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ObjectMap and known destroyed objects to UpdateUnobstructedFleets


Author: Andrey <Cjkjvfnby@gmail.com>


    Convert turn state to submodules (#3286)
    
    * Convert turn state to submodules
    * Update module documentation


Merge: 347c13a79 5ab3be719
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3288 from Cjkjvfnby/remove-order-from-AI-insterface
    
    Remove getOrders from AI interface


Author: geoffthemedio <geoffthemedio@gmail.com>


    quieting unused variable warnings


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    comment update and grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unnecessary #include


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    avoiding use of global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing and storing string by connst reference


Author: geoffthemedio <geoffthemedio@gmail.com>


    TODO


Author: geoffthemedio <geoffthemedio@gmail.com>


    -passing shared_ptr by const reference instead of copy
    -storing strings by const reference instead of by value


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Fleet constructor take name string by value and move into base class constructor


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweaked UniverseObject::MoveTo overloads


Author: geoffthemedio <geoffthemedio@gmail.com>


    moving shared_ptr


Author: geoffthemedio <geoffthemedio@gmail.com>


    auto replacement


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    -structured bindings



Author: geoffthemedio <geoffthemedio@gmail.com>



    -don't move from const


Author: geoffthemedio <geoffthemedio@gmail.com>


    made ValueRef::StatisticType an enum class with the FO_ENUM macro


Author: geoffthemedio <geoffthemedio@gmail.com>


    added MSVC 2019 project files, based on the 2017 project files.


Author: geoffthemedio <geoffthemedio@gmail.com>


    -reworked condition evaluation optional mode with transform and const_pointer_cast to use a lambda. this helps compatibility with MSVC platform toolset v142.
    -added description for option that controls whether to use this code path.


Merge: f0c5b2eb2 398a85909
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3290 from Cjkjvfnby/refactor_skeleton-generation
    
    Extract shared code for AI and universe generation


Author: geoffthemedio <geoffthemedio@gmail.com>


    added missing break in switch / case block. looks bad, but probably had no effect due to the ProdQueueOrderAction being set to control what is actually done.


Merge: 32de98911 e01d1a458
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3289 from Cjkjvfnby/fix-error-message
    
    Fix error message


Author: Andrey <Cjkjvfnby@gmail.com>


    Extract shared code for AI and universe generation
    
    Reduce number of instances that should be created.
    Improve error reporting.


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix error message


Author: Andrey <Cjkjvfnby@gmail.com>


    Remove getOrders form AI interface
    
    This code was added for debug purposes, so now it can be removed.
    Only size method of OrderSet is working, conversion set to list leads to error: No to_python (by-value) converter found for C++ type: class std::shared_ptr<class Order>.


Author: geoffthemedio <geoffthemedio@gmail.com>


    -default initializing



Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    whitespace grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    made combat report more consistent with "and does" -> "for" damage string


Author: geoffthemedio <geoffthemedio@gmail.com>


    return a copy rather than reference to access-guarded container of Texture pointers


Author: geoffthemedio <geoffthemedio@gmail.com>


    get GalaxySetupData from ScriptingContext within ValueRef evaluations


Author: geoffthemedio <geoffthemedio@gmail.com>


    made some constants constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing ScriptingContext to Fleet::ETA and MovePath


Author: geoffthemedio <geoffthemedio@gmail.com>


    made ShipHull, ShipPart, and ShipDesign Python API exposures use lambdas with explicit calls within to aide with adapting to C++ API changes for passing ScriptingContext when evaluating


Author: geoffthemedio <geoffthemedio@gmail.com>


    -removed Empire::ProductionCostAndTime functions and added equivalent to ProductionQueue::Element and ProductionQueue::Item
    -structured binding
    -passing ScriptingContext to ShipHull::ProductionCost and ProductionTime
    -default initialization and constructors


Author: geoffthemedio <geoffthemedio@gmail.com>


    note time to search at end of results


Author: geoffthemedio <geoffthemedio@gmail.com>


    added elapsed time getter to SectionedScopedTimer


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass MeterType lists by value and move


Author: geoffthemedio <geoffthemedio@gmail.com>


    use constexpr lists of pairs of MeterType


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace boost::range::count_if with std::count_if


Author: geoffthemedio <geoffthemedio@gmail.com>


    indentation


Author: geoffthemedio <geoffthemedio@gmail.com>


    quieting unused variable warnings


Merge: 488110bc5 95e740515
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3287 from Cjkjvfnby/fix-stub-generator
    
    Fix issues related to skeleton generation and update skeleton


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix issues related to interface generation and update interface


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jan 23, 2021 - 1a81a68)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -don't get textures or set other fields when generating pedia text just to search it, not display it directly
    -put autogenerated effects description at end of pedia articles for techs and building types
    -fall back to default location for empire when calculating building type cost / time
    -removed unused parameters from RefreshDetailPanelSearchResultsTag


Author: geoffthemedio <geoffthemedio@gmail.com>


    made logging of all GetSubDirs calls trace level


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    split extracting words and searching pedia text for words into separate functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't log error if asked for DefaultLocationForEmpire for ALL_EMPIRES


Author: geoffthemedio <geoffthemedio@gmail.com>


    -structured binding
    -fixed indentation


Author: geoffthemedio <geoffthemedio@gmail.com>


    added TODO


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass EmpireManager to UpdateEmpirePolicies
    -quiet unused variable warnings from structured bindings


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    moved MapKeys function to an anonymous namespace


Author: geoffthemedio <geoffthemedio@gmail.com>


    nested try-catch around GetTexture calls


Author: geoffthemedio <geoffthemedio@gmail.com>


    -threaded access guards on TextureManager public functions
    -pass pointers and strings with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pedia text search timing logging
    -skip searching all strings article when searching pedia
    -store search results in vector and then sort, rather than in a map
    -structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    suppressing unused variable warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    attempt to suppress unused variable warnings from structured bindings


Author: geoffthemedio <geoffthemedio@gmail.com>


    marking some structured bindings [[maybe_unused]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    actually test noop condition parser


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed redundant forward declaration


Author: geoffthemedio <geoffthemedio@gmail.com>


    -do some accumulation with std::accumulate when it's shorter than a hand-rolled loop
    -switch some Statistic value collection to unordered_set or unordered_map
    -tweak loop variable types, depending if the iterated-over types are arithmetic or potentially benefit from being moved instead of copied when inserted into another container


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    marking ignored static binding variables as [[maybe_unused]]


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary FO_COMMON_API


Author: geoffthemedio <geoffthemedio@gmail.com>


    quieting some unused variable warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    attempt to quiet GCC warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    made some static const into constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    added a NoOp condition that does not modify its input ObjectSets, which can be useful for debug purposes


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding / grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed redundant initializers


Author: geoffthemedio <geoffthemedio@gmail.com>


    indentation


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made some constants constexpr
    -default initializing


Author: geoffthemedio <geoffthemedio@gmail.com>


    made more Clr constructors constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed BuildingType cost / time getters not use local context with source specified


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made some static and global constants constexpr
    -default values for some member variables


Author: geoffthemedio <geoffthemedio@gmail.com>


    attempt to silence unused variable warning from structured binding with [[maybe_unused]]. leaving as const causes a Visual Studio 2017 internal compiler error.


Author: geoffthemedio <geoffthemedio@gmail.com>


    added missing include needed by some compilers


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured bindings


Author: geoffthemedio <geoffthemedio@gmail.com>


    default initializing


Author: geoffthemedio <geoffthemedio@gmail.com>


    -default initializing
    -minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    default initializing


Author: geoffthemedio <geoffthemedio@gmail.com>


    default initializing


Author: geoffthemedio <geoffthemedio@gmail.com>


    default initializing


Author: geoffthemedio <geoffthemedio@gmail.com>


    structured binding


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing EmpireManager rather than using global getter to various functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    use members instead of global getters


Merge: c14522728 cf6aaabe3
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3283 from Oberlus/fixNamedValueIndustrialism
    
    Fix Industrialism value name


Author: Oberlus <sicofonte@gmail.com>


    Fix Industrialism value name


Merge: 09a00663a 9159e9366
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3282 from Oberlus/NerfConcCamps
    
    Reduce Conc. Camps industry boost


Author: Oberlus <sicofonte@gmail.com>


    Reduce Conc. Camps industry boost


Author: geoffthemedio <geoffthemedio@gmail.com>


    match rather than reject candidate to VisibleToEmpire condition when specified empire is ALL_EMPIRES


Author: geoffthemedio <geoffthemedio@gmail.com>


    debug stuff for monsters not attacking


Author: geoffthemedio <geoffthemedio@gmail.com>


    -moving passed pointers
    -added / edited some TODOs


Author: geoffthemedio <geoffthemedio@gmail.com>


    -moving passed pointers
    -added / edited some TODOs


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary setting of string to ""


Author: geoffthemedio <geoffthemedio@gmail.com>


    comment tweak


Author: geoffthemedio <geoffthemedio@gmail.com>


    store and pass diplomatic statuses by const reference instead of by value. does introduce a dependency on potentially asynchronously changing container during a Condition or ValueRef evaluation, but is much faster without the repeated constructions of the diplo status data container in ScriptingContext when navigating the expression tree.


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass ScriptingContext instead of ObjectMap and EmpireManager to BuildingType cost / time functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    get empires from ScriptingContext


Merge: 9ef282b4c a260458c6
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3281 from Cjkjvfnby/fix-save-game-loading
    
    Fix savegame compatibility for AI


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix savegame compatibility for AI


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jan 16, 2021 - 0e56d12)


Merge: b01d1a282 9c33a9306
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3276 from freeorion/cpp17
    
    Build with C++17


Merge: 943b29d25 73ce685d7
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3279 from Oberlus/RebalanceResearch
    
    Rebalance research


Author: Oberlus <sicofonte@gmail.com>


    Nerf Telepathy bonus to Psionics's cost


Author: Oberlus <sicofonte@gmail.com>


    Nerf Temporal Anomaly


Merge: 0183a9d86 b626c5f9b
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3278 from Cjkjvfnby/split_module_to_parts
    
    Split CombatRatingsAi to submodules


Author: geoffthemedio <geoffthemedio@gmail.com>


    set C++ version to C++17 in CMakeLists.txt and MSVC projects


Author: Andrey <Cjkjvfnby@gmail.com>


    Split CombatRatingsAi to submodules
    
    - Simplify the public API of the module
    - Remove conversion to tuple and back.  I have added the module to approved classes for the savegame codec.
    - Remove low level details like  (`get_stats(hashable=True)`) from module API.
    - Replace all `type` and `rtype` sections from the docstring favor to annotation.
    
    This module still part of cyclic dependencies, need to work more in that direction.


Merge: f9f7bf1a0 dc6710b28
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3277 from Cjkjvfnby/refactor-save-game-codec-tests
    
    Refactor savegame codec tests


Author: geoffthemedio <geoffthemedio@gmail.com>


    initialize ScriptingContext with available member variables rather than default global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass full ScriptingContext rather than just ObjectMap through DispatchEffectsGroupScopeEvaluations and StoreTargetsAndCausesOfEffectsGroup


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweaked error messages


Author: geoffthemedio <geoffthemedio@gmail.com>


    updated a TODO


Author: geoffthemedio <geoffthemedio@gmail.com>


    added ObjectMap optional parameters to Policy::AdoptionCost, Empire::AdoptPolicy, and InfluenceQueue::Update


Author: geoffthemedio <geoffthemedio@gmail.com>


    implemented test pedia list of stringtable entries


Author: geoffthemedio <geoffthemedio@gmail.com>


    added getters for full stringtable contents


Author: geoffthemedio <geoffthemedio@gmail.com>


    added #include needed on Linux as MacOS


Author: geoffthemedio <geoffthemedio@gmail.com>


    marked SupplyManager::operator= as noexcept


Author: geoffthemedio <geoffthemedio@gmail.com>


    null pointer safety checks


Author: geoffthemedio <geoffthemedio@gmail.com>


    -default initializing member variables
    -moving pointers when possible
    -emplacing
    -other grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    -moving pointers when passing



Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unused variable


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    use stringtable entry for some debug pedia text for buildings


Author: Andrey <Cjkjvfnby@gmail.com>


    Refactor savegame codec tests
    
    Group codec tests in a folder.
    Extract the codecs fixtures to a separate fixture, so it can be reused.
    Fix operation with trusted_scope, it was left empty after tests.
    Refactor pytest to use `import pytest` style.


Merge: 87ee8cf1b 851e827b2
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3275 from Cjkjvfnby/move-combine-ratings-to-tools
    
    Move combine_ratings to tools


Author: Andrey <Cjkjvfnby@gmail.com>


    Move combine_ratings to tools
    
    This function has no dependencies and we can move it to tools to reduce dependencies between module.
    Also I have merged combine_ratings and combine_ratings_list to a single function for more convenient usage.


Author: geoffthemedio <geoffthemedio@gmail.com>


    disable focus-related stability effects when planet is unowned


Author: geoffthemedio <geoffthemedio@gmail.com>


    made a few species influence effects be not active if a planet is unowned


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>





Merge: e7768d0d5 d1d385a5f
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3274 from Cjkjvfnby/rename-variable
    
    Rename consider_refueling to max_stats


Author: Andrey <Cjkjvfnby@gmail.com>


    Rename consider_refueling to max_stats
    
    This flag is used as to switch between max stats (shield, structure) and current stats.


Merge: 6fe7f495a 2a1acf451
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3273 from Cjkjvfnby/refactor-stats
    
    Rename function.


Merge: f06726d13 b59a657c4
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3271 from Cjkjvfnby/fix-zero-divizion-in-AI
    
    Fix zero division in shield factor calculation see #3257


Author: Andrey <Cjkjvfnby@gmail.com>


    Rename function.
    
    Since we have special weapon fighters this name was confusing.


Author: Andrey <Cjkjvfnby@gmail.com>


    Fix zero division in shield factor calculation see #3257
    
    It is a rare issue that was reported by user. I have extracted logic to a separate function and add a protection for case when number of shots is zero.  It is not clear why does it happens, maybe  because of some species treats. Issue was introduced on turn 721, maybe it was some impure which was almost destroyed and its stats was not very actual.


Author: geoffthemedio <geoffthemedio@gmail.com>


    use passed-in ObjectMap and EmpireManager instead of global getters


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass Universe into DisseminateSystemCombatInfo rather than using global getter



Author: geoffthemedio <geoffthemedio@gmail.com>



    -removing seemingly unnecessary #includes


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -passing visibility turn map and diplomatic statuses to construct CombatInfo
    -tweaked some comments


Author: geoffthemedio <geoffthemedio@gmail.com>





Merge: c28d15d77 e3ba0ee86
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3262 from o01eg/rename-human-client-app
    
    Rename GG's client class HumanClientApp to GGHumanClientApp


Author: O01eg <o01eg@yandex.ru>


    Change header guard


Author: O01eg <o01eg@yandex.ru>


    Fix MSVC compilation


Author: O01eg <o01eg@yandex.ru>


    Rename GG's client class HumanClientApp to GGHumanClientApp


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -removed ScriptingCombatInfo struct
    -added references to empires, empire_object_vis_turns, and diplo_statuses to CombatInfo
    -added member storage for objects, empire_object_visibility, and bout to CombatInfo
    -used these references and storage to initialize the ScriptingContext in ShootAllWeapons and within CombatInfo and other combat-resolution functions to access gamestate


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    TODOs for passing ObjectMap


Author: geoffthemedio <geoffthemedio@gmail.com>


    passing ObjectMap to EmpireManager::GetSource


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added ObjectMap parameter to EmpireManager::GetSource
    -used tbhat param in BuildingType::ProductionLocation


Author: geoffthemedio <geoffthemedio@gmail.com>


    -minor grooming
    -TODOs


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Dump more consistent with parser


Author: geoffthemedio <geoffthemedio@gmail.com>


    got empires from ScriptingContext in ValueRefs.cpp


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    added turn and visibility parsing for VisibleToEmpire condition


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -added as-yet-unused parameters to VisibleToEmpire to control the Visibility level at which and turn after which an object needs to have been observed by an empire
    -replaced calls to global Empires() and GetEmpires() with access via ScriptingContext in conditions


Author: geoffthemedio <geoffthemedio@gmail.com>


    added const ScriptingContext::GetEmpire overload


Author: geoffthemedio <geoffthemedio@gmail.com>


    replaced calls to global Empires() and GetEmpires() with access via ScriptingContext in effects


Author: geoffthemedio <geoffthemedio@gmail.com>


    added some convenience getters to ScriptingContext


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added empire object visibility map, empire object visibility turns map, empires, and diplomatic statuses in ScriptingContext
    -explicitly pass these to the ScriptingContext or constructors in a few places
    -reworked CombatInfo and ScriptingCombatInfo constructors and passed empire object visibility to them


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Universe::GetEmpireObjectVisibility general-case getter


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Universe::EmpireObjectVisibilityTurnMap typedef public


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added getters to EmpireManager for containers of Empire pointers
    -added getter for DiploStatusMap to EmpireManager


Author: geoffthemedio <geoffthemedio@gmail.com>





Merge: 9317bfa2b a41f854a2
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3269 from agrrr3/20210104_ValueRefValuesInBuildingTooltips
    
    Show values of valuerefs in building tooltips


Author: Axel Groß <axel.gross@iaeste.at>


    Show values of valuerefs in building tooltips
    
    * move ValueRefLinkText to global namespace
    * use that to calculate the text of building tooltips


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Jan 1, 2021 - 23c8416)


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed TODO that's been done


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Conformance and Liberty policies to affect species like/dislike effects


Author: geoffthemedio <geoffthemedio@gmail.com>


    Indoctrination should be a social policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    added getter for full EmpireObjectVisibilityTurnMap in Universe


Author: geoffthemedio <geoffthemedio@gmail.com>



    -added a commented-out plan for future contents of ScriptingContext


Merge: 82513f559 e02e9ce37
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3267 from o01eg/read-empty-files
    
    Treat empty files as failure


Author: O01eg <o01eg@yandex.ru>


    Treat empty files as failure


Merge: 3a5f4cc7c 5ee17e1bb
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3264 from o01eg/fix-array-def
    
    Fix definition for std::array on some configurations


Author: O01eg <o01eg@yandex.ru>


    Fix definition for std::array on some configurations


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Dec 27, 2020 - b01ba97)


Author: geoffthemedio <geoffthemedio@gmail.com>


    added SaveGamePreviewUtils.h to MSVC project files


Author: geoffthemedio <geoffthemedio@gmail.com>


    moved headers in project files


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed redundant unlock text from description


Author: geoffthemedio <geoffthemedio@gmail.com>


    influence upkeep cost on planets scales with number of planets owned


Author: geoffthemedio <geoffthemedio@gmail.com>


    added some comments to imperial palace script


Author: geoffthemedio <geoffthemedio@gmail.com>


    fixed Planetary Guard Brigades per pop troop bonus


Merge: 01fae0234 534aad47e
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3243 from o01eg/android-support-0
    
    Common support for Android


Author: geoffthemedio <geoffthemedio@gmail.com>


    added several policies to increase planet stability


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    added marine recruitment policy icon


Author: geoffthemedio <geoffthemedio@gmail.com>


    added unique icon for Divine Authority


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    copyediting


Merge: afe88582a 288e4b76e
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3242 from o01eg/move-file-reader-to-directories
    
    Move FOCS file reading to Directory code


Author: O01eg <o01eg@yandex.ru>


    Move FOCS file reading to Directory code
    
    Should simplify access to data unavailable via fle operations like
    Android assets.


Author: O01eg <o01eg@yandex.ru>


    Common support for Android


Merge: d45672249 08df75c33
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3254 from agrrr3/20201202_UseNonrecursiveMutexForMacOS
    
    Use std::mutex instead of recursive one in Pending.h (hopefully works…


Merge: 6c5dac19d 0d770f3f8
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3251 from agrrr3/20201130_SplitFightersFromShortRangeWeaponsResearch
    
    Split fighter and shortrange techs, pilot balancing


Author: geoffthemedio <geoffthemedio@gmail.com>


    include AppInterface.h rather than forward declaring Universe, ObjectMap, and EmpireManager and getters


Author: Axel Gross <axel.gross@iaeste.at>


    Remove DebugLoggers in Pending


Author: geoffthemedio <geoffthemedio@gmail.com>


    policy should only apply to empire that adopts it


Author: geoffthemedio <geoffthemedio@gmail.com>


    tabs to spaces


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Confederation policy compensate for stability penalty from a planet being disconnected from the capital / admin centres


Author: geoffthemedio <geoffthemedio@gmail.com>


    gave many tech and species production bonuses a minimum stability ("Happiness") threshold of 0, below which the effects don't apply


Author: geoffthemedio <geoffthemedio@gmail.com>


    use named ref, already referenced in stringtable, for Checkpoints max bonus


Author: geoffthemedio <geoffthemedio@gmail.com>


    rounding down some policy costs


Author: geoffthemedio <geoffthemedio@gmail.com>


    made industry / research / influence meter growth proportional to stability between 0 and 5, rather than being on/off at a threshold of 5. basic max rate is still 1 at 5 stability or above.


Author: geoffthemedio <geoffthemedio@gmail.com>


    restrict imperial palace happiness effect to work only if the palace is on an imperial capital planet


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added Imperial Regional Administration that acts like a capital for colony supply distance cost calculations
    -removed Galactic Infrastructure's supply-range boost effect


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Gravitic Architecture only boost supply range of Logistics focused planets


Author: geoffthemedio <geoffthemedio@gmail.com>


    + to • in Imperial Palace description


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made stability bonus / penalty from capital connection depend on distance (-1 per jump, ranges from +5 to -5)
    -made disconnection from capital penalty be a fixed -10
    -Sly and Laenfa have distinct non-distance dependent stability effects


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Sly more stable when not connected to the capital


Author: geoffthemedio <geoffthemedio@gmail.com>


    on Windows, set Python stream encoding to "UTF-8" to hopefully fix crash bug on systems with different encodings set


Author: geoffthemedio <geoffthemedio@gmail.com>


    made enum wrapping logging Trace level


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed empty filter from MSVC project file


Author: geoffthemedio <geoffthemedio@gmail.com>


    try to make stringtable linter happy


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fixed some Imperial Palace named value reference consistency between script and stringtable
    -reformatted Imperial Palace description list of bonuses to multiple lines


Author: geoffthemedio <geoffthemedio@gmail.com>


    reworked Distributed Thought Computing to give a bonus to research-focused planets based on how far away is the furthest ship owned by the planet's empire


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed Artificial Minds tech


Author: geoffthemedio <geoffthemedio@gmail.com>


    added stealth penalty to ships with large numbers of ships in the same system owned by the same empire


Author: geoffthemedio <geoffthemedio@gmail.com>


    made Architectural Psychology cheaper to make its social policy slot easier to get


Author: geoffthemedio <geoffthemedio@gmail.com>


    moved Algorithmic Elegance research effect to a policy, and made also limited by infrastructure


Author: geoffthemedio <geoffthemedio@gmail.com>


    added rule that makes never-detected planets not (detectable regardless of stealth and detection strength) just by having an object in system


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unnecessary check before setting to full visibility


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Dec 18, 2020 - ade8f2e)


Author: geoffthemedio <geoffthemedio@gmail.com>


    added rule to make all objects visible


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove unused variables


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix signed / unsigned comparison warnings


Author: geoffthemedio <geoffthemedio@gmail.com>


    make constants static constexpr


Author: geoffthemedio <geoffthemedio@gmail.com>


    {} around initializer lists to reduce warnings


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Dec 13, 2020 - 1dc73e0)


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix Python API for BuildingType productionCost and Time


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix Python API for canBeProduced


Author: geoffthemedio <geoffthemedio@gmail.com>


    separated defensive fleet aggression, in which fleets will attack in battle but not initiate or blockage, from passive fleet aggression, in which fleets will not attack in battle


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove debug output


Author: geoffthemedio <geoffthemedio@gmail.com>


    Laenfa fuel regrowth and white or blue stars


Author: geoffthemedio <geoffthemedio@gmail.com>


    Sly refuel and repair at planets with own species, without a supply network.


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed trailing tabs


Author: geoffthemedio <geoffthemedio@gmail.com>


    indentation


Author: geoffthemedio <geoffthemedio@gmail.com>


    tabs to spaces


Author: geoffthemedio <geoffthemedio@gmail.com>


    -auto replacement
    -boost::binding with std::ref


Author: geoffthemedio <geoffthemedio@gmail.com>


    use variant instead of any to store ScriptingContext current_value


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace header local EMPTY_COMBAT_INFO with a static getter


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    log ObjectMap construction, which should be rare but probably isn't


Author: geoffthemedio <geoffthemedio@gmail.com>


    explicitly pass Objects()


Author: geoffthemedio <geoffthemedio@gmail.com>


    explicit types, moving


Author: geoffthemedio <geoffthemedio@gmail.com>


    ProductionQueue::Update timing


Author: geoffthemedio <geoffthemedio@gmail.com>


    bind SystemHasNoVisibleStarlanes with parameter by reference, not value


Author: geoffthemedio <geoffthemedio@gmail.com>


    bind WithinJumpsOfOthersCacheHit with parameters by reference, not value


Author: geoffthemedio <geoffthemedio@gmail.com>


    added ScriptingContext constructor overload that takes a const ObjectMap to avoid falling back to storing a copy of the passed-in ObjectMap in the boost::any current_value


Author: geoffthemedio <geoffthemedio@gmail.com>


    refactor scope / activation conditions


Author: geoffthemedio <geoffthemedio@gmail.com>


    Dump formatting


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Native Appropriation policy


Author: geoffthemedio <geoffthemedio@gmail.com>


: moving and pushing


Author: Axel Groß <axel.gross@iaeste.at>


    Can start game and switch default dirs. AI seems broken


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Dec 5, 2020 - af2432c)


Author: Axel Groß <axel.gross@iaeste.at>


    Successfully using mutexes for parsing


Author: geoffthemedio <geoffthemedio@gmail.com>


    added missing "value"


Author: Axel Groß <axel.gross@iaeste.at>


    fixup compile, but broken


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed out-of-universe motivation for awkward game mechanic


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed some "per population" valueref description strings


Author: Axel Gross <axel.gross@iaeste.at>


    fixup parameter use in Pending.h


Author: Axel Gross <axel.gross@iaeste.at>


    fixup order in Pending.h


Author: Axel Groß <axel.gross@iaeste.at>


    Use std::mutex instead of recursive one in Pending.h (hopefully works on MacOS)


Author: Axel Groß <axel.gross@iaeste.at>


    Split fighter and shortrange techs, pilot balancing
    
    * 1st Fighter tech costs 50% more than researching Mass Drivers 2
    * 2nd Fighter tech costs 10% off from researching Lasers+Laser Fighters and takes a turn less to research
    * 3rd Fighter tech costs 10% off from researching Plasma+Plasma Fighters and takes a turn less to research
    * 4th Fighter tech costs 10% off from researching Death Rays+DR Fighters and takes a turn less to research
    
    Pilot skill effect gets upped 50% to give fighters more reason - this should be on par
    * 2nd Fighter tech costs about 90% of researching Lasers+Laser 2
    * bomber damage gets increased about a fourth by a skill level
    * shortrange weapon (level 2) damage gets increased about a fourth by a skill level


Author: geoffthemedio <geoffthemedio@gmail.com>


    timing logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    add And [ Source ] conditions to OwnerHasTech Statistic If conditions to limit the search space to just the empire's capital when deciding the production time of colony buildings.


Author: geoffthemedio <geoffthemedio@gmail.com>


    reworked Stellar Tomography to give bonuses independent of population, but based on the number of research-focused planets in a system, and (still) dependent on star type


Author: geoffthemedio <geoffthemedio@gmail.com>


    debug check and logging


Author: geoffthemedio <geoffthemedio@gmail.com>


    moving from pointers


Author: geoffthemedio <geoffthemedio@gmail.com>


    sprinkling some extra policy slots around the content...


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add parameter to control whether to exclude articles that have a custom category from pedia directory lists
    -set this parameter so that pedia searches will look into text of articles that have custom categories defined


Author: geoffthemedio <geoffthemedio@gmail.com>


    moving strings


Author: geoffthemedio <geoffthemedio@gmail.com>


    -do UserString lookup of policy names when searching pedia
    -minor refactoring of string manipulations


Author: geoffthemedio <geoffthemedio@gmail.com>


    Reduce use of global state getters for Objects() and Empires() by passing explicitly through call chains in pathfinder / system graph initialization, content cost / time evaluations, and probably a few other related cases.


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed seemingly unused variable and looping over its seemingly empty contents


Merge: 0b23206c5 c8aa866e0
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3241 from o01eg/fix-empire-readiness
    
    Fix empire readiness when unset auto turn


Author: O01eg <o01eg@yandex.ru>


    Fix empire readiness when unset auto turn


Merge: 46ccef893 9c9423cbe
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3221 from agrrr3/20201102_TowardsSupportingInvariantNamedValueRefs
    
    Mitigate race conditions, towards supporting invariant named value refs


Author: geoffthemedio <geoffthemedio@gmail.com>


    make terraforming cheaper with policy


Author: geoffthemedio <geoffthemedio@gmail.com>


    tweaking string passing


Merge: 12307c893 e98d86bdd
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3240 from agrrr3/20201124_FixNamedValueUIWin32
    
    Fix named value display on WIN32 (initialisation issue)


Author: Axel Groß <axel.gross@iaeste.at>


    [debug] Remove debug code from NamedValueRefManager::CheckPendingNamedValueRefs


Author: Axel Groß <axel.gross@iaeste.at>


    Declare unchanging member variables const


Author: Axel Groß <axel.gross@iaeste.at>


    Revert "[workaround] disable using named value refs in xenophobic.macros - AI cant seem to find those"
    
    This reverts commit 87d4262ad691596b282d8ae85ac6edc1a266f0da.


Author: Axel Groß <axel.gross@iaeste.at>


    Hard lockdown pending


Author: Axel Groß <axel.gross@iaeste.at>


    Lock on mutex around swap-in of pending values
    
    also removes obsolete raw function
    
    note this locks per Pending, but only on the swap calls
      so direct Wait.. calls will not be synchronized
      and there should be no multiple calls to Swap in the same process
      so it would be weird if fixes the issues


Author: Axel Groß <axel.gross@iaeste.at>


    Fix wrong log statements in FieldType+Manager


Author: Axel Groß <axel.gross@iaeste.at>


    Add missing SpecialsManager to CheckSum calculation


Author: Axel Groß <axel.gross@iaeste.at>


    Call GetNamedValueRefManager().GetCheckSum() last as the other content needs to be finished parsing


Author: Axel Groß <axel.gross@iaeste.at>


    Use std::future inside of NamedValueRefManager to wait for parse to finish
    
    Central definition of named_values.focs.txt parse type in NamedValueRefManager::NamedValueRefParseMap
    
    // Use Pending also for parsing named_values.focs.txt so we can block on it
    AppInterface::StartBackgroundParsing
        if (fs::exists(rdir / "scripting/common"))
            GetNamedValueRefManager().SetNamedValueRefParse(Pending::StartParsing(parse::named_value_refs, rdir / "scripting/common"));
    
    CheckPendingNamedValueRefs() const {
        if (!m_pending_named_value_refs_focs_txt) // here is the Pending to wait on
            return;
        // set the Pending to boost::none, and ignore invalid future if result was get() once
        WaitForPending(m_pending_named_value_refs_focs_txt, /*do not care about result*/true);
    
    NamedValueRefManager::GetValueRef() // and all other function which want access registered vrefs
        if (wait_for_named_value_focs_txt_parse) // if NamedRef with m_is_lookup_only
            CheckPendingNamedValueRefs()         // we might have to wait for all parsing to finish
    
    // if we dont do a pure Lookup dont wait for non-existing vref, in this case its an error
    bool NamedRef<T>::NamedRefInitInvariants()
         if (!vref && !m_is_lookup_only) {
                ErrorLog(); return false;


Author: Axel Groß <axel.gross@iaeste.at>


    Fix formatting


Author: Axel Groß <axel.gross@iaeste.at>


    Review changes 01 - unsupplied influence effect reuses macro as base definition


Author: Axel Groß <axel.gross@iaeste.at>


    [workaround] disable using named value refs in xenophobic.macros - AI cant seem to find those


Author: Axel Groß <axel.gross@iaeste.at>


    Warn instead of error if trying to look up unregistered value refs (as long as this is happened while parsing)


Author: Axel Groß <axel.gross@iaeste.at>


    Fix missing SUPPLY_DISCONNECTED_INFLUENCE_FLAT value ref
    
    SUPPLY_DISCONNECTED_INFLUENCE_FLAT
      could be many things, so rename to
      PLC_CONFEDERATION_SUPPLY_DISCONNECTED_INFLUENCE_FLAT
        even if its long and ugly


Author: Axel Groß <axel.gross@iaeste.at>


    Mitigate race conditions, towards supporting invariant named value refs
    
    * make NamedRef aware if it is a independent lookup
    ** in this case the value ref might not (yet) be registered
    ** else the value ref was just registered before
    
    * mitigate calculation of invariances
    ** if a value ref is not yet registered, try to sleep and retry before giving up
    ** giving up sets the value ref to "not invariant", which means calculation optimisations cant be applied
    ** this will be rare, hopefully only in cases where parse order is wrong
    
    * warn if performance-degradation happens
    
    * Trying to fix checksum mismatches by ignoring all derived in checksum calculation
     Old: all *Invariant were already ignored
     New: ValueRef::Operator m_constant_expr, and m_cached_const_value
    
    Actually waiting for up to a second right now.
    
    Bumps on the way:
     Fix sending temporary from ternary op to Logger:
      Compiled in fedora 32 cmake/gcc. Compiled in travis and appveyor MSVC
      But cmake travis CI sais:
       cannot bind non-const lvalue reference of type ‘const char*&’ to an rvalue of type ‘const char*’
    
    This is a rebase of a squash of agrrr3 629d10d82dfd50874c026b886eceda94539adc5f


Author: Axel Groß <axel.gross@iaeste.at>


    Fix named value display on WIN32 (initialisation issue)
    
    VarText::FOCS_VALUE_TAG was not initialised on WIN32 when the match happened,
    so it tried to match on </> instead of </value>.


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Nov 13, 2020 - 7ec95db)


Merge: d495d5e22 d56965722
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3239 from o01eg/fix-macos-update
    
    Fix slow MacOS homebrew update


Author: oleg <o01eg@yandex.ru>


    Fix slow MacOS homebrew update


Merge: 82c69f395 7ec95dbeb
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3234 from agrrr3/202011013_SelfSustainGainOnlyWithGoodSuitability
    
    Self-sustaining metabolism nerf - population boost only on good planets


Merge: 94ab2f2e0 c876e9d02
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3213 from o01eg/server-auto-turn
    
    Introduce server-side auto-turn


Merge: 7964d0822 24cad63d7
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3232 from Oberlus/NerfTrith
    
    Nerf Trith: medium planet, bad supply&industry


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Nov 8, 2020 - 09463dd)


Author: Axel Groß <axel.gross@iaeste.at>


    Self-sustaining metabolism nerf - population boost only on good planets
    
    Need terraforming for getting the effect.
    
    https://www.freeorion.org/forum/viewtopic.php?f=15&t=11844&p=104297


Author: Oberlus <sicofonte@gmail.com>


    Nerf Trith: medium planet, bad supply&industry


Author: O01eg <o01eg@yandex.ru>


    Introduce server-side auto-turn


Merge: 10b1b4039 b2249f427
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3231 from o01eg/fix-concede-turn
    
    Fix turn advance when last player conceded


Author: O01eg <o01eg@yandex.ru>


    Fix turn advance when last player conceded


Merge: e54ce48b9 f69f667d5
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3230 from agrrr3/20201111_FixShowOptionalNamedValueRefs
    
    Fix display of named value refs without string table entry


Author: geoffthemedio <geoffthemedio@gmail.com>


    swap order of diplomatic statuses and empires being serialized, so that status lookups during empire deserialization can succeed


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't look up empire names in stringtable


Author: Axel Groß <axel.gross@iaeste.at>


    Fix display of named value refs without string table entry


Merge: fa112c8b5 09463dd0a
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3222 from agrrr3/20201102_MakeOrganicHullVerySmall
    
    Make Organic Hull a useful very small hull


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Nov 7, 2020 - 02ba105)


Author: Axel Groß <axel.gross@iaeste.at>


    Make Organic Hull a useful very small hull
    
    * Cheap, fast, with lots of fuel and versatile
    * almost no structure
    * 1 internal, 1 external
    * normal detection, great fuel efficiency


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix parser tests


Author: geoffthemedio <geoffthemedio@gmail.com>


    -get new fleet aggression from old fleet when a ship is moved and is armed
    -moving pointers when passing


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    fix "ERROR:" in design name text of ships with no species in FleetWnd


Merge: c127352e9 02ba1058d
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3218 from Oberlus/NamedValues3-Influence
    
    Named Values for Influence and follow-ups


Author: Oberlus <sicofonte@gmail.com>


    - Named Values for Influence modifiers
    - Follow-ups and grooming
    - Addition of Research Focus pedia page


Merge: 8e6fbdb63 5965e83ab
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3184 from devnexen/haiku_port
    
    Haiku support proposal.


Merge: 46fbce4a5 4b18b24b1
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3216 from Oberlus/NamedValues2-Industry
    
    Named Values for most Industry modifiers


Author: geoffthemedio <geoffthemedio@gmail.com>


    made logging trace


Author: Oberlus <sicofonte@gmail.com>


    Named Values for most Industry modifiers - grooming


Merge: 732339764 7ee205b2f
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3193 from Oberlus/ReworkPriorities
    
    Reworked priorities and grooming


Author: Oberlus <sicofonte@gmail.com>


    Reworked priorities and grooming
    
    - All Set(Current)Meter after all SetTarget/MaxMeter
    - For that, split some EffectsGroups with mixed meters
    - Priorities for first&second target meter scaling
    - Removed references to DEFAULT_PRIORITY
    - Grooming


Merge: 5c5b9dcd7 6e63b91ba
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3210 from agrrr3/20201027_CaseInsensitiveValueRefs
    
    case sensitive value refs


Merge: 66d27c21f 30c0c9f4c
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3219 from Oberlus/LowerMonsterSpecialNativeFrequency
    
    Lower monster&special freq., fine-tuned native freq.


Author: Axel Groß <axel.gross@iaeste.at>


    [s] no obvious errors; Max(enum) not considered arithmetic, max(int) is arithmetic


Author: Axel Groß <axel.gross@iaeste.at>


    [s] almost there


Author: Axel Groß <axel.gross@iaeste.at>


    [s] arithmetic functions abs,min,max,round...; labels min,max in GameRules; Statistic Min,Max; other stuff


Author: Axel Gross <axel.gross@iaeste.at>


    [s] bulk, all labels done


Author: Axel Gross <axel.gross@iaeste.at>


    [s] content object; label id


Author: Axel Groß <axel.gross@iaeste.at>


    [s] content corrections


Author: Axel Groß <axel.gross@iaeste.at>


    [s] huge load


Author: Axel Groß <axel.gross@iaeste.at>


    [s] environment


Author: Axel Groß <axel.gross@iaeste.at>


    [s] location destination


Author: Axel Groß <axel.gross@iaeste.at>


    [s] value labels, immediate Value, some stray tokens


Author: Axel Groß <axel.gross@iaeste.at>


    [s] stray condition label


Author: Axel Groß <axel.gross@iaeste.at>


    [s] damage, shots labels; Capacity, Damage enums


Author: Axel Groß <axel.gross@iaeste.at>


    [s] consumption


Author: Axel Groß <axel.gross@iaeste.at>


    [s] condition


Author: Axel Groß <axel.gross@iaeste.at>


    [s] colour


Author: Axel Groß <axel.gross@iaeste.at>


    [s] tags mountableSlotTypes combatTargets


Author: Axel Groß <axel.gross@iaeste.at>


    [s] missing stackinggroup


Author: Axel Groß <axel.gross@iaeste.at>


    [s] capacity


Author: Axel Groß <axel.gross@iaeste.at>


    [s] graphics priority ..


Author: Axel Groß <axel.gross@iaeste.at>


    Add "Name" token for bound values, else use "name" token for labels


Author: Axel Groß <axel.gross@iaeste.at>


    Make lexing case sensitive (patch from geoff)


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Nov 1, 2020 - d378caa)


Author: Oberlus <sicofonte@gmail.com>


    Lower monster&special freq., fine-tuned native freq.


Author: geoffthemedio <geoffthemedio@gmail.com>


    name label parsers with the label text, so that parse errors will report accordingly what was expected


Merge: c1232326b b96ded36b
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3214 from o01eg/fix-macos
    
    Fix MacOS CI


Author: oleg <o01eg@yandex.ru>


    Remove testing build


Author: geoffthemedio <geoffthemedio@gmail.com>


    switch some log lines to trace level


Merge: 3c632b9bd 66ab9bba4
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3195 from Oberlus/NamedValues-Research
    
    Named Valuerefs for Research modifiers


Merge: 7deb6c7de 8728d5c76
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3170 from Oberlus/RebalanceDefensiveTroops
    
    Make Bad..Ultimate Def. Troops start at minimum 6 troops


Author: geoffthemedio <geoffthemedio@gmail.com>


    -use visitor and check_if_any to optimize EmpireEliminated



Merge: ee8610a31 9818fcf8d
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3215 from agrrr3/20201031_InformOfOptionalValueStringtableReference
    
    Inform about missing optional "value" reference (instead of error)


Author: Axel Groß <axel.gross@iaeste.at>


    Inform about missing optional "value" reference (instead of error)


Author: geoffthemedio <geoffthemedio@gmail.com>


    default initializing


Author: oleg <o01eg@yandex.ru>


    Try to fix GLEW search


Author: O01eg <o01eg@yandex.ru>


    Fix MacOS CI


Merge: 0ffc3c699 fed6dbadb
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3212 from o01eg/cleanup-gigi-msvc
    
    Cleanup GiGi usage from MSVC project


Author: O01eg <o01eg@yandex.ru>


    Cleanup GiGi usage from MSVC project.


Author: Oberlus <sicofonte@gmail.com>


    Named Values for Research modifiers


Author: Oberlus <sicofonte@gmail.com>


    - Just-colonized planets start with 6 troops
    - No Garrison techs troop regen on just-conquered planets
    - Rebalance troop bonuses from garrison and cyborg techs
    - Use named values in FOCS and stringtables
    - Ensure Infrastructure 1 on just-conquered planets


Merge: d720f84e0 180d18447
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3206 from agrrr3/20201024_ShowNamedValueUserStringOnlyWhenHovering
    
    show named value user string only when hovering


Merge: ffe5a4f33 9bb9c0ae8
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3209 from o01eg/auto-iterate-enum
    
    Iterate over all FO_ENUM values


Author: O01eg <o01eg@yandex.ru>


    Use static map instead of constexpr initializer_list


Author: O01eg <o01eg@yandex.ru>


    Debug wrapper crash


Author: O01eg <o01eg@yandex.ru>


    Use new iterator for python's buildType


Author: O01eg <o01eg@yandex.ru>


    Remove in-code examples and document it


Author: O01eg <o01eg@yandex.ru>


    Implement getter overloadable function for enum values


Author: O01eg <o01eg@yandex.ru>


    Implement Values functon for enum.


Author: O01eg <o01eg@yandex.ru>


    Design automatic FO_ENUM iteration


Merge: 070173053 96220241d
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3208 from o01eg/python-refactoting
    
    Server's python refactoring


Author: Axel Groß <axel.gross@iaeste.at>


    Do not check existence of optional keys (e.g. for [[value XXX]] tag)


Author: O01eg <o01eg@yandex.ru>


    Small server's python refactoring


Author: Axel Groß <axel.gross@iaeste.at>


    Change named value UI: ignore missing UserStrings, change format
    
    * missing sitrep entries are now handled like empty ones
    * named value text now always shows only the calculated value
    * named value tooltip shows the calculated value, the optional userstring enty, and the calculation definition (e.g. "0.5000 (per fuel tank: 0.5)"
    * bugfix: encyclopedia panel shows the value text as it is shown in other places


Author: Axel Groß <axel.gross@iaeste.at>


    Use expr instead of primary_expr when parsing NamedInteger in the middle of another valueref - to fix precedence
    
    This is a followup for fixing issue #3188
          NamedReal/NamedInteger value declaration precedence is odd
    
    Before it seemed that it was working for Integer, but that was not the case.


Author: geoffthemedio <geoffthemedio@gmail.com>



    -TODO


Author: geoffthemedio <geoffthemedio@gmail.com>


    -pass system ids by reference not value

    -commented out declarations of unimplemented functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    make newly produced ship fleets aggressive or passive instead of obstructive or passive


Author: geoffthemedio <geoffthemedio@gmail.com>


    clicking influence icon toggles the government window


Merge: dc9cf2e9d 2bb981b02
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3201 from o01eg/cmake-build-components
    
    Use separate build option for each component


Author: O01eg <o01eg@yandex.ru>


    Use separate build option for each component


Merge: e5367c52a 0bdb05921
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3200 from o01eg/ungigi-cmake
    
    Don't use GG in a headless build


Author: O01eg <o01eg@yandex.ru>


    Don't use GG in a headless build


Merge: 6b8c101a1 535ccad86
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3197 from o01eg/ungigi-remove-gg-enum
    
    Removes usage of GG_ENUM in common and server code.


Author: O01eg <o01eg@yandex.ru>


    Restore EnumsFwd.h file


Author: O01eg <o01eg@yandex.ru>


    Use enum class


Author: O01eg <o01eg@yandex.ru>


    Disable alternative string representation for FO_ENUM


Author: O01eg <o01eg@yandex.ru>


    Removes usage of GG_ENUM.
    
    Backed by adrianbroher's enum macros.


Merge: 956cec730 b9ec11f17
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3198 from o01eg/ungigi-remove-gg-utf8
    
    Remove usage of GiGi's utf8 in common and server code


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: Miron Moderau <em3@minions.org.pl>


    GiGi: Added missing include to Clr.h
    
    In file GG/GG/Clr.h function std::min is used. This function is declared
    in <algorithm>. The standard library header is not included in Clr.h.
    
    While this seems to build fine, it is essentially an error. It might
    break the build when include directives order in other files or compiler
    version changes.
    
    See: https://en.cppreference.com/w/cpp/algorithm/min
    See also:
    https://stackoverflow.com/questions/19897722/why-can-stdmax-and-stdmin-still-be-used-even-if-i-didnt-include-algorithm


Merge: 1a20542a2 3641ac965
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3196 from o01eg/ungigi-remove-gg-clr-common
    
    Use std::array instead of GG::Clr in common and server code


Author: O01eg <o01eg@yandex.ru>


    Restore compatibility with old saves.


Author: O01eg <o01eg@yandex.ru>


    Remove GiGi color from server code.


Author: O01eg <o01eg@yandex.ru>


    Remove last usage of GiGi color from common code.


Author: O01eg <o01eg@yandex.ru>


    Remove GiGi color from parser code.


Author: O01eg <o01eg@yandex.ru>


    Fix save-load games.


Author: O01eg <o01eg@yandex.ru>


    Use std::array instead of GG::Clr in common empire code.


Author: O01eg <o01eg@yandex.ru>


    Remove usage of GiGi's utf8 in common and server code


Merge: e9656f2e5 1614a93e8
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3194 from agrrr3/20201018_Fix3188_BadPrecedence_NamedInTheMiddle_NamedReal
    
    Use expr instead of primary_expr when parsing NamedReal in the middle…


Merge: ecc135324 a2437b2f1
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3185 from Oberlus/FixGrowthPredictInColoSitRep
    
    Colo threshold sitrep takes growth rate from macro


Author: Oberlus <sicofonte@gmail.com>


    Colo threshold sitrep takes growth rate from macro


Author: Axel Groß <axel.gross@iaeste.at>


    Use expr instead of primary_expr when parsing NamedReal in the middle of another valueref - seems to fix precedence
    
    Not sure what exactly is the difference, but it seems to fix the precedence and not to break anything.
    
    Intended to fix issue #3188
      NamedReal/NamedInteger value declaration precedence is odd
    
    Issue:
    
    When writing this:
    (NamedReal name = "GARRISON_2_MAXTROOPS_EFFECT" value = 2 * [[TROOPS_PER_POP]])
    
    This is intended:
    (NamedReal name = "GARRISON_2_MAXTROOPS_EFFECT" value = (2 * [[TROOPS_PER_POP]]))
    
    But this is what we get:
    ((NamedReal name = "GARRISON_2_MAXTROOPS_EFFECT" value = 2) * [[TROOPS_PER_POP]])
    
    Analysis was:
    
    It seems precedence is working for integer, but not for floats:
    
    (NamedReal name = "TWO_BY_THREE" value = 2 * 3) registers 2.0
    
    (NamedReal name = "TWO_BY_THREE" value = 2.0 * 3.0) registers 2.0
    
    (NamedInteger name = "TWO_BY_THREE" value = 2 * 3) registers 6
    
    Also it seems this precedence is working for top level named value refs, so the only thing known to be broken is name-in-the-middle Real value refs.


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unused variable


Author: geoffthemedio <geoffthemedio@gmail.com>


    -put ExtractTurnUpdateMessageData call into detached thread that posts a deferred event when finished
    -added TurnDataUnpackedNotification constructor taking a pointer to UnpackedData
    -made using declaration private


Author: geoffthemedio <geoffthemedio@gmail.com>


    added deferred event queue to HumanClientApp


Author: geoffthemedio <geoffthemedio@gmail.com>


    added ExtractTurnUpdateMessageData overload taking just text


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass messages by value / with move


Author: geoffthemedio <geoffthemedio@gmail.com>


    -explicitly set LanguageStandard to stdcpp14 in MSVC project files
    -remove multiprocess compile limit on Parsers project


Author: geoffthemedio <geoffthemedio@gmail.com>


    added Message::Reset to avoid needing to default construct and assign


Author: geoffthemedio <geoffthemedio@gmail.com>


    -HandleMessage takes Message&&
    -try-catch around react calls in HandleMessage


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add ClientNetworking::SendSelfMessage function that puts a message directly onto the local client's message queue
    -pass messages with move, related grooming
    -made ClientNetworking constructor protected, to avoid accidentally creating a temporary one


Author: geoffthemedio <geoffthemedio@gmail.com>


    avoid local temporary


Author: geoffthemedio <geoffthemedio@gmail.com>


    split receiving and unpacking turn update data into separate HumanClientFSM events


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made id allocator pointers non-const and tweaked how they are reset
    -added Universe::operator=(Universe&&)


Author: geoffthemedio <geoffthemedio@gmail.com>


    added self-assignment check to EmpireManager::operator=(EmpireManager&&)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made SupplyManager default constructor explicitly default
    -added SupplyManager::operator=(SupplyManager&&)
    -added assignment-to-self check to SupplyManager::operator=(const SupplyManager&)


Author: geoffthemedio <geoffthemedio@gmail.com>


    emplacing


Author: geoffthemedio <geoffthemedio@gmail.com>


    added IDAllocator::operator=(IDAllocator&&)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -tweaked some TraceLogger calls to put more stuff into lambdas
    -capture scope condition instead of full EffectsGroup into lambda
    -bind const instead of non-const references to EmpireManager contents in for loops
    -replaced dynamic_pointer_cast with static_cast


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    avoided dynamic_cast


Author: geoffthemedio <geoffthemedio@gmail.com>


    made aggression toggle click graphic resemble current setting rather than next setting


Author: geoffthemedio <geoffthemedio@gmail.com>


    -inhibit state change signals when setting fleet aggression in FleetWnd so that the whole FleetWnd doesn't refresh (and reset its scroll position)
    -reverse order of cycling through aggressions


Merge: cd7ecf35c d90336ad1
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3187 from cheese1/patch-2
    
    change to python3


Author: geoffthemedio <geoffthemedio@gmail.com>


    move implementation of ValueRef::EvalAsString into header


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Oct 11, 2020 - 52777d9)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -add icons for obstructive fleets in FleetWnd



Author: geoffthemedio <geoffthemedio@gmail.com>


    fix comment: refer also to obstructive


Author: geoffthemedio <geoffthemedio@gmail.com>


    explicitly make AI ships default obstructive


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed NewFleetAggression enum and used FleetAggression in its place


Author: geoffthemedio <geoffthemedio@gmail.com>


    minor grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    swapped order of FleetAggression enums so that >= type comparisons make sense


Author: geoffthemedio <geoffthemedio@gmail.com>


    store and accept FleetAggression instead of boolean in AggressiveOrder


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    -exposing FleetAggression to Python API
    -duplicating existing Python infrastructure for enums


Author: geoffthemedio <geoffthemedio@gmail.com>


    pass FleetAggression instead of bool when constructing NewFleetOrder in AIWrapper


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store FleetAggression instead of bool to indicate aggression in NewFleetOrder
    -add strings for FleetAggression values and related string references for use in FleetWnd


Author: geoffthemedio <geoffthemedio@gmail.com>


    -added SetObstructive support to SetAggression parser
    -removed SetAggression constructor taking a bool


Author: geoffthemedio <geoffthemedio@gmail.com>


    set aggression based on contents of new fleet, not old fleet


Author: geoffthemedio <geoffthemedio@gmail.com>


    switched SetAggression effect internal storage to FleetAggression instead of bool


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed Fleet::SetAggressive and replace with calls to Fleet::SetAggression


Author: geoffthemedio <geoffthemedio@gmail.com>


    more blockade and supply propagation checks with Obstructive instead of Aggressive


Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    made blockade checks test Obstructive rather than Aggressive


Author: geoffthemedio <geoffthemedio@gmail.com>


    remove intermediate bool variables when serializing FleetAggression


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed Fleet::m_aggressive and used m_aggression instead


Author: geoffthemedio <geoffthemedio@gmail.com>


    forward declare FleetAggression


Author: geoffthemedio <geoffthemedio@gmail.com>


    WIP adding parsing for FleetAggression


Author: geoffthemedio <geoffthemedio@gmail.com>


    added FleetAggression enum in Fleet.h


Author: cheese1 <cheese@nosuchhost.net>


    change to python3


Author: David Carlier <devnexen@gmail.com>


    Haiku support proposal.


Merge: 38f68b202 5035f8eaa
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3183 from agrrr3/202010__3181__FixMismatchedTags
    
    Tag template instantiations of NamedRef also as struct like declared


Author: Axel Groß <axel.gross@iaeste.at>


    Tag the template instantiations of NamedRef also as struct like the declaration


Author: geoffthemedio <geoffthemedio@gmail.com>


    added pedia articles listing native and playable species


Merge: 07d308bb0 4ea8175bf
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3179 from Oberlus/GiveTrithInfFocus
    
    Give Trith influence focus


Author: Oberlus <sicofonte@gmail.com>


    Give Trith influence focus


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Sep 30, 2020 - c1df2a7)


Author: geoffthemedio <geoffthemedio@gmail.com>


    added example spawn rate and limit to Raaagh


Author: geoffthemedio <geoffthemedio@gmail.com>


    exposed Species spawn rate and limit to Python API


Author: geoffthemedio <geoffthemedio@gmail.com>


    trivial grooming


Author: geoffthemedio <geoffthemedio@gmail.com>


    replace dynamic casts with switch based on ObjectType result


Author: geoffthemedio <geoffthemedio@gmail.com>


    added species spawn rate / limit


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed local GetSpecies declarations to hopefully fix link error


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed old MSVC 2015 compatability code


Author: geoffthemedio <geoffthemedio@gmail.com>


    -moved storage of species homeworlds and opinions into SpeciesManager from Species itself
    -various related function reworks, additions, and removals


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store parsed species info in static variables at file scope rather than as members of SpeciesManager
    -protect access to static species info with lock_guard


Author: geoffthemedio <geoffthemedio@gmail.com>


    -expose template type of Pending as result_type



Author: geoffthemedio <geoffthemedio@gmail.com>


    made SpeciesManager non-singleton and added getters to AppInterface


Merge: 9e23199d1 981fad9a2
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3000 from agrrr3/20200602_ReinforcedHullEffectNamedValueRef
    
    Reference Named ValueRefs in stringtables


Author: geoffthemedio <geoffthemedio@gmail.com>


    backwards compatible save loading of EmpireManager


Author: geoffthemedio <geoffthemedio@gmail.com>


    -made CombatLogManager constructor default in header



Author: geoffthemedio <geoffthemedio@gmail.com>





Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unnecessary HandleTurnUpdate functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unused GetUniverseObject functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unused EmpireKnownObject functions


Author: geoffthemedio <geoffthemedio@gmail.com>


    made EmpireManager store and return empires in shared_ptr


Author: Axel Groß <axel.gross@iaeste.at>


    Add invariance pattern to pedia listing of named value refs
    
    InvariancePattern is a pattern matching a regex [Rr][Ll][Ss][Tt][Ii][Cc]
    
    The invariance pattern of a value ref has the following meaning:
    R iff RootCandidateInvariant (else r)
    L iff LocalCandidateInvariant (else l)
    S iff SourceInvariant (else s)
    T iff TargetInvariant (else t)
    I iff it is SimpleIncrement (else i)
    C iff it is a ConstantExpr (else c)


Author: Axel Groß <axel.gross@iaeste.at>


    Review fixes 06 - StringResult -> EvalAsString


Author: Axel Groß <axel.gross@iaeste.at>


    Cleanup


Author: Axel Groß <axel.gross@iaeste.at>


    Move helpers from header into free functions in anonymous namespaces, also cleanup


Author: Axel Groß <axel.gross@iaeste.at>


    [Test - Named Value Refs] pedia category (was review fixes 06)


Author: Axel Groß <axel.gross@iaeste.at>


    Show also registration type for named value refs in pedia


Author: Axel Groß <axel.gross@iaeste.at>


    Make *Invariant and related functions virtual and delegate from NamedRef to looked up value ref


Author: Axel Groß <axel.gross@iaeste.at>


    Clean up logging, wording and comments


Author: Axel Groß <axel.gross@iaeste.at>


    NamedRef passes SetTopLevelContent on to named value ref if already registered, also ignore subsequent calls to SetTopLevelContent
    
    * passing the top level content makes named-in-the-middle value refs work with CurrentContent
    ** for all other cases NamedRef should not pass the top level content on, but it does not know if it gets instantiated named-in-the-middle
    * the first top level contents "sticks", invoking SetTopLevelContent more than once gets ignored
    ** this prevents NamedRef usage to overwrite the real top level content
    
    a alternative implementation could be to tell the NamedRef it is named-in-the-middle or not from the parsing


Author: Axel Groß <axel.gross@iaeste.at>


    Log error if trying to use CurrentContent in named_values.focs.txt


Author: Axel Groß <axel.gross@iaeste.at>


    st-tool does not like single-line text in triple-quotes


Author: Axel Groß <axel.gross@iaeste.at>


    Add game rule name to ComplexVariable<int|bool|string|string[]>::Dump


Author: Axel Groß <axel.gross@iaeste.at>


    Support NamedValueLookup (ValueRef::NamedRef) in Enum parsing


Author: Axel Gross <axel.gross@iaeste.at>


    Support naming and looking up ValueRef<double> and ValueRef<int> in order to single-source calculated values for game, UI,and AI (squash review 04)
    
        a configuration file default/scripting/common/named_values.focs.txt for defining named value refs
        a NamedInteger definition in that file that takes a string name and a ValueRef<int> value as parameter.
        a NamedReal definition in that file that takes a string name and a ValueRef<double> value as parameter.
        a NamedEnvironment definition in that file that takes a string name and a ValueRef<PlanetType> value as parameter.
        a NamedPlanetType definition in that file that takes a string name and a ValueRef<PlanetType> value as parameter.
    
    Also in normal focs and macro files one can use:
    
        a NamedRef ValueRef which takes a string name as parameter. This can be used to look up and eval a registered value ref.
             one variant NamedValueLookup which looks in all registries for a registered valueref and as that is sometimes ambiguous
                         NamedRealLookup which looks in the double value ref registry
                         NamedIntegerLookup which looks in the int value ref registry
        a name-in-the-middle-ValueRef definition named NamedReal which takes a string name and a ValueRef<double> value as parameters. This registers the given value ref and inserts a NamedRef instead.
        a name-in-the-middle-ValueRef definition named NamedInteger which takes a string name and a ValueRef<int> value as parameters. This registers the given value ref and inserts a NamedRef instead.
    
    The encyclopedia features an entry "Named Value Refs" for showing all registered value refs. This is helpful for scripting.
    
    Currently use is showcased for number-of-combat-bouts and fuel and reinforced hull techs. The named_values.focs.txt is used for the reinforced hull bonus (although that tech should use a name-in-the-middle valuref as that tech is the single place where the value is used). The name-in-the-middle functionality is shown for fuel tech in fuel.macros-using named_values one would have to make an explicit entry for each of the techs.
    The combat bouts NUM_COMBAT_ROUNDS showcase the NamedInteger and use in encyclopedia.
    
    Registered value refs can be shown via [[value REGISTERED_VALUEREF_NAME]] in encyclopedia/stringtables (e.g. [[value SHP_REINFORCED_HULL_BONUS]]).
    Also one can show these in sitrep messages (e.g. [[value SHP_REINFORCED_HULL_BONUS]] or sitrep tags in stringtables: %value%, %value:tagnamedifferentfromvalue%, ) with a mouseover effect. The mouseover shows the ValueRef->Description.
    
    Restrictions
    * Currently one also needs to define the relevant sitrep entry (e.g. SHP_REINFORCED_HULL_BONUS) - else you get errors. This might be the right thing. I use it to give some textual extra info which might be the wrong thing.
    * In some cases rendering fails/is inconsistent, e.g. the tooltip for the fuel tank part.
    * AI support is not implemented
    * FOCS error info is sometimes not helpful
    * naming of not object-invariant (e.g. source-invariant) value refs works but is not officially supported and will give a warning in the log file
    * named toplevelcontent-dependent valuerefs will not work!!!
    
    Feature overview
    * Two ways of registering value refs under
    ** NamedInteger, NamedReal top level definitions in default/scripting/common/named_values.focs.txt (via NamedValueRefParser)
    ** NamedInteger, NamedReal definitions for giving valuerefs in place a name (value pass-through aka Named-in-the-middle via int/double arithmetic parsing)
    * Three ways of using named value refs
    ** a generic Lookup value ref - Use NamedValueLookup name = <string> syntax for referencing named ValueRefs
    ** specialised typed versions of that NamedIntegerLookup and NamedRealLookup
    ** in place use via NamedInteger/NamedReal
    * Support of [[value ...]], %value% and %value:othertagname% in sitrep message definitions
    ** e.g. %value% should use sitrep tag "value"
    ** e.g. %value:boost% should use sitrep tag "boost"
    * Support of [[value ...]], in pedia/userstring stringtable definitions
    * Use NamedReal Name-in-the-middle for fuel tech upgrades and FU_BASIC_TANK, showcases macro use in fuel.macros
    * showcase for NamedInteger: fighter combat bouts
    * ValueRef<T> for all T with is_enum<T> is supported in registration, lookup, display. only parser support is missing
    
    Implementation Notes
    * NamedRef and NamedValueRefManager are both declared/defined in NamedValueRefManager.h/.cpp
    * there are internally three maps used as registry: one for ValueRef<double>, one for ValueRef<int> and one for all other ValueRefBase instances
    * Uses virtual ValueRefBase::StringResult to get a string representation of the resulting value of a valueref evaluation
    * Register and look up value refs at the NamedValueRefManager singleton
    * SHP_REINFORCED_HULL adds SHP_REINFORCED_HULL_BONUS name for ValueRef
    ** Note: reusing the Named ValueRef name (e..g. by macro) leads to undefined behaviour
    * added support in VarText and (CUI)LinkText
    * Registered 'value' internal reference with st-tool
    * Show almost acceptable text and tooltip for value tags
    * use specialised, configurable color for value tags
    * implementation was type confusing and we are usually handling functor-wrapped--Movable-wrapped--pointer-to--typed-valueref-subtypes
    ** adapting functions using boost macro worked best for getting control and sensible error messages
    * sometimes the parser would get lost in different parse paths, so the typed versions were introduced
    * note that valuerefs are parsed multiple times (and different number of times, e.g. reinforced hull tech seems to be parsed four times)
    ** this tries to retrigger registration in NamedValueRefManager::RegisterValueRef
    ** I keep the first registration and write an error message to the log about the skipping. So the first created one is the only one in use, later ones get destroyed.
    * this version does not use the asynchronous Pending mechanism for parsing of named_values.txt anymore. This leads to clunky impl in the AppInterface.
    * implicit template instantiation does not seem to work in all cases, needed to add quite a lot explicit instantiations
    * e.g. the SHP_REINFORCED_HULL_BONUS value is a good example for a value should be defined in the tech file
      It does not make sense to have all that definitions in named_values (and it will be a lot) instead of the place
      where you would actually need/use those.
    
    Added error keys
    * VarText returns UserString("UNKNOWN_VALUE_REF_NAME")
    * NamedRef::Description and ::Dump  returns UserString(NAMED_REF_UNKNOWN)
    * STRINGRESULT_UNSUPPORTED_TYPE_OF_VALUEREF_RESULT
    
    Todo
    * tooltip for tank part in ship designer is suboptimal
    * showing real numbers is inconsistent
    * encyclopdia entry for tank part looks good
    * not clear if showing "per fuel tank part" makes sense
    * AI (not in this PR)
    * make the UI work without extra stringtable entries
    * Check error user strings


Author: geoffthemedio <geoffthemedio@gmail.com>


    reorder initializer list


Author: geoffthemedio <geoffthemedio@gmail.com>


    -remove unused variable
    -move strings from temporary container


Author: geoffthemedio <geoffthemedio@gmail.com>


    wrapped the strings used in GameRules::Add calls in UserStringNop


Author: geoffthemedio <geoffthemedio@gmail.com>


    removed unused Universe::AllObjectsVisible() and m_all_objects_visible


Author: geoffthemedio <geoffthemedio@gmail.com>


    move encoding empire tracking out of Universe to a free function declared in Serialize.h


Author: Ouaz <Ouaz@users.noreply.github.com>


    Update fr.txt
    
    - On par with latest en.txt (Sep 20, 2020 - d1b16ca)


Author: geoffthemedio <geoffthemedio@gmail.com>


    -get IDs instead of pointers to fleets
    -store raw pointer locally



Author: geoffthemedio <geoffthemedio@gmail.com>


    -removed unneeded vector of Fleet pointers
    -storing raw pointers locally
    -avoid string copies


Author: geoffthemedio <geoffthemedio@gmail.com>


    -fix storing reference to string when original value was needed, which caused focus drops to always appear on planets when they could be colonized
    -pass and store raw pointers locally
    -emplacing
    -reserving



Author: geoffthemedio <geoffthemedio@gmail.com>


    remove declarations from header that aren't used elsewhere


Author: geoffthemedio <geoffthemedio@gmail.com>


    -store raw pointers locally
    -avoid string copy



Author: geoffthemedio <geoffthemedio@gmail.com>


    added to ObjectMap:
    -findIDs : returns IDs, rather than pointers to, objects matched by visitor
    -count : returns number of objects matched by visitor
    -check_if_any : returns true if any object was matched by visitor


Author: geoffthemedio <geoffthemedio@gmail.com>


    -moving string



Author: geoffthemedio <geoffthemedio@gmail.com>


    Abbreviated UI labels for two autosave options


Author: geoffthemedio <geoffthemedio@gmail.com>


    don't need to put pointers to objects in property values, can store in simple vector instead


Merge: 4c9acdd64 48791780d
Author: O01eg <o01eg@yandex.ru>


    Merge pull request #3173 from freeorion/require_min_boost160
    
    Bump minimum Boost version from 1.58 to 1.60


Merge: 4ce175882 505f8bd58
Author: Geoff <geoffthemedio@users.noreply.github.com>


    Merge pull request #3174 from o01eg/fix-boost-1-74
    
    Fix compilation for boost 1.74


Author: O01eg <o01eg@yandex.ru>


    Fix compilation for boost 1.74






### Key Changes

- Added a government policies system
    - Policies have various positive or negative effects on an empire
    - Policies represent various social, economic, and military ideas and ideals
    - Empires have limited slots in which policies can be adopted
    - Slots are unlocked by techs, buildings, other policies, ships, species or other content
- Gave species likes and dislikes
    - Buildings, policies, or specials nearby or in an empire affect their planet stability
- Made planet stability have more consequences
    - More effects depend on stability levels
    - Low planet stability causes rebel troops to appear
    - Rebel troops can cause a planet to leave an empire
- Added influence resource
    - Used to adopt policies
    - Going into debt will reduce planet stability
- Balance adjustments for buildings, techs, policies, and species effects
- Combats default to 4 bouts, with ship structure and damaged adjusted accordingly
- Python 3.7+ is now supported and required. 


### Detailed Changelog


#### Graphics / Interface

- Added another star forming nebula appearance
- Set minimum window sizes on design screen
- Optimized pedia searching
- Show + or - instead of brackets around second number (change) in StatisticIcon
- Don't show planet type wheel for asteriods and gas giant pedia pages
- Fixed extraneous precision in graph axis labels
- Allow galaxy setup panel of multiplayer lobby to scale with window size
- Fixed message color in chat history
- Made tab bar button size flexible with font size
- Disabled queue popup commands while order issuing is disabled
- Fixed hang when the production list is refreshed while a popup menu is open
- Added display of config and log directory on options directories tab
- Added a list of issued orders on the player's empire's pedia page
- Don't hide meter icons when the output is negative
- Fixed issue with multiplayer empire lists with eliminated empires when loading games



#### Content and Balance

- Government
    - Added policies

- Ships
    - Ship structure and damage adjusted for 4 bout combats
    - Added ROBOTIC_HULL tag to Space Flux Bubble hull
    - Fixed Sly refueling detection of systems with gas giants
    - Various cost rebalancing
    - Apply ship weapon damage rule scaling to species weapon bonuses

- Planets
    - Many building and species balance adjustmens along with new government systems
    - Add precognitive detection to Fulver, giving basic visibility to starlane connected planets
    - Asteroid processor and Asteroid Reformation processor now remove themselves if their planet is not an asteroid
    - Remove InterSpecies academy location requirement dependence on preferred (now default) focus
    - Made planet max shields not depend on recent combats in system

- Fields
    - Made made star forming nebulae smaller, reduced speed and detection, increased stealth, limited number generated
    - Added Void rift
    - Added Nanite Swarm
    - Added Meteor Blizzard
    - Adjusted Molecular Cloud speed and size
    - Adjusted Ion Storm speed
    - Adjusted field spawning to be closer to the galaxy centre during universe generation

- Empires
    - Adjusted info shared between allied and non-allied empires

- Pedia
    - Fixed placement limit documenation for InterSpecies academy
    - Documented Planetary Starlane Drive
    - Additional entries for planetary focus game concept
    - Additional text added for Spatial Distortion, Industry, Logistics, Planet Drive, and Psychic Domination
    - Added an "All Species" list in the species article
    - Improved imperial stockpile distribution documentation

- Stringtables
    - Updated translations: French
    - Cleaned up some unused strings
    - Avoid referring to the player in the second person ("you")


#### AI

- AI manages influence and adopts policies
- Devalued Gaia special as Sly
- Corrected colony pod turns_to_build when Lifecycle Manipulation is available


#### Other Features

- Added an option to save game after player issued orders
- Renamed Trade resource to Influence
- Treat empires without population and ships as eliminated


#### Other Bug Fixes

- Crashes or Disconnects
    - Fixed server freeze when disconnecting a player
    - Fixed potential denial of service issue on server
    - Fixed crash when sorting UI lists
    - Fixed a crash if a fleet ended up with no previous or next system

- Gameplay
    - Fixed bombardment not working if ships only have bombardment weapons

- Content
    - Fixed Gaia special planet type selection
    - Fixed Artificial Black Hole generating multiple sitreps
    - Fixed Distortion Focus planet proximity check
    - Removed some redundant tech prerequisites
    - Fixed multiple sitreps appearing if multiple nova bombs are simultaneously detonated
    - Removed pointless damage boost for piloting for Flak

- Fixed Python logging memory leak



#### Technical / Internal

- Dependencies and Versions
    - Raised C++ language version to C++17
    - Moved to compiling with Visual Studio 2019 or 2022 on Windows

